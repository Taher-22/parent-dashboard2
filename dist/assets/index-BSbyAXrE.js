function qG(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var BB={exports:{}},C_={},zB={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=Symbol.for("react.element"),YG=Symbol.for("react.portal"),KG=Symbol.for("react.fragment"),ZG=Symbol.for("react.strict_mode"),JG=Symbol.for("react.profiler"),QG=Symbol.for("react.provider"),e9=Symbol.for("react.context"),t9=Symbol.for("react.forward_ref"),n9=Symbol.for("react.suspense"),r9=Symbol.for("react.memo"),i9=Symbol.for("react.lazy"),yI=Symbol.iterator;function o9(t){return t===null||typeof t!="object"?null:(t=yI&&t[yI]||t["@@iterator"],typeof t=="function"?t:null)}var jB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VB=Object.assign,HB={};function Vh(t,e,n){this.props=t,this.context=e,this.refs=HB,this.updater=n||jB}Vh.prototype.isReactComponent={};Vh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $B(){}$B.prototype=Vh.prototype;function uP(t,e,n){this.props=t,this.context=e,this.refs=HB,this.updater=n||jB}var cP=uP.prototype=new $B;cP.constructor=uP;VB(cP,Vh.prototype);cP.isPureReactComponent=!0;var xI=Array.isArray,WB=Object.prototype.hasOwnProperty,fP={current:null},GB={key:!0,ref:!0,__self:!0,__source:!0};function XB(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)WB.call(e,r)&&!GB.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Sg,type:t,key:o,ref:a,props:i,_owner:fP.current}}function a9(t,e){return{$$typeof:Sg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hP(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sg}function s9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _I=/\/+/g;function bb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?s9(""+t.key):e.toString(36)}function x0(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Sg:case YG:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+bb(a,0):r,xI(i)?(n="",t!=null&&(n=t.replace(_I,"$&/")+"/"),x0(i,e,n,"",function(u){return u})):i!=null&&(hP(i)&&(i=a9(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(_I,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",xI(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+bb(o,s);a+=x0(o,e,n,l,i)}else if(l=o9(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+bb(o,s++),a+=x0(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Hv(t,e,n){if(t==null)return t;var r=[],i=0;return x0(t,r,"","",function(o){return e.call(n,o,i++)}),r}function l9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bi={current:null},_0={transition:null},u9={ReactCurrentDispatcher:bi,ReactCurrentBatchConfig:_0,ReactCurrentOwner:fP};function qB(){throw Error("act(...) is not supported in production builds of React.")}qt.Children={map:Hv,forEach:function(t,e,n){Hv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hv(t,function(){e++}),e},toArray:function(t){return Hv(t,function(e){return e})||[]},only:function(t){if(!hP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qt.Component=Vh;qt.Fragment=KG;qt.Profiler=JG;qt.PureComponent=uP;qt.StrictMode=ZG;qt.Suspense=n9;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u9;qt.act=qB;qt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=VB({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=fP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)WB.call(e,l)&&!GB.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Sg,type:t.type,key:i,ref:o,props:r,_owner:a}};qt.createContext=function(t){return t={$$typeof:e9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QG,_context:t},t.Consumer=t};qt.createElement=XB;qt.createFactory=function(t){var e=XB.bind(null,t);return e.type=t,e};qt.createRef=function(){return{current:null}};qt.forwardRef=function(t){return{$$typeof:t9,render:t}};qt.isValidElement=hP;qt.lazy=function(t){return{$$typeof:i9,_payload:{_status:-1,_result:t},_init:l9}};qt.memo=function(t,e){return{$$typeof:r9,type:t,compare:e===void 0?null:e}};qt.startTransition=function(t){var e=_0.transition;_0.transition={};try{t()}finally{_0.transition=e}};qt.unstable_act=qB;qt.useCallback=function(t,e){return bi.current.useCallback(t,e)};qt.useContext=function(t){return bi.current.useContext(t)};qt.useDebugValue=function(){};qt.useDeferredValue=function(t){return bi.current.useDeferredValue(t)};qt.useEffect=function(t,e){return bi.current.useEffect(t,e)};qt.useId=function(){return bi.current.useId()};qt.useImperativeHandle=function(t,e,n){return bi.current.useImperativeHandle(t,e,n)};qt.useInsertionEffect=function(t,e){return bi.current.useInsertionEffect(t,e)};qt.useLayoutEffect=function(t,e){return bi.current.useLayoutEffect(t,e)};qt.useMemo=function(t,e){return bi.current.useMemo(t,e)};qt.useReducer=function(t,e,n){return bi.current.useReducer(t,e,n)};qt.useRef=function(t){return bi.current.useRef(t)};qt.useState=function(t){return bi.current.useState(t)};qt.useSyncExternalStore=function(t,e,n){return bi.current.useSyncExternalStore(t,e,n)};qt.useTransition=function(){return bi.current.useTransition()};qt.version="18.3.1";zB.exports=qt;var U=zB.exports;const fe=Sn(U),c9=qG({__proto__:null,default:fe},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f9=U,h9=Symbol.for("react.element"),d9=Symbol.for("react.fragment"),p9=Object.prototype.hasOwnProperty,m9=f9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g9={key:!0,ref:!0,__self:!0,__source:!0};function YB(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)p9.call(e,r)&&!g9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:h9,type:t,key:o,ref:a,props:i,_owner:m9.current}}C_.Fragment=d9;C_.jsx=YB;C_.jsxs=YB;BB.exports=C_;var k=BB.exports,IM={},KB={exports:{}},ao={},ZB={exports:{}},JB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,q){var Z=B.length;B.push(q);e:for(;0<Z;){var oe=Z-1>>>1,re=B[oe];if(0<i(re,q))B[oe]=q,B[Z]=re,Z=oe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var q=B[0],Z=B.pop();if(Z!==q){B[0]=Z;e:for(var oe=0,re=B.length,me=re>>>1;oe<me;){var le=2*(oe+1)-1,pe=B[le],we=le+1,ze=B[we];if(0>i(pe,Z))we<re&&0>i(ze,pe)?(B[oe]=ze,B[we]=Z,oe=we):(B[oe]=pe,B[le]=Z,oe=le);else if(we<re&&0>i(ze,Z))B[oe]=ze,B[we]=Z,oe=we;else break e}}return q}function i(B,q){var Z=B.sortIndex-q.sortIndex;return Z!==0?Z:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,m=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(B){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=B)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function w(B){if(x=!1,S(B),!y)if(n(l)!==null)y=!0,$(M);else{var q=n(u);q!==null&&te(w,q.startTime-B)}}function M(B,q){y=!1,x&&(x=!1,g(O),O=-1),m=!0;var Z=d;try{for(S(q),f=n(l);f!==null&&(!(f.expirationTime>q)||B&&!R());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,d=f.priorityLevel;var re=oe(f.expirationTime<=q);q=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(l)&&r(l),S(q)}else r(l);f=n(l)}if(f!==null)var me=!0;else{var le=n(u);le!==null&&te(w,le.startTime-q),me=!1}return me}finally{f=null,d=Z,m=!1}}var E=!1,T=null,O=-1,N=5,P=-1;function R(){return!(t.unstable_now()-P<N)}function j(){if(T!==null){var B=t.unstable_now();P=B;var q=!0;try{q=T(!0,B)}finally{q?Y():(E=!1,T=null)}}else E=!1}var Y;if(typeof _=="function")Y=function(){_(j)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,G=F.port2;F.port1.onmessage=j,Y=function(){G.postMessage(null)}}else Y=function(){v(j,0)};function $(B){T=B,E||(E=!0,Y())}function te(B,q){O=v(function(){B(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,$(M))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var Z=d;d=q;try{return B()}finally{d=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=d;d=B;try{return q()}finally{d=Z}},t.unstable_scheduleCallback=function(B,q,Z){var oe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?oe+Z:oe):Z=oe,B){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Z+re,B={id:c++,callback:q,priorityLevel:B,startTime:Z,expirationTime:re,sortIndex:-1},Z>oe?(B.sortIndex=Z,e(u,B),n(l)===null&&B===n(u)&&(x?(g(O),O=-1):x=!0,te(w,Z-oe))):(B.sortIndex=re,e(l,B),y||m||(y=!0,$(M))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var q=d;return function(){var Z=d;d=q;try{return B.apply(this,arguments)}finally{d=Z}}}})(JB);ZB.exports=JB;var v9=ZB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y9=U,no=v9;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QB=new Set,Gp={};function yc(t,e){ih(t,e),ih(t+"Capture",e)}function ih(t,e){for(Gp[t]=e,t=0;t<e.length;t++)QB.add(e[t])}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LM=Object.prototype.hasOwnProperty,x9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SI={},bI={};function _9(t){return LM.call(bI,t)?!0:LM.call(SI,t)?!1:x9.test(t)?bI[t]=!0:(SI[t]=!0,!1)}function S9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function b9(t,e,n,r){if(e===null||typeof e>"u"||S9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wi(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zr[t]=new wi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zr[e]=new wi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zr[t]=new wi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zr[t]=new wi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zr[t]=new wi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zr[t]=new wi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zr[t]=new wi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zr[t]=new wi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zr[t]=new wi(t,5,!1,t.toLowerCase(),null,!1,!1)});var dP=/[\-:]([a-z])/g;function pP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dP,pP);zr[e]=new wi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dP,pP);zr[e]=new wi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dP,pP);zr[e]=new wi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zr[t]=new wi(t,1,!1,t.toLowerCase(),null,!1,!1)});zr.xlinkHref=new wi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zr[t]=new wi(t,1,!1,t.toLowerCase(),null,!0,!0)});function mP(t,e,n,r){var i=zr.hasOwnProperty(e)?zr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(b9(e,n,i,r)&&(n=null),r||i===null?_9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cs=y9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$v=Symbol.for("react.element"),Sf=Symbol.for("react.portal"),bf=Symbol.for("react.fragment"),gP=Symbol.for("react.strict_mode"),NM=Symbol.for("react.profiler"),ez=Symbol.for("react.provider"),tz=Symbol.for("react.context"),vP=Symbol.for("react.forward_ref"),DM=Symbol.for("react.suspense"),kM=Symbol.for("react.suspense_list"),yP=Symbol.for("react.memo"),rl=Symbol.for("react.lazy"),nz=Symbol.for("react.offscreen"),wI=Symbol.iterator;function Ld(t){return t===null||typeof t!="object"?null:(t=wI&&t[wI]||t["@@iterator"],typeof t=="function"?t:null)}var Xn=Object.assign,wb;function dp(t){if(wb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wb=e&&e[1]||""}return`
`+wb+t}var Mb=!1;function Eb(t,e){if(!t||Mb)return"";Mb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Mb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dp(t):""}function w9(t){switch(t.tag){case 5:return dp(t.type);case 16:return dp("Lazy");case 13:return dp("Suspense");case 19:return dp("SuspenseList");case 0:case 2:case 15:return t=Eb(t.type,!1),t;case 11:return t=Eb(t.type.render,!1),t;case 1:return t=Eb(t.type,!0),t;default:return""}}function UM(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bf:return"Fragment";case Sf:return"Portal";case NM:return"Profiler";case gP:return"StrictMode";case DM:return"Suspense";case kM:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tz:return(t.displayName||"Context")+".Consumer";case ez:return(t._context.displayName||"Context")+".Provider";case vP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yP:return e=t.displayName||null,e!==null?e:UM(t.type)||"Memo";case rl:e=t._payload,t=t._init;try{return UM(t(e))}catch{}}return null}function M9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return UM(e);case 8:return e===gP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ol(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rz(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function E9(t){var e=rz(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wv(t){t._valueTracker||(t._valueTracker=E9(t))}function iz(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rz(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function V0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function FM(t,e){var n=e.checked;return Xn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function MI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ol(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oz(t,e){e=e.checked,e!=null&&mP(t,"checked",e,!1)}function BM(t,e){oz(t,e);var n=Ol(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zM(t,e.type,n):e.hasOwnProperty("defaultValue")&&zM(t,e.type,Ol(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function EI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zM(t,e,n){(e!=="number"||V0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pp=Array.isArray;function Xf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ol(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jM(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return Xn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function AI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(je(92));if(pp(n)){if(1<n.length)throw Error(je(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ol(n)}}function az(t,e){var n=Ol(e.value),r=Ol(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function TI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sz(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function VM(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sz(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gv,lz=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gv=Gv||document.createElement("div"),Gv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A9=["Webkit","ms","Moz","O"];Object.keys(bp).forEach(function(t){A9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bp[e]=bp[t]})});function uz(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bp.hasOwnProperty(t)&&bp[t]?(""+e).trim():e+"px"}function cz(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uz(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var T9=Xn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function HM(t,e){if(e){if(T9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function $M(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WM=null;function xP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var GM=null,qf=null,Yf=null;function PI(t){if(t=Mg(t)){if(typeof GM!="function")throw Error(je(280));var e=t.stateNode;e&&(e=N_(e),GM(t.stateNode,t.type,e))}}function fz(t){qf?Yf?Yf.push(t):Yf=[t]:qf=t}function hz(){if(qf){var t=qf,e=Yf;if(Yf=qf=null,PI(t),e)for(t=0;t<e.length;t++)PI(e[t])}}function dz(t,e){return t(e)}function pz(){}var Ab=!1;function mz(t,e,n){if(Ab)return t(e,n);Ab=!0;try{return dz(t,e,n)}finally{Ab=!1,(qf!==null||Yf!==null)&&(pz(),hz())}}function qp(t,e){var n=t.stateNode;if(n===null)return null;var r=N_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(je(231,e,typeof n));return n}var XM=!1;if(ys)try{var Nd={};Object.defineProperty(Nd,"passive",{get:function(){XM=!0}}),window.addEventListener("test",Nd,Nd),window.removeEventListener("test",Nd,Nd)}catch{XM=!1}function P9(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var wp=!1,H0=null,$0=!1,qM=null,C9={onError:function(t){wp=!0,H0=t}};function O9(t,e,n,r,i,o,a,s,l){wp=!1,H0=null,P9.apply(C9,arguments)}function R9(t,e,n,r,i,o,a,s,l){if(O9.apply(this,arguments),wp){if(wp){var u=H0;wp=!1,H0=null}else throw Error(je(198));$0||($0=!0,qM=u)}}function xc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gz(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function CI(t){if(xc(t)!==t)throw Error(je(188))}function I9(t){var e=t.alternate;if(!e){if(e=xc(t),e===null)throw Error(je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return CI(i),t;if(o===r)return CI(i),e;o=o.sibling}throw Error(je(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(je(189))}}if(n.alternate!==r)throw Error(je(190))}if(n.tag!==3)throw Error(je(188));return n.stateNode.current===n?t:e}function vz(t){return t=I9(t),t!==null?yz(t):null}function yz(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yz(t);if(e!==null)return e;t=t.sibling}return null}var xz=no.unstable_scheduleCallback,OI=no.unstable_cancelCallback,L9=no.unstable_shouldYield,N9=no.unstable_requestPaint,ar=no.unstable_now,D9=no.unstable_getCurrentPriorityLevel,_P=no.unstable_ImmediatePriority,_z=no.unstable_UserBlockingPriority,W0=no.unstable_NormalPriority,k9=no.unstable_LowPriority,Sz=no.unstable_IdlePriority,O_=null,Pa=null;function U9(t){if(Pa&&typeof Pa.onCommitFiberRoot=="function")try{Pa.onCommitFiberRoot(O_,t,void 0,(t.current.flags&128)===128)}catch{}}var ra=Math.clz32?Math.clz32:z9,F9=Math.log,B9=Math.LN2;function z9(t){return t>>>=0,t===0?32:31-(F9(t)/B9|0)|0}var Xv=64,qv=4194304;function mp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function G0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=mp(s):(o&=a,o!==0&&(r=mp(o)))}else a=n&~i,a!==0?r=mp(a):o!==0&&(r=mp(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ra(e),i=1<<n,r|=t[n],e&=~i;return r}function j9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ra(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=j9(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function YM(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bz(){var t=Xv;return Xv<<=1,!(Xv&4194240)&&(Xv=64),t}function Tb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ra(e),t[e]=n}function H9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ra(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function SP(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ra(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var dn=0;function wz(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mz,bP,Ez,Az,Tz,KM=!1,Yv=[],ml=null,gl=null,vl=null,Yp=new Map,Kp=new Map,al=[],$9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function RI(t,e){switch(t){case"focusin":case"focusout":ml=null;break;case"dragenter":case"dragleave":gl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":Yp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kp.delete(e.pointerId)}}function Dd(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Mg(e),e!==null&&bP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function W9(t,e,n,r,i){switch(e){case"focusin":return ml=Dd(ml,t,e,n,r,i),!0;case"dragenter":return gl=Dd(gl,t,e,n,r,i),!0;case"mouseover":return vl=Dd(vl,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Yp.set(o,Dd(Yp.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Kp.set(o,Dd(Kp.get(o)||null,t,e,n,r,i)),!0}return!1}function Pz(t){var e=Iu(t.target);if(e!==null){var n=xc(e);if(n!==null){if(e=n.tag,e===13){if(e=gz(n),e!==null){t.blockedOn=e,Tz(t.priority,function(){Ez(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function S0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ZM(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);WM=r,n.target.dispatchEvent(r),WM=null}else return e=Mg(n),e!==null&&bP(e),t.blockedOn=n,!1;e.shift()}return!0}function II(t,e,n){S0(t)&&n.delete(e)}function G9(){KM=!1,ml!==null&&S0(ml)&&(ml=null),gl!==null&&S0(gl)&&(gl=null),vl!==null&&S0(vl)&&(vl=null),Yp.forEach(II),Kp.forEach(II)}function kd(t,e){t.blockedOn===e&&(t.blockedOn=null,KM||(KM=!0,no.unstable_scheduleCallback(no.unstable_NormalPriority,G9)))}function Zp(t){function e(i){return kd(i,t)}if(0<Yv.length){kd(Yv[0],t);for(var n=1;n<Yv.length;n++){var r=Yv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ml!==null&&kd(ml,t),gl!==null&&kd(gl,t),vl!==null&&kd(vl,t),Yp.forEach(e),Kp.forEach(e),n=0;n<al.length;n++)r=al[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<al.length&&(n=al[0],n.blockedOn===null);)Pz(n),n.blockedOn===null&&al.shift()}var Kf=Cs.ReactCurrentBatchConfig,X0=!0;function X9(t,e,n,r){var i=dn,o=Kf.transition;Kf.transition=null;try{dn=1,wP(t,e,n,r)}finally{dn=i,Kf.transition=o}}function q9(t,e,n,r){var i=dn,o=Kf.transition;Kf.transition=null;try{dn=4,wP(t,e,n,r)}finally{dn=i,Kf.transition=o}}function wP(t,e,n,r){if(X0){var i=ZM(t,e,n,r);if(i===null)Ub(t,e,r,q0,n),RI(t,r);else if(W9(i,t,e,n,r))r.stopPropagation();else if(RI(t,r),e&4&&-1<$9.indexOf(t)){for(;i!==null;){var o=Mg(i);if(o!==null&&Mz(o),o=ZM(t,e,n,r),o===null&&Ub(t,e,r,q0,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ub(t,e,r,null,n)}}var q0=null;function ZM(t,e,n,r){if(q0=null,t=xP(r),t=Iu(t),t!==null)if(e=xc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gz(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return q0=t,null}function Cz(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D9()){case _P:return 1;case _z:return 4;case W0:case k9:return 16;case Sz:return 536870912;default:return 16}default:return 16}}var ul=null,MP=null,b0=null;function Oz(){if(b0)return b0;var t,e=MP,n=e.length,r,i="value"in ul?ul.value:ul.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return b0=i.slice(t,1<r?1-r:void 0)}function w0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kv(){return!0}function LI(){return!1}function so(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Kv:LI,this.isPropagationStopped=LI,this}return Xn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kv)},persist:function(){},isPersistent:Kv}),e}var Hh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},EP=so(Hh),wg=Xn({},Hh,{view:0,detail:0}),Y9=so(wg),Pb,Cb,Ud,R_=Xn({},wg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ud&&(Ud&&t.type==="mousemove"?(Pb=t.screenX-Ud.screenX,Cb=t.screenY-Ud.screenY):Cb=Pb=0,Ud=t),Pb)},movementY:function(t){return"movementY"in t?t.movementY:Cb}}),NI=so(R_),K9=Xn({},R_,{dataTransfer:0}),Z9=so(K9),J9=Xn({},wg,{relatedTarget:0}),Ob=so(J9),Q9=Xn({},Hh,{animationName:0,elapsedTime:0,pseudoElement:0}),e7=so(Q9),t7=Xn({},Hh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),n7=so(t7),r7=Xn({},Hh,{data:0}),DI=so(r7),i7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=a7[t])?!!e[t]:!1}function AP(){return s7}var l7=Xn({},wg,{key:function(t){if(t.key){var e=i7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=w0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AP,charCode:function(t){return t.type==="keypress"?w0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?w0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u7=so(l7),c7=Xn({},R_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kI=so(c7),f7=Xn({},wg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AP}),h7=so(f7),d7=Xn({},Hh,{propertyName:0,elapsedTime:0,pseudoElement:0}),p7=so(d7),m7=Xn({},R_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),g7=so(m7),v7=[9,13,27,32],TP=ys&&"CompositionEvent"in window,Mp=null;ys&&"documentMode"in document&&(Mp=document.documentMode);var y7=ys&&"TextEvent"in window&&!Mp,Rz=ys&&(!TP||Mp&&8<Mp&&11>=Mp),UI=" ",FI=!1;function Iz(t,e){switch(t){case"keyup":return v7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lz(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wf=!1;function x7(t,e){switch(t){case"compositionend":return Lz(e);case"keypress":return e.which!==32?null:(FI=!0,UI);case"textInput":return t=e.data,t===UI&&FI?null:t;default:return null}}function _7(t,e){if(wf)return t==="compositionend"||!TP&&Iz(t,e)?(t=Oz(),b0=MP=ul=null,wf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rz&&e.locale!=="ko"?null:e.data;default:return null}}var S7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!S7[t.type]:e==="textarea"}function Nz(t,e,n,r){fz(r),e=Y0(e,"onChange"),0<e.length&&(n=new EP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ep=null,Jp=null;function b7(t){Wz(t,0)}function I_(t){var e=Af(t);if(iz(e))return t}function w7(t,e){if(t==="change")return e}var Dz=!1;if(ys){var Rb;if(ys){var Ib="oninput"in document;if(!Ib){var zI=document.createElement("div");zI.setAttribute("oninput","return;"),Ib=typeof zI.oninput=="function"}Rb=Ib}else Rb=!1;Dz=Rb&&(!document.documentMode||9<document.documentMode)}function jI(){Ep&&(Ep.detachEvent("onpropertychange",kz),Jp=Ep=null)}function kz(t){if(t.propertyName==="value"&&I_(Jp)){var e=[];Nz(e,Jp,t,xP(t)),mz(b7,e)}}function M7(t,e,n){t==="focusin"?(jI(),Ep=e,Jp=n,Ep.attachEvent("onpropertychange",kz)):t==="focusout"&&jI()}function E7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return I_(Jp)}function A7(t,e){if(t==="click")return I_(e)}function T7(t,e){if(t==="input"||t==="change")return I_(e)}function P7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var aa=typeof Object.is=="function"?Object.is:P7;function Qp(t,e){if(aa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!LM.call(e,i)||!aa(t[i],e[i]))return!1}return!0}function VI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function HI(t,e){var n=VI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=VI(n)}}function Uz(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Uz(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fz(){for(var t=window,e=V0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=V0(t.document)}return e}function PP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function C7(t){var e=Fz(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Uz(n.ownerDocument.documentElement,n)){if(r!==null&&PP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=HI(n,o);var a=HI(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var O7=ys&&"documentMode"in document&&11>=document.documentMode,Mf=null,JM=null,Ap=null,QM=!1;function $I(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;QM||Mf==null||Mf!==V0(r)||(r=Mf,"selectionStart"in r&&PP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ap&&Qp(Ap,r)||(Ap=r,r=Y0(JM,"onSelect"),0<r.length&&(e=new EP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mf)))}function Zv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ef={animationend:Zv("Animation","AnimationEnd"),animationiteration:Zv("Animation","AnimationIteration"),animationstart:Zv("Animation","AnimationStart"),transitionend:Zv("Transition","TransitionEnd")},Lb={},Bz={};ys&&(Bz=document.createElement("div").style,"AnimationEvent"in window||(delete Ef.animationend.animation,delete Ef.animationiteration.animation,delete Ef.animationstart.animation),"TransitionEvent"in window||delete Ef.transitionend.transition);function L_(t){if(Lb[t])return Lb[t];if(!Ef[t])return t;var e=Ef[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Bz)return Lb[t]=e[n];return t}var zz=L_("animationend"),jz=L_("animationiteration"),Vz=L_("animationstart"),Hz=L_("transitionend"),$z=new Map,WI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kl(t,e){$z.set(t,e),yc(e,[t])}for(var Nb=0;Nb<WI.length;Nb++){var Db=WI[Nb],R7=Db.toLowerCase(),I7=Db[0].toUpperCase()+Db.slice(1);kl(R7,"on"+I7)}kl(zz,"onAnimationEnd");kl(jz,"onAnimationIteration");kl(Vz,"onAnimationStart");kl("dblclick","onDoubleClick");kl("focusin","onFocus");kl("focusout","onBlur");kl(Hz,"onTransitionEnd");ih("onMouseEnter",["mouseout","mouseover"]);ih("onMouseLeave",["mouseout","mouseover"]);ih("onPointerEnter",["pointerout","pointerover"]);ih("onPointerLeave",["pointerout","pointerover"]);yc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yc("onBeforeInput",["compositionend","keypress","textInput","paste"]);yc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L7=new Set("cancel close invalid load scroll toggle".split(" ").concat(gp));function GI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,R9(r,e,void 0,t),t.currentTarget=null}function Wz(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;GI(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;GI(i,s,u),o=l}}}if($0)throw t=qM,$0=!1,qM=null,t}function An(t,e){var n=e[iE];n===void 0&&(n=e[iE]=new Set);var r=t+"__bubble";n.has(r)||(Gz(e,t,2,!1),n.add(r))}function kb(t,e,n){var r=0;e&&(r|=4),Gz(n,t,r,e)}var Jv="_reactListening"+Math.random().toString(36).slice(2);function em(t){if(!t[Jv]){t[Jv]=!0,QB.forEach(function(n){n!=="selectionchange"&&(L7.has(n)||kb(n,!1,t),kb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jv]||(e[Jv]=!0,kb("selectionchange",!1,e))}}function Gz(t,e,n,r){switch(Cz(e)){case 1:var i=X9;break;case 4:i=q9;break;default:i=wP}n=i.bind(null,e,n,t),i=void 0,!XM||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ub(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Iu(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}mz(function(){var u=o,c=xP(n),f=[];e:{var d=$z.get(t);if(d!==void 0){var m=EP,y=t;switch(t){case"keypress":if(w0(n)===0)break e;case"keydown":case"keyup":m=u7;break;case"focusin":y="focus",m=Ob;break;case"focusout":y="blur",m=Ob;break;case"beforeblur":case"afterblur":m=Ob;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=NI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Z9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=h7;break;case zz:case jz:case Vz:m=e7;break;case Hz:m=p7;break;case"scroll":m=Y9;break;case"wheel":m=g7;break;case"copy":case"cut":case"paste":m=n7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=kI}var x=(e&4)!==0,v=!x&&t==="scroll",g=x?d!==null?d+"Capture":null:d;x=[];for(var _=u,S;_!==null;){S=_;var w=S.stateNode;if(S.tag===5&&w!==null&&(S=w,g!==null&&(w=qp(_,g),w!=null&&x.push(tm(_,w,S)))),v)break;_=_.return}0<x.length&&(d=new m(d,y,null,n,c),f.push({event:d,listeners:x}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==WM&&(y=n.relatedTarget||n.fromElement)&&(Iu(y)||y[xs]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Iu(y):null,y!==null&&(v=xc(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=NI,w="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=kI,w="onPointerLeave",g="onPointerEnter",_="pointer"),v=m==null?d:Af(m),S=y==null?d:Af(y),d=new x(w,_+"leave",m,n,c),d.target=v,d.relatedTarget=S,w=null,Iu(c)===u&&(x=new x(g,_+"enter",y,n,c),x.target=S,x.relatedTarget=v,w=x),v=w,m&&y)t:{for(x=m,g=y,_=0,S=x;S;S=Wc(S))_++;for(S=0,w=g;w;w=Wc(w))S++;for(;0<_-S;)x=Wc(x),_--;for(;0<S-_;)g=Wc(g),S--;for(;_--;){if(x===g||g!==null&&x===g.alternate)break t;x=Wc(x),g=Wc(g)}x=null}else x=null;m!==null&&XI(f,d,m,x,!1),y!==null&&v!==null&&XI(f,v,y,x,!0)}}e:{if(d=u?Af(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var M=w7;else if(BI(d))if(Dz)M=T7;else{M=E7;var E=M7}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(M=A7);if(M&&(M=M(t,u))){Nz(f,M,n,c);break e}E&&E(t,d,u),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&zM(d,"number",d.value)}switch(E=u?Af(u):window,t){case"focusin":(BI(E)||E.contentEditable==="true")&&(Mf=E,JM=u,Ap=null);break;case"focusout":Ap=JM=Mf=null;break;case"mousedown":QM=!0;break;case"contextmenu":case"mouseup":case"dragend":QM=!1,$I(f,n,c);break;case"selectionchange":if(O7)break;case"keydown":case"keyup":$I(f,n,c)}var T;if(TP)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else wf?Iz(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Rz&&n.locale!=="ko"&&(wf||O!=="onCompositionStart"?O==="onCompositionEnd"&&wf&&(T=Oz()):(ul=c,MP="value"in ul?ul.value:ul.textContent,wf=!0)),E=Y0(u,O),0<E.length&&(O=new DI(O,t,null,n,c),f.push({event:O,listeners:E}),T?O.data=T:(T=Lz(n),T!==null&&(O.data=T)))),(T=y7?x7(t,n):_7(t,n))&&(u=Y0(u,"onBeforeInput"),0<u.length&&(c=new DI("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}Wz(f,e)})}function tm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Y0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=qp(t,n),o!=null&&r.unshift(tm(t,o,i)),o=qp(t,e),o!=null&&r.push(tm(t,o,i))),t=t.return}return r}function Wc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function XI(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=qp(n,o),l!=null&&a.unshift(tm(n,l,s))):i||(l=qp(n,o),l!=null&&a.push(tm(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var N7=/\r\n?/g,D7=/\u0000|\uFFFD/g;function qI(t){return(typeof t=="string"?t:""+t).replace(N7,`
`).replace(D7,"")}function Qv(t,e,n){if(e=qI(e),qI(t)!==e&&n)throw Error(je(425))}function K0(){}var eE=null,tE=null;function nE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rE=typeof setTimeout=="function"?setTimeout:void 0,k7=typeof clearTimeout=="function"?clearTimeout:void 0,YI=typeof Promise=="function"?Promise:void 0,U7=typeof queueMicrotask=="function"?queueMicrotask:typeof YI<"u"?function(t){return YI.resolve(null).then(t).catch(F7)}:rE;function F7(t){setTimeout(function(){throw t})}function Fb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zp(e)}function yl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function KI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $h=Math.random().toString(36).slice(2),ba="__reactFiber$"+$h,nm="__reactProps$"+$h,xs="__reactContainer$"+$h,iE="__reactEvents$"+$h,B7="__reactListeners$"+$h,z7="__reactHandles$"+$h;function Iu(t){var e=t[ba];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xs]||n[ba]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=KI(t);t!==null;){if(n=t[ba])return n;t=KI(t)}return e}t=n,n=t.parentNode}return null}function Mg(t){return t=t[ba]||t[xs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Af(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function N_(t){return t[nm]||null}var oE=[],Tf=-1;function Ul(t){return{current:t}}function Rn(t){0>Tf||(t.current=oE[Tf],oE[Tf]=null,Tf--)}function En(t,e){Tf++,oE[Tf]=t.current,t.current=e}var Rl={},si=Ul(Rl),Di=Ul(!1),oc=Rl;function oh(t,e){var n=t.type.contextTypes;if(!n)return Rl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ki(t){return t=t.childContextTypes,t!=null}function Z0(){Rn(Di),Rn(si)}function ZI(t,e,n){if(si.current!==Rl)throw Error(je(168));En(si,e),En(Di,n)}function Xz(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(je(108,M9(t)||"Unknown",i));return Xn({},n,r)}function J0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rl,oc=si.current,En(si,t),En(Di,Di.current),!0}function JI(t,e,n){var r=t.stateNode;if(!r)throw Error(je(169));n?(t=Xz(t,e,oc),r.__reactInternalMemoizedMergedChildContext=t,Rn(Di),Rn(si),En(si,t)):Rn(Di),En(Di,n)}var rs=null,D_=!1,Bb=!1;function qz(t){rs===null?rs=[t]:rs.push(t)}function j7(t){D_=!0,qz(t)}function Fl(){if(!Bb&&rs!==null){Bb=!0;var t=0,e=dn;try{var n=rs;for(dn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}rs=null,D_=!1}catch(i){throw rs!==null&&(rs=rs.slice(t+1)),xz(_P,Fl),i}finally{dn=e,Bb=!1}}return null}var Pf=[],Cf=0,Q0=null,ex=0,Ao=[],To=0,ac=null,as=1,ss="";function xu(t,e){Pf[Cf++]=ex,Pf[Cf++]=Q0,Q0=t,ex=e}function Yz(t,e,n){Ao[To++]=as,Ao[To++]=ss,Ao[To++]=ac,ac=t;var r=as;t=ss;var i=32-ra(r)-1;r&=~(1<<i),n+=1;var o=32-ra(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,as=1<<32-ra(e)+i|n<<i|r,ss=o+t}else as=1<<o|n<<i|r,ss=t}function CP(t){t.return!==null&&(xu(t,1),Yz(t,1,0))}function OP(t){for(;t===Q0;)Q0=Pf[--Cf],Pf[Cf]=null,ex=Pf[--Cf],Pf[Cf]=null;for(;t===ac;)ac=Ao[--To],Ao[To]=null,ss=Ao[--To],Ao[To]=null,as=Ao[--To],Ao[To]=null}var Qi=null,Ji=null,Dn=!1,Jo=null;function Kz(t,e){var n=Oo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function QI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qi=t,Ji=yl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qi=t,Ji=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ac!==null?{id:as,overflow:ss}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Oo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qi=t,Ji=null,!0):!1;default:return!1}}function aE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sE(t){if(Dn){var e=Ji;if(e){var n=e;if(!QI(t,e)){if(aE(t))throw Error(je(418));e=yl(n.nextSibling);var r=Qi;e&&QI(t,e)?Kz(r,n):(t.flags=t.flags&-4097|2,Dn=!1,Qi=t)}}else{if(aE(t))throw Error(je(418));t.flags=t.flags&-4097|2,Dn=!1,Qi=t}}}function eL(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qi=t}function ey(t){if(t!==Qi)return!1;if(!Dn)return eL(t),Dn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nE(t.type,t.memoizedProps)),e&&(e=Ji)){if(aE(t))throw Zz(),Error(je(418));for(;e;)Kz(t,e),e=yl(e.nextSibling)}if(eL(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ji=yl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ji=null}}else Ji=Qi?yl(t.stateNode.nextSibling):null;return!0}function Zz(){for(var t=Ji;t;)t=yl(t.nextSibling)}function ah(){Ji=Qi=null,Dn=!1}function RP(t){Jo===null?Jo=[t]:Jo.push(t)}var V7=Cs.ReactCurrentBatchConfig;function Fd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(je(309));var r=n.stateNode}if(!r)throw Error(je(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(je(284));if(!n._owner)throw Error(je(290,t))}return t}function ty(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tL(t){var e=t._init;return e(t._payload)}function Jz(t){function e(g,_){if(t){var S=g.deletions;S===null?(g.deletions=[_],g.flags|=16):S.push(_)}}function n(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=bl(g,_),g.index=0,g.sibling=null,g}function o(g,_,S){return g.index=S,t?(S=g.alternate,S!==null?(S=S.index,S<_?(g.flags|=2,_):S):(g.flags|=2,_)):(g.flags|=1048576,_)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function s(g,_,S,w){return _===null||_.tag!==6?(_=Gb(S,g.mode,w),_.return=g,_):(_=i(_,S),_.return=g,_)}function l(g,_,S,w){var M=S.type;return M===bf?c(g,_,S.props.children,w,S.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===rl&&tL(M)===_.type)?(w=i(_,S.props),w.ref=Fd(g,_,S),w.return=g,w):(w=O0(S.type,S.key,S.props,null,g.mode,w),w.ref=Fd(g,_,S),w.return=g,w)}function u(g,_,S,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Xb(S,g.mode,w),_.return=g,_):(_=i(_,S.children||[]),_.return=g,_)}function c(g,_,S,w,M){return _===null||_.tag!==7?(_=qu(S,g.mode,w,M),_.return=g,_):(_=i(_,S),_.return=g,_)}function f(g,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Gb(""+_,g.mode,S),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $v:return S=O0(_.type,_.key,_.props,null,g.mode,S),S.ref=Fd(g,null,_),S.return=g,S;case Sf:return _=Xb(_,g.mode,S),_.return=g,_;case rl:var w=_._init;return f(g,w(_._payload),S)}if(pp(_)||Ld(_))return _=qu(_,g.mode,S,null),_.return=g,_;ty(g,_)}return null}function d(g,_,S,w){var M=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return M!==null?null:s(g,_,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $v:return S.key===M?l(g,_,S,w):null;case Sf:return S.key===M?u(g,_,S,w):null;case rl:return M=S._init,d(g,_,M(S._payload),w)}if(pp(S)||Ld(S))return M!==null?null:c(g,_,S,w,null);ty(g,S)}return null}function m(g,_,S,w,M){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(S)||null,s(_,g,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $v:return g=g.get(w.key===null?S:w.key)||null,l(_,g,w,M);case Sf:return g=g.get(w.key===null?S:w.key)||null,u(_,g,w,M);case rl:var E=w._init;return m(g,_,S,E(w._payload),M)}if(pp(w)||Ld(w))return g=g.get(S)||null,c(_,g,w,M,null);ty(_,w)}return null}function y(g,_,S,w){for(var M=null,E=null,T=_,O=_=0,N=null;T!==null&&O<S.length;O++){T.index>O?(N=T,T=null):N=T.sibling;var P=d(g,T,S[O],w);if(P===null){T===null&&(T=N);break}t&&T&&P.alternate===null&&e(g,T),_=o(P,_,O),E===null?M=P:E.sibling=P,E=P,T=N}if(O===S.length)return n(g,T),Dn&&xu(g,O),M;if(T===null){for(;O<S.length;O++)T=f(g,S[O],w),T!==null&&(_=o(T,_,O),E===null?M=T:E.sibling=T,E=T);return Dn&&xu(g,O),M}for(T=r(g,T);O<S.length;O++)N=m(T,g,O,S[O],w),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?O:N.key),_=o(N,_,O),E===null?M=N:E.sibling=N,E=N);return t&&T.forEach(function(R){return e(g,R)}),Dn&&xu(g,O),M}function x(g,_,S,w){var M=Ld(S);if(typeof M!="function")throw Error(je(150));if(S=M.call(S),S==null)throw Error(je(151));for(var E=M=null,T=_,O=_=0,N=null,P=S.next();T!==null&&!P.done;O++,P=S.next()){T.index>O?(N=T,T=null):N=T.sibling;var R=d(g,T,P.value,w);if(R===null){T===null&&(T=N);break}t&&T&&R.alternate===null&&e(g,T),_=o(R,_,O),E===null?M=R:E.sibling=R,E=R,T=N}if(P.done)return n(g,T),Dn&&xu(g,O),M;if(T===null){for(;!P.done;O++,P=S.next())P=f(g,P.value,w),P!==null&&(_=o(P,_,O),E===null?M=P:E.sibling=P,E=P);return Dn&&xu(g,O),M}for(T=r(g,T);!P.done;O++,P=S.next())P=m(T,g,O,P.value,w),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?O:P.key),_=o(P,_,O),E===null?M=P:E.sibling=P,E=P);return t&&T.forEach(function(j){return e(g,j)}),Dn&&xu(g,O),M}function v(g,_,S,w){if(typeof S=="object"&&S!==null&&S.type===bf&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case $v:e:{for(var M=S.key,E=_;E!==null;){if(E.key===M){if(M=S.type,M===bf){if(E.tag===7){n(g,E.sibling),_=i(E,S.props.children),_.return=g,g=_;break e}}else if(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===rl&&tL(M)===E.type){n(g,E.sibling),_=i(E,S.props),_.ref=Fd(g,E,S),_.return=g,g=_;break e}n(g,E);break}else e(g,E);E=E.sibling}S.type===bf?(_=qu(S.props.children,g.mode,w,S.key),_.return=g,g=_):(w=O0(S.type,S.key,S.props,null,g.mode,w),w.ref=Fd(g,_,S),w.return=g,g=w)}return a(g);case Sf:e:{for(E=S.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(g,_.sibling),_=i(_,S.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else e(g,_);_=_.sibling}_=Xb(S,g.mode,w),_.return=g,g=_}return a(g);case rl:return E=S._init,v(g,_,E(S._payload),w)}if(pp(S))return y(g,_,S,w);if(Ld(S))return x(g,_,S,w);ty(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,S),_.return=g,g=_):(n(g,_),_=Gb(S,g.mode,w),_.return=g,g=_),a(g)):n(g,_)}return v}var sh=Jz(!0),Qz=Jz(!1),tx=Ul(null),nx=null,Of=null,IP=null;function LP(){IP=Of=nx=null}function NP(t){var e=tx.current;Rn(tx),t._currentValue=e}function lE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zf(t,e){nx=t,IP=Of=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Li=!0),t.firstContext=null)}function No(t){var e=t._currentValue;if(IP!==t)if(t={context:t,memoizedValue:e,next:null},Of===null){if(nx===null)throw Error(je(308));Of=t,nx.dependencies={lanes:0,firstContext:t}}else Of=Of.next=t;return e}var Lu=null;function DP(t){Lu===null?Lu=[t]:Lu.push(t)}function e4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,DP(e)):(n.next=i.next,i.next=n),e.interleaved=n,_s(t,r)}function _s(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var il=!1;function kP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,nn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_s(t,n)}return i=r.interleaved,i===null?(e.next=e,DP(r)):(e.next=i.next,i.next=e),r.interleaved=e,_s(t,n)}function M0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,SP(t,n)}}function nL(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rx(t,e,n,r){var i=t.updateQueue;il=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,m=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,x=s;switch(d=e,m=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(m,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,d=typeof y=="function"?y.call(m,f,d):y,d==null)break e;f=Xn({},f,d);break e;case 2:il=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else m={eventTime:m,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);lc|=a,t.lanes=a,t.memoizedState=f}}function rL(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(je(191,i));i.call(r)}}}var Eg={},Ca=Ul(Eg),rm=Ul(Eg),im=Ul(Eg);function Nu(t){if(t===Eg)throw Error(je(174));return t}function UP(t,e){switch(En(im,e),En(rm,t),En(Ca,Eg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:VM(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=VM(e,t)}Rn(Ca),En(Ca,e)}function lh(){Rn(Ca),Rn(rm),Rn(im)}function n4(t){Nu(im.current);var e=Nu(Ca.current),n=VM(e,t.type);e!==n&&(En(rm,t),En(Ca,n))}function FP(t){rm.current===t&&(Rn(Ca),Rn(rm))}var zn=Ul(0);function ix(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zb=[];function BP(){for(var t=0;t<zb.length;t++)zb[t]._workInProgressVersionPrimary=null;zb.length=0}var E0=Cs.ReactCurrentDispatcher,jb=Cs.ReactCurrentBatchConfig,sc=0,$n=null,yr=null,Or=null,ox=!1,Tp=!1,om=0,H7=0;function Gr(){throw Error(je(321))}function zP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!aa(t[n],e[n]))return!1;return!0}function jP(t,e,n,r,i,o){if(sc=o,$n=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,E0.current=t===null||t.memoizedState===null?X7:q7,t=n(r,i),Tp){o=0;do{if(Tp=!1,om=0,25<=o)throw Error(je(301));o+=1,Or=yr=null,e.updateQueue=null,E0.current=Y7,t=n(r,i)}while(Tp)}if(E0.current=ax,e=yr!==null&&yr.next!==null,sc=0,Or=yr=$n=null,ox=!1,e)throw Error(je(300));return t}function VP(){var t=om!==0;return om=0,t}function _a(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?$n.memoizedState=Or=t:Or=Or.next=t,Or}function Do(){if(yr===null){var t=$n.alternate;t=t!==null?t.memoizedState:null}else t=yr.next;var e=Or===null?$n.memoizedState:Or.next;if(e!==null)Or=e,yr=t;else{if(t===null)throw Error(je(310));yr=t,t={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},Or===null?$n.memoizedState=Or=t:Or=Or.next=t}return Or}function am(t,e){return typeof e=="function"?e(t):e}function Vb(t){var e=Do(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=yr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((sc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,$n.lanes|=c,lc|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,aa(r,e.memoizedState)||(Li=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,$n.lanes|=o,lc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hb(t){var e=Do(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);aa(o,e.memoizedState)||(Li=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function r4(){}function i4(t,e){var n=$n,r=Do(),i=e(),o=!aa(r.memoizedState,i);if(o&&(r.memoizedState=i,Li=!0),r=r.queue,HP(s4.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Or!==null&&Or.memoizedState.tag&1){if(n.flags|=2048,sm(9,a4.bind(null,n,r,i,e),void 0,null),Ir===null)throw Error(je(349));sc&30||o4(n,e,i)}return i}function o4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$n.updateQueue,e===null?(e={lastEffect:null,stores:null},$n.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function a4(t,e,n,r){e.value=n,e.getSnapshot=r,l4(e)&&u4(t)}function s4(t,e,n){return n(function(){l4(e)&&u4(t)})}function l4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!aa(t,n)}catch{return!0}}function u4(t){var e=_s(t,1);e!==null&&ia(e,t,1,-1)}function iL(t){var e=_a();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:am,lastRenderedState:t},e.queue=t,t=t.dispatch=G7.bind(null,$n,t),[e.memoizedState,t]}function sm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$n.updateQueue,e===null?(e={lastEffect:null,stores:null},$n.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function c4(){return Do().memoizedState}function A0(t,e,n,r){var i=_a();$n.flags|=t,i.memoizedState=sm(1|e,n,void 0,r===void 0?null:r)}function k_(t,e,n,r){var i=Do();r=r===void 0?null:r;var o=void 0;if(yr!==null){var a=yr.memoizedState;if(o=a.destroy,r!==null&&zP(r,a.deps)){i.memoizedState=sm(e,n,o,r);return}}$n.flags|=t,i.memoizedState=sm(1|e,n,o,r)}function oL(t,e){return A0(8390656,8,t,e)}function HP(t,e){return k_(2048,8,t,e)}function f4(t,e){return k_(4,2,t,e)}function h4(t,e){return k_(4,4,t,e)}function d4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function p4(t,e,n){return n=n!=null?n.concat([t]):null,k_(4,4,d4.bind(null,e,t),n)}function $P(){}function m4(t,e){var n=Do();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function g4(t,e){var n=Do();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function v4(t,e,n){return sc&21?(aa(n,e)||(n=bz(),$n.lanes|=n,lc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Li=!0),t.memoizedState=n)}function $7(t,e){var n=dn;dn=n!==0&&4>n?n:4,t(!0);var r=jb.transition;jb.transition={};try{t(!1),e()}finally{dn=n,jb.transition=r}}function y4(){return Do().memoizedState}function W7(t,e,n){var r=Sl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},x4(t))_4(e,n);else if(n=e4(t,e,n,r),n!==null){var i=yi();ia(n,t,r,i),S4(n,e,r)}}function G7(t,e,n){var r=Sl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(x4(t))_4(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,aa(s,a)){var l=e.interleaved;l===null?(i.next=i,DP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=e4(t,e,i,r),n!==null&&(i=yi(),ia(n,t,r,i),S4(n,e,r))}}function x4(t){var e=t.alternate;return t===$n||e!==null&&e===$n}function _4(t,e){Tp=ox=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function S4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,SP(t,n)}}var ax={readContext:No,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},X7={readContext:No,useCallback:function(t,e){return _a().memoizedState=[t,e===void 0?null:e],t},useContext:No,useEffect:oL,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,A0(4194308,4,d4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return A0(4194308,4,t,e)},useInsertionEffect:function(t,e){return A0(4,2,t,e)},useMemo:function(t,e){var n=_a();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_a();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=W7.bind(null,$n,t),[r.memoizedState,t]},useRef:function(t){var e=_a();return t={current:t},e.memoizedState=t},useState:iL,useDebugValue:$P,useDeferredValue:function(t){return _a().memoizedState=t},useTransition:function(){var t=iL(!1),e=t[0];return t=$7.bind(null,t[1]),_a().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$n,i=_a();if(Dn){if(n===void 0)throw Error(je(407));n=n()}else{if(n=e(),Ir===null)throw Error(je(349));sc&30||o4(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,oL(s4.bind(null,r,o,t),[t]),r.flags|=2048,sm(9,a4.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=_a(),e=Ir.identifierPrefix;if(Dn){var n=ss,r=as;n=(r&~(1<<32-ra(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=om++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=H7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},q7={readContext:No,useCallback:m4,useContext:No,useEffect:HP,useImperativeHandle:p4,useInsertionEffect:f4,useLayoutEffect:h4,useMemo:g4,useReducer:Vb,useRef:c4,useState:function(){return Vb(am)},useDebugValue:$P,useDeferredValue:function(t){var e=Do();return v4(e,yr.memoizedState,t)},useTransition:function(){var t=Vb(am)[0],e=Do().memoizedState;return[t,e]},useMutableSource:r4,useSyncExternalStore:i4,useId:y4,unstable_isNewReconciler:!1},Y7={readContext:No,useCallback:m4,useContext:No,useEffect:HP,useImperativeHandle:p4,useInsertionEffect:f4,useLayoutEffect:h4,useMemo:g4,useReducer:Hb,useRef:c4,useState:function(){return Hb(am)},useDebugValue:$P,useDeferredValue:function(t){var e=Do();return yr===null?e.memoizedState=t:v4(e,yr.memoizedState,t)},useTransition:function(){var t=Hb(am)[0],e=Do().memoizedState;return[t,e]},useMutableSource:r4,useSyncExternalStore:i4,useId:y4,unstable_isNewReconciler:!1};function qo(t,e){if(t&&t.defaultProps){e=Xn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function uE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var U_={isMounted:function(t){return(t=t._reactInternals)?xc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yi(),i=Sl(t),o=hs(r,i);o.payload=e,n!=null&&(o.callback=n),e=xl(t,o,i),e!==null&&(ia(e,t,i,r),M0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yi(),i=Sl(t),o=hs(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=xl(t,o,i),e!==null&&(ia(e,t,i,r),M0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yi(),r=Sl(t),i=hs(n,r);i.tag=2,e!=null&&(i.callback=e),e=xl(t,i,r),e!==null&&(ia(e,t,r,n),M0(e,t,r))}};function aL(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Qp(n,r)||!Qp(i,o):!0}function b4(t,e,n){var r=!1,i=Rl,o=e.contextType;return typeof o=="object"&&o!==null?o=No(o):(i=ki(e)?oc:si.current,r=e.contextTypes,o=(r=r!=null)?oh(t,i):Rl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=U_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function sL(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&U_.enqueueReplaceState(e,e.state,null)}function cE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},kP(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=No(o):(o=ki(e)?oc:si.current,i.context=oh(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(uE(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&U_.enqueueReplaceState(i,i.state,null),rx(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function uh(t,e){try{var n="",r=e;do n+=w9(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function $b(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var K7=typeof WeakMap=="function"?WeakMap:Map;function w4(t,e,n){n=hs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lx||(lx=!0,SE=r),fE(t,e)},n}function M4(t,e,n){n=hs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fE(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){fE(t,e),typeof r!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function lL(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new K7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=cX.bind(null,t,e,n),e.then(t,t))}function uL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cL(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hs(-1,1),e.tag=2,xl(n,e,1))),n.lanes|=1),t)}var Z7=Cs.ReactCurrentOwner,Li=!1;function pi(t,e,n,r){e.child=t===null?Qz(e,null,n,r):sh(e,t.child,n,r)}function fL(t,e,n,r,i){n=n.render;var o=e.ref;return Zf(e,i),r=jP(t,e,n,r,o,i),n=VP(),t!==null&&!Li?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ss(t,e,i)):(Dn&&n&&CP(e),e.flags|=1,pi(t,e,r,i),e.child)}function hL(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!JP(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,E4(t,e,o,r,i)):(t=O0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Qp,n(a,r)&&t.ref===e.ref)return Ss(t,e,i)}return e.flags|=1,t=bl(o,r),t.ref=e.ref,t.return=e,e.child=t}function E4(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Qp(o,r)&&t.ref===e.ref)if(Li=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Li=!0);else return e.lanes=t.lanes,Ss(t,e,i)}return hE(t,e,n,r,i)}function A4(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},En(If,Xi),Xi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,En(If,Xi),Xi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,En(If,Xi),Xi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,En(If,Xi),Xi|=r;return pi(t,e,i,n),e.child}function T4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hE(t,e,n,r,i){var o=ki(n)?oc:si.current;return o=oh(e,o),Zf(e,i),n=jP(t,e,n,r,o,i),r=VP(),t!==null&&!Li?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ss(t,e,i)):(Dn&&r&&CP(e),e.flags|=1,pi(t,e,n,i),e.child)}function dL(t,e,n,r,i){if(ki(n)){var o=!0;J0(e)}else o=!1;if(Zf(e,i),e.stateNode===null)T0(t,e),b4(e,n,r),cE(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=No(u):(u=ki(n)?oc:si.current,u=oh(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&sL(e,a,r,u),il=!1;var d=e.memoizedState;a.state=d,rx(e,r,a,i),l=e.memoizedState,s!==r||d!==l||Di.current||il?(typeof c=="function"&&(uE(e,n,c,r),l=e.memoizedState),(s=il||aL(e,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,t4(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:qo(e.type,s),a.props=u,f=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=No(l):(l=ki(n)?oc:si.current,l=oh(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&sL(e,a,r,l),il=!1,d=e.memoizedState,a.state=d,rx(e,r,a,i);var y=e.memoizedState;s!==f||d!==y||Di.current||il?(typeof m=="function"&&(uE(e,n,m,r),y=e.memoizedState),(u=il||aL(e,n,u,r,d,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return dE(t,e,n,r,o,i)}function dE(t,e,n,r,i,o){T4(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&JI(e,n,!1),Ss(t,e,o);r=e.stateNode,Z7.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=sh(e,t.child,null,o),e.child=sh(e,null,s,o)):pi(t,e,s,o),e.memoizedState=r.state,i&&JI(e,n,!0),e.child}function P4(t){var e=t.stateNode;e.pendingContext?ZI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ZI(t,e.context,!1),UP(t,e.containerInfo)}function pL(t,e,n,r,i){return ah(),RP(i),e.flags|=256,pi(t,e,n,r),e.child}var pE={dehydrated:null,treeContext:null,retryLane:0};function mE(t){return{baseLanes:t,cachePool:null,transitions:null}}function C4(t,e,n){var r=e.pendingProps,i=zn.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),En(zn,i&1),t===null)return sE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=z_(a,r,0,null),t=qu(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=mE(n),e.memoizedState=pE,t):WP(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return J7(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=bl(s,o):(o=qu(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?mE(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=pE,r}return o=t.child,t=o.sibling,r=bl(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function WP(t,e){return e=z_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ny(t,e,n,r){return r!==null&&RP(r),sh(e,t.child,null,n),t=WP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function J7(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=$b(Error(je(422))),ny(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=z_({mode:"visible",children:r.children},i,0,null),o=qu(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&sh(e,t.child,null,a),e.child.memoizedState=mE(a),e.memoizedState=pE,o);if(!(e.mode&1))return ny(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(je(419)),r=$b(o,r,void 0),ny(t,e,a,r)}if(s=(a&t.childLanes)!==0,Li||s){if(r=Ir,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,_s(t,i),ia(r,t,i,-1))}return ZP(),r=$b(Error(je(421))),ny(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fX.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ji=yl(i.nextSibling),Qi=e,Dn=!0,Jo=null,t!==null&&(Ao[To++]=as,Ao[To++]=ss,Ao[To++]=ac,as=t.id,ss=t.overflow,ac=e),e=WP(e,r.children),e.flags|=4096,e)}function mL(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),lE(t.return,e,n)}function Wb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function O4(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(pi(t,e,r.children,n),r=zn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mL(t,n,e);else if(t.tag===19)mL(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(En(zn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ix(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ix(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wb(e,!0,n,null,o);break;case"together":Wb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function T0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ss(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),lc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,n=bl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Q7(t,e,n){switch(e.tag){case 3:P4(e),ah();break;case 5:n4(e);break;case 1:ki(e.type)&&J0(e);break;case 4:UP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;En(tx,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(En(zn,zn.current&1),e.flags|=128,null):n&e.child.childLanes?C4(t,e,n):(En(zn,zn.current&1),t=Ss(t,e,n),t!==null?t.sibling:null);En(zn,zn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return O4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),En(zn,zn.current),r)break;return null;case 22:case 23:return e.lanes=0,A4(t,e,n)}return Ss(t,e,n)}var R4,gE,I4,L4;R4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gE=function(){};I4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Nu(Ca.current);var o=null;switch(n){case"input":i=FM(t,i),r=FM(t,r),o=[];break;case"select":i=Xn({},i,{value:void 0}),r=Xn({},r,{value:void 0}),o=[];break;case"textarea":i=jM(t,i),r=jM(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=K0)}HM(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gp.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gp.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&An("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};L4=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bd(t,e){if(!Dn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eX(t,e,n){var r=e.pendingProps;switch(OP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xr(e),null;case 1:return ki(e.type)&&Z0(),Xr(e),null;case 3:return r=e.stateNode,lh(),Rn(Di),Rn(si),BP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ey(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jo!==null&&(ME(Jo),Jo=null))),gE(t,e),Xr(e),null;case 5:FP(e);var i=Nu(im.current);if(n=e.type,t!==null&&e.stateNode!=null)I4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(je(166));return Xr(e),null}if(t=Nu(Ca.current),ey(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ba]=e,r[nm]=o,t=(e.mode&1)!==0,n){case"dialog":An("cancel",r),An("close",r);break;case"iframe":case"object":case"embed":An("load",r);break;case"video":case"audio":for(i=0;i<gp.length;i++)An(gp[i],r);break;case"source":An("error",r);break;case"img":case"image":case"link":An("error",r),An("load",r);break;case"details":An("toggle",r);break;case"input":MI(r,o),An("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},An("invalid",r);break;case"textarea":AI(r,o),An("invalid",r)}HM(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Qv(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Qv(r.textContent,s,t),i=["children",""+s]):Gp.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&An("scroll",r)}switch(n){case"input":Wv(r),EI(r,o,!0);break;case"textarea":Wv(r),TI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=K0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sz(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ba]=e,t[nm]=r,R4(t,e,!1,!1),e.stateNode=t;e:{switch(a=$M(n,r),n){case"dialog":An("cancel",t),An("close",t),i=r;break;case"iframe":case"object":case"embed":An("load",t),i=r;break;case"video":case"audio":for(i=0;i<gp.length;i++)An(gp[i],t);i=r;break;case"source":An("error",t),i=r;break;case"img":case"image":case"link":An("error",t),An("load",t),i=r;break;case"details":An("toggle",t),i=r;break;case"input":MI(t,r),i=FM(t,r),An("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Xn({},r,{value:void 0}),An("invalid",t);break;case"textarea":AI(t,r),i=jM(t,r),An("invalid",t);break;default:i=r}HM(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?cz(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lz(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xp(t,l):typeof l=="number"&&Xp(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gp.hasOwnProperty(o)?l!=null&&o==="onScroll"&&An("scroll",t):l!=null&&mP(t,o,l,a))}switch(n){case"input":Wv(t),EI(t,r,!1);break;case"textarea":Wv(t),TI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ol(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Xf(t,!!r.multiple,o,!1):r.defaultValue!=null&&Xf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=K0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xr(e),null;case 6:if(t&&e.stateNode!=null)L4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(je(166));if(n=Nu(im.current),Nu(Ca.current),ey(e)){if(r=e.stateNode,n=e.memoizedProps,r[ba]=e,(o=r.nodeValue!==n)&&(t=Qi,t!==null))switch(t.tag){case 3:Qv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qv(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ba]=e,e.stateNode=r}return Xr(e),null;case 13:if(Rn(zn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dn&&Ji!==null&&e.mode&1&&!(e.flags&128))Zz(),ah(),e.flags|=98560,o=!1;else if(o=ey(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(je(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(je(317));o[ba]=e}else ah(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xr(e),o=!1}else Jo!==null&&(ME(Jo),Jo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||zn.current&1?_r===0&&(_r=3):ZP())),e.updateQueue!==null&&(e.flags|=4),Xr(e),null);case 4:return lh(),gE(t,e),t===null&&em(e.stateNode.containerInfo),Xr(e),null;case 10:return NP(e.type._context),Xr(e),null;case 17:return ki(e.type)&&Z0(),Xr(e),null;case 19:if(Rn(zn),o=e.memoizedState,o===null)return Xr(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Bd(o,!1);else{if(_r!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ix(t),a!==null){for(e.flags|=128,Bd(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return En(zn,zn.current&1|2),e.child}t=t.sibling}o.tail!==null&&ar()>ch&&(e.flags|=128,r=!0,Bd(o,!1),e.lanes=4194304)}else{if(!r)if(t=ix(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bd(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Dn)return Xr(e),null}else 2*ar()-o.renderingStartTime>ch&&n!==1073741824&&(e.flags|=128,r=!0,Bd(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ar(),e.sibling=null,n=zn.current,En(zn,r?n&1|2:n&1),e):(Xr(e),null);case 22:case 23:return KP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xi&1073741824&&(Xr(e),e.subtreeFlags&6&&(e.flags|=8192)):Xr(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function tX(t,e){switch(OP(e),e.tag){case 1:return ki(e.type)&&Z0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lh(),Rn(Di),Rn(si),BP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return FP(e),null;case 13:if(Rn(zn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));ah()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rn(zn),null;case 4:return lh(),null;case 10:return NP(e.type._context),null;case 22:case 23:return KP(),null;case 24:return null;default:return null}}var ry=!1,Qr=!1,nX=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Rf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Jn(t,e,r)}else n.current=null}function vE(t,e,n){try{n()}catch(r){Jn(t,e,r)}}var gL=!1;function rX(t,e){if(eE=X0,t=Fz(),PP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tE={focusedElem:t,selectionRange:n},X0=!1,ft=e;ft!==null;)if(e=ft,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ft=t;else for(;ft!==null;){e=ft;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,v=y.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:qo(e.type,x),v);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(w){Jn(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ft=t;break}ft=e.return}return y=gL,gL=!1,y}function Pp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&vE(e,n,o)}i=i.next}while(i!==r)}}function F_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function N4(t){var e=t.alternate;e!==null&&(t.alternate=null,N4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ba],delete e[nm],delete e[iE],delete e[B7],delete e[z7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function D4(t){return t.tag===5||t.tag===3||t.tag===4}function vL(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||D4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=K0));else if(r!==4&&(t=t.child,t!==null))for(xE(t,e,n),t=t.sibling;t!==null;)xE(t,e,n),t=t.sibling}function _E(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_E(t,e,n),t=t.sibling;t!==null;)_E(t,e,n),t=t.sibling}var kr=null,Ko=!1;function Ws(t,e,n){for(n=n.child;n!==null;)k4(t,e,n),n=n.sibling}function k4(t,e,n){if(Pa&&typeof Pa.onCommitFiberUnmount=="function")try{Pa.onCommitFiberUnmount(O_,n)}catch{}switch(n.tag){case 5:Qr||Rf(n,e);case 6:var r=kr,i=Ko;kr=null,Ws(t,e,n),kr=r,Ko=i,kr!==null&&(Ko?(t=kr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kr.removeChild(n.stateNode));break;case 18:kr!==null&&(Ko?(t=kr,n=n.stateNode,t.nodeType===8?Fb(t.parentNode,n):t.nodeType===1&&Fb(t,n),Zp(t)):Fb(kr,n.stateNode));break;case 4:r=kr,i=Ko,kr=n.stateNode.containerInfo,Ko=!0,Ws(t,e,n),kr=r,Ko=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&vE(n,e,a),i=i.next}while(i!==r)}Ws(t,e,n);break;case 1:if(!Qr&&(Rf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Jn(n,e,s)}Ws(t,e,n);break;case 21:Ws(t,e,n);break;case 22:n.mode&1?(Qr=(r=Qr)||n.memoizedState!==null,Ws(t,e,n),Qr=r):Ws(t,e,n);break;default:Ws(t,e,n)}}function yL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nX),e.forEach(function(r){var i=hX.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:kr=s.stateNode,Ko=!1;break e;case 3:kr=s.stateNode.containerInfo,Ko=!0;break e;case 4:kr=s.stateNode.containerInfo,Ko=!0;break e}s=s.return}if(kr===null)throw Error(je(160));k4(o,a,i),kr=null,Ko=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Jn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)U4(e,t),e=e.sibling}function U4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jo(e,t),xa(t),r&4){try{Pp(3,t,t.return),F_(3,t)}catch(x){Jn(t,t.return,x)}try{Pp(5,t,t.return)}catch(x){Jn(t,t.return,x)}}break;case 1:jo(e,t),xa(t),r&512&&n!==null&&Rf(n,n.return);break;case 5:if(jo(e,t),xa(t),r&512&&n!==null&&Rf(n,n.return),t.flags&32){var i=t.stateNode;try{Xp(i,"")}catch(x){Jn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&oz(i,o),$M(s,a);var u=$M(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?cz(i,f):c==="dangerouslySetInnerHTML"?lz(i,f):c==="children"?Xp(i,f):mP(i,c,f,u)}switch(s){case"input":BM(i,o);break;case"textarea":az(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Xf(i,!!o.multiple,m,!1):d!==!!o.multiple&&(o.defaultValue!=null?Xf(i,!!o.multiple,o.defaultValue,!0):Xf(i,!!o.multiple,o.multiple?[]:"",!1))}i[nm]=o}catch(x){Jn(t,t.return,x)}}break;case 6:if(jo(e,t),xa(t),r&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){Jn(t,t.return,x)}}break;case 3:if(jo(e,t),xa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zp(e.containerInfo)}catch(x){Jn(t,t.return,x)}break;case 4:jo(e,t),xa(t);break;case 13:jo(e,t),xa(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(qP=ar())),r&4&&yL(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Qr=(u=Qr)||c,jo(e,t),Qr=u):jo(e,t),xa(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ft=t,c=t.child;c!==null;){for(f=ft=c;ft!==null;){switch(d=ft,m=d.child,d.tag){case 0:case 11:case 14:case 15:Pp(4,d,d.return);break;case 1:Rf(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Jn(r,n,x)}}break;case 5:Rf(d,d.return);break;case 22:if(d.memoizedState!==null){_L(f);continue}}m!==null?(m.return=d,ft=m):_L(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=uz("display",a))}catch(x){Jn(t,t.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Jn(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jo(e,t),xa(t),r&4&&yL(t);break;case 21:break;default:jo(e,t),xa(t)}}function xa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(D4(n)){var r=n;break e}n=n.return}throw Error(je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xp(i,""),r.flags&=-33);var o=vL(t);_E(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=vL(t);xE(t,s,a);break;default:throw Error(je(161))}}catch(l){Jn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iX(t,e,n){ft=t,F4(t)}function F4(t,e,n){for(var r=(t.mode&1)!==0;ft!==null;){var i=ft,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ry;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Qr;s=ry;var u=Qr;if(ry=a,(Qr=l)&&!u)for(ft=i;ft!==null;)a=ft,l=a.child,a.tag===22&&a.memoizedState!==null?SL(i):l!==null?(l.return=a,ft=l):SL(i);for(;o!==null;)ft=o,F4(o),o=o.sibling;ft=i,ry=s,Qr=u}xL(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ft=o):xL(t)}}function xL(t){for(;ft!==null;){var e=ft;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qr||F_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&rL(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rL(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Zp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}Qr||e.flags&512&&yE(e)}catch(d){Jn(e,e.return,d)}}if(e===t){ft=null;break}if(n=e.sibling,n!==null){n.return=e.return,ft=n;break}ft=e.return}}function _L(t){for(;ft!==null;){var e=ft;if(e===t){ft=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ft=n;break}ft=e.return}}function SL(t){for(;ft!==null;){var e=ft;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{F_(4,e)}catch(l){Jn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Jn(e,i,l)}}var o=e.return;try{yE(e)}catch(l){Jn(e,o,l)}break;case 5:var a=e.return;try{yE(e)}catch(l){Jn(e,a,l)}}}catch(l){Jn(e,e.return,l)}if(e===t){ft=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ft=s;break}ft=e.return}}var oX=Math.ceil,sx=Cs.ReactCurrentDispatcher,GP=Cs.ReactCurrentOwner,Io=Cs.ReactCurrentBatchConfig,nn=0,Ir=null,hr=null,Br=0,Xi=0,If=Ul(0),_r=0,lm=null,lc=0,B_=0,XP=0,Cp=null,Ii=null,qP=0,ch=1/0,ns=null,lx=!1,SE=null,_l=null,iy=!1,cl=null,ux=0,Op=0,bE=null,P0=-1,C0=0;function yi(){return nn&6?ar():P0!==-1?P0:P0=ar()}function Sl(t){return t.mode&1?nn&2&&Br!==0?Br&-Br:V7.transition!==null?(C0===0&&(C0=bz()),C0):(t=dn,t!==0||(t=window.event,t=t===void 0?16:Cz(t.type)),t):1}function ia(t,e,n,r){if(50<Op)throw Op=0,bE=null,Error(je(185));bg(t,n,r),(!(nn&2)||t!==Ir)&&(t===Ir&&(!(nn&2)&&(B_|=n),_r===4&&sl(t,Br)),Ui(t,r),n===1&&nn===0&&!(e.mode&1)&&(ch=ar()+500,D_&&Fl()))}function Ui(t,e){var n=t.callbackNode;V9(t,e);var r=G0(t,t===Ir?Br:0);if(r===0)n!==null&&OI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&OI(n),e===1)t.tag===0?j7(bL.bind(null,t)):qz(bL.bind(null,t)),U7(function(){!(nn&6)&&Fl()}),n=null;else{switch(wz(r)){case 1:n=_P;break;case 4:n=_z;break;case 16:n=W0;break;case 536870912:n=Sz;break;default:n=W0}n=G4(n,B4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function B4(t,e){if(P0=-1,C0=0,nn&6)throw Error(je(327));var n=t.callbackNode;if(Jf()&&t.callbackNode!==n)return null;var r=G0(t,t===Ir?Br:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cx(t,r);else{e=r;var i=nn;nn|=2;var o=j4();(Ir!==t||Br!==e)&&(ns=null,ch=ar()+500,Xu(t,e));do try{lX();break}catch(s){z4(t,s)}while(!0);LP(),sx.current=o,nn=i,hr!==null?e=0:(Ir=null,Br=0,e=_r)}if(e!==0){if(e===2&&(i=YM(t),i!==0&&(r=i,e=wE(t,i))),e===1)throw n=lm,Xu(t,0),sl(t,r),Ui(t,ar()),n;if(e===6)sl(t,r);else{if(i=t.current.alternate,!(r&30)&&!aX(i)&&(e=cx(t,r),e===2&&(o=YM(t),o!==0&&(r=o,e=wE(t,o))),e===1))throw n=lm,Xu(t,0),sl(t,r),Ui(t,ar()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(je(345));case 2:_u(t,Ii,ns);break;case 3:if(sl(t,r),(r&130023424)===r&&(e=qP+500-ar(),10<e)){if(G0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){yi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=rE(_u.bind(null,t,Ii,ns),e);break}_u(t,Ii,ns);break;case 4:if(sl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-ra(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=ar()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oX(r/1960))-r,10<r){t.timeoutHandle=rE(_u.bind(null,t,Ii,ns),r);break}_u(t,Ii,ns);break;case 5:_u(t,Ii,ns);break;default:throw Error(je(329))}}}return Ui(t,ar()),t.callbackNode===n?B4.bind(null,t):null}function wE(t,e){var n=Cp;return t.current.memoizedState.isDehydrated&&(Xu(t,e).flags|=256),t=cx(t,e),t!==2&&(e=Ii,Ii=n,e!==null&&ME(e)),t}function ME(t){Ii===null?Ii=t:Ii.push.apply(Ii,t)}function aX(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!aa(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sl(t,e){for(e&=~XP,e&=~B_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ra(e),r=1<<n;t[n]=-1,e&=~r}}function bL(t){if(nn&6)throw Error(je(327));Jf();var e=G0(t,0);if(!(e&1))return Ui(t,ar()),null;var n=cx(t,e);if(t.tag!==0&&n===2){var r=YM(t);r!==0&&(e=r,n=wE(t,r))}if(n===1)throw n=lm,Xu(t,0),sl(t,e),Ui(t,ar()),n;if(n===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_u(t,Ii,ns),Ui(t,ar()),null}function YP(t,e){var n=nn;nn|=1;try{return t(e)}finally{nn=n,nn===0&&(ch=ar()+500,D_&&Fl())}}function uc(t){cl!==null&&cl.tag===0&&!(nn&6)&&Jf();var e=nn;nn|=1;var n=Io.transition,r=dn;try{if(Io.transition=null,dn=1,t)return t()}finally{dn=r,Io.transition=n,nn=e,!(nn&6)&&Fl()}}function KP(){Xi=If.current,Rn(If)}function Xu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,k7(n)),hr!==null)for(n=hr.return;n!==null;){var r=n;switch(OP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Z0();break;case 3:lh(),Rn(Di),Rn(si),BP();break;case 5:FP(r);break;case 4:lh();break;case 13:Rn(zn);break;case 19:Rn(zn);break;case 10:NP(r.type._context);break;case 22:case 23:KP()}n=n.return}if(Ir=t,hr=t=bl(t.current,null),Br=Xi=e,_r=0,lm=null,XP=B_=lc=0,Ii=Cp=null,Lu!==null){for(e=0;e<Lu.length;e++)if(n=Lu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Lu=null}return t}function z4(t,e){do{var n=hr;try{if(LP(),E0.current=ax,ox){for(var r=$n.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ox=!1}if(sc=0,Or=yr=$n=null,Tp=!1,om=0,GP.current=null,n===null||n.return===null){_r=1,lm=e,hr=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Br,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=uL(a);if(m!==null){m.flags&=-257,cL(m,a,s,o,e),m.mode&1&&lL(o,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){lL(o,u,e),ZP();break e}l=Error(je(426))}}else if(Dn&&s.mode&1){var v=uL(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),cL(v,a,s,o,e),RP(uh(l,s));break e}}o=l=uh(l,s),_r!==4&&(_r=2),Cp===null?Cp=[o]:Cp.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=w4(o,l,e);nL(o,g);break e;case 1:s=l;var _=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(_l===null||!_l.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=M4(o,s,e);nL(o,w);break e}}o=o.return}while(o!==null)}H4(n)}catch(M){e=M,hr===n&&n!==null&&(hr=n=n.return);continue}break}while(!0)}function j4(){var t=sx.current;return sx.current=ax,t===null?ax:t}function ZP(){(_r===0||_r===3||_r===2)&&(_r=4),Ir===null||!(lc&268435455)&&!(B_&268435455)||sl(Ir,Br)}function cx(t,e){var n=nn;nn|=2;var r=j4();(Ir!==t||Br!==e)&&(ns=null,Xu(t,e));do try{sX();break}catch(i){z4(t,i)}while(!0);if(LP(),nn=n,sx.current=r,hr!==null)throw Error(je(261));return Ir=null,Br=0,_r}function sX(){for(;hr!==null;)V4(hr)}function lX(){for(;hr!==null&&!L9();)V4(hr)}function V4(t){var e=W4(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,e===null?H4(t):hr=e,GP.current=null}function H4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tX(n,e),n!==null){n.flags&=32767,hr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_r=6,hr=null;return}}else if(n=eX(n,e,Xi),n!==null){hr=n;return}if(e=e.sibling,e!==null){hr=e;return}hr=e=t}while(e!==null);_r===0&&(_r=5)}function _u(t,e,n){var r=dn,i=Io.transition;try{Io.transition=null,dn=1,uX(t,e,n,r)}finally{Io.transition=i,dn=r}return null}function uX(t,e,n,r){do Jf();while(cl!==null);if(nn&6)throw Error(je(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(H9(t,o),t===Ir&&(hr=Ir=null,Br=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iy||(iy=!0,G4(W0,function(){return Jf(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Io.transition,Io.transition=null;var a=dn;dn=1;var s=nn;nn|=4,GP.current=null,rX(t,n),U4(n,t),C7(tE),X0=!!eE,tE=eE=null,t.current=n,iX(n),N9(),nn=s,dn=a,Io.transition=o}else t.current=n;if(iy&&(iy=!1,cl=t,ux=i),o=t.pendingLanes,o===0&&(_l=null),U9(n.stateNode),Ui(t,ar()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(lx)throw lx=!1,t=SE,SE=null,t;return ux&1&&t.tag!==0&&Jf(),o=t.pendingLanes,o&1?t===bE?Op++:(Op=0,bE=t):Op=0,Fl(),null}function Jf(){if(cl!==null){var t=wz(ux),e=Io.transition,n=dn;try{if(Io.transition=null,dn=16>t?16:t,cl===null)var r=!1;else{if(t=cl,cl=null,ux=0,nn&6)throw Error(je(331));var i=nn;for(nn|=4,ft=t.current;ft!==null;){var o=ft,a=o.child;if(ft.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ft=u;ft!==null;){var c=ft;switch(c.tag){case 0:case 11:case 15:Pp(8,c,o)}var f=c.child;if(f!==null)f.return=c,ft=f;else for(;ft!==null;){c=ft;var d=c.sibling,m=c.return;if(N4(c),c===u){ft=null;break}if(d!==null){d.return=m,ft=d;break}ft=m}}}var y=o.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}ft=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ft=a;else e:for(;ft!==null;){if(o=ft,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pp(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,ft=g;break e}ft=o.return}}var _=t.current;for(ft=_;ft!==null;){a=ft;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,ft=S;else e:for(a=_;ft!==null;){if(s=ft,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:F_(9,s)}}catch(M){Jn(s,s.return,M)}if(s===a){ft=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,ft=w;break e}ft=s.return}}if(nn=i,Fl(),Pa&&typeof Pa.onPostCommitFiberRoot=="function")try{Pa.onPostCommitFiberRoot(O_,t)}catch{}r=!0}return r}finally{dn=n,Io.transition=e}}return!1}function wL(t,e,n){e=uh(n,e),e=w4(t,e,1),t=xl(t,e,1),e=yi(),t!==null&&(bg(t,1,e),Ui(t,e))}function Jn(t,e,n){if(t.tag===3)wL(t,t,n);else for(;e!==null;){if(e.tag===3){wL(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_l===null||!_l.has(r))){t=uh(n,t),t=M4(e,t,1),e=xl(e,t,1),t=yi(),e!==null&&(bg(e,1,t),Ui(e,t));break}}e=e.return}}function cX(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yi(),t.pingedLanes|=t.suspendedLanes&n,Ir===t&&(Br&n)===n&&(_r===4||_r===3&&(Br&130023424)===Br&&500>ar()-qP?Xu(t,0):XP|=n),Ui(t,e)}function $4(t,e){e===0&&(t.mode&1?(e=qv,qv<<=1,!(qv&130023424)&&(qv=4194304)):e=1);var n=yi();t=_s(t,e),t!==null&&(bg(t,e,n),Ui(t,n))}function fX(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$4(t,n)}function hX(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(je(314))}r!==null&&r.delete(e),$4(t,n)}var W4;W4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Di.current)Li=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Li=!1,Q7(t,e,n);Li=!!(t.flags&131072)}else Li=!1,Dn&&e.flags&1048576&&Yz(e,ex,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;T0(t,e),t=e.pendingProps;var i=oh(e,si.current);Zf(e,n),i=jP(null,e,r,t,i,n);var o=VP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ki(r)?(o=!0,J0(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kP(e),i.updater=U_,e.stateNode=i,i._reactInternals=e,cE(e,r,t,n),e=dE(null,e,r,!0,o,n)):(e.tag=0,Dn&&o&&CP(e),pi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(T0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=pX(r),t=qo(r,t),i){case 0:e=hE(null,e,r,t,n);break e;case 1:e=dL(null,e,r,t,n);break e;case 11:e=fL(null,e,r,t,n);break e;case 14:e=hL(null,e,r,qo(r.type,t),n);break e}throw Error(je(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qo(r,i),hE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qo(r,i),dL(t,e,r,i,n);case 3:e:{if(P4(e),t===null)throw Error(je(387));r=e.pendingProps,o=e.memoizedState,i=o.element,t4(t,e),rx(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=uh(Error(je(423)),e),e=pL(t,e,r,n,i);break e}else if(r!==i){i=uh(Error(je(424)),e),e=pL(t,e,r,n,i);break e}else for(Ji=yl(e.stateNode.containerInfo.firstChild),Qi=e,Dn=!0,Jo=null,n=Qz(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ah(),r===i){e=Ss(t,e,n);break e}pi(t,e,r,n)}e=e.child}return e;case 5:return n4(e),t===null&&sE(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,nE(r,i)?a=null:o!==null&&nE(r,o)&&(e.flags|=32),T4(t,e),pi(t,e,a,n),e.child;case 6:return t===null&&sE(e),null;case 13:return C4(t,e,n);case 4:return UP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sh(e,null,r,n):pi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qo(r,i),fL(t,e,r,i,n);case 7:return pi(t,e,e.pendingProps,n),e.child;case 8:return pi(t,e,e.pendingProps.children,n),e.child;case 12:return pi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,En(tx,r._currentValue),r._currentValue=a,o!==null)if(aa(o.value,a)){if(o.children===i.children&&!Di.current){e=Ss(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=hs(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),lE(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(je(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),lE(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}pi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zf(e,n),i=No(i),r=r(i),e.flags|=1,pi(t,e,r,n),e.child;case 14:return r=e.type,i=qo(r,e.pendingProps),i=qo(r.type,i),hL(t,e,r,i,n);case 15:return E4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qo(r,i),T0(t,e),e.tag=1,ki(r)?(t=!0,J0(e)):t=!1,Zf(e,n),b4(e,r,i),cE(e,r,i,n),dE(null,e,r,!0,t,n);case 19:return O4(t,e,n);case 22:return A4(t,e,n)}throw Error(je(156,e.tag))};function G4(t,e){return xz(t,e)}function dX(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oo(t,e,n,r){return new dX(t,e,n,r)}function JP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pX(t){if(typeof t=="function")return JP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vP)return 11;if(t===yP)return 14}return 2}function bl(t,e){var n=t.alternate;return n===null?(n=Oo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function O0(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")JP(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case bf:return qu(n.children,i,o,e);case gP:a=8,i|=8;break;case NM:return t=Oo(12,n,e,i|2),t.elementType=NM,t.lanes=o,t;case DM:return t=Oo(13,n,e,i),t.elementType=DM,t.lanes=o,t;case kM:return t=Oo(19,n,e,i),t.elementType=kM,t.lanes=o,t;case nz:return z_(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ez:a=10;break e;case tz:a=9;break e;case vP:a=11;break e;case yP:a=14;break e;case rl:a=16,r=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=Oo(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function qu(t,e,n,r){return t=Oo(7,t,r,e),t.lanes=n,t}function z_(t,e,n,r){return t=Oo(22,t,r,e),t.elementType=nz,t.lanes=n,t.stateNode={isHidden:!1},t}function Gb(t,e,n){return t=Oo(6,t,null,e),t.lanes=n,t}function Xb(t,e,n){return e=Oo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mX(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tb(0),this.expirationTimes=Tb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function QP(t,e,n,r,i,o,a,s,l){return t=new mX(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Oo(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kP(o),t}function gX(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function X4(t){if(!t)return Rl;t=t._reactInternals;e:{if(xc(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ki(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var n=t.type;if(ki(n))return Xz(t,n,e)}return e}function q4(t,e,n,r,i,o,a,s,l){return t=QP(n,r,!0,t,i,o,a,s,l),t.context=X4(null),n=t.current,r=yi(),i=Sl(n),o=hs(r,i),o.callback=e??null,xl(n,o,i),t.current.lanes=i,bg(t,i,r),Ui(t,r),t}function j_(t,e,n,r){var i=e.current,o=yi(),a=Sl(i);return n=X4(n),e.context===null?e.context=n:e.pendingContext=n,e=hs(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xl(i,e,a),t!==null&&(ia(t,i,a,o),M0(t,i,a)),a}function fx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ML(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function eC(t,e){ML(t,e),(t=t.alternate)&&ML(t,e)}function vX(){return null}var Y4=typeof reportError=="function"?reportError:function(t){console.error(t)};function tC(t){this._internalRoot=t}V_.prototype.render=tC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));j_(t,e,null,null)};V_.prototype.unmount=tC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;uc(function(){j_(null,t,null,null)}),e[xs]=null}};function V_(t){this._internalRoot=t}V_.prototype.unstable_scheduleHydration=function(t){if(t){var e=Az();t={blockedOn:null,target:t,priority:e};for(var n=0;n<al.length&&e!==0&&e<al[n].priority;n++);al.splice(n,0,t),n===0&&Pz(t)}};function nC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function H_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function EL(){}function yX(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=fx(a);o.call(u)}}var a=q4(e,r,t,0,null,!1,!1,"",EL);return t._reactRootContainer=a,t[xs]=a.current,em(t.nodeType===8?t.parentNode:t),uc(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=fx(l);s.call(u)}}var l=QP(t,0,!1,null,null,!1,!1,"",EL);return t._reactRootContainer=l,t[xs]=l.current,em(t.nodeType===8?t.parentNode:t),uc(function(){j_(e,l,n,r)}),l}function $_(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=fx(a);s.call(l)}}j_(e,a,t,i)}else a=yX(n,e,t,i,r);return fx(a)}Mz=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=mp(e.pendingLanes);n!==0&&(SP(e,n|1),Ui(e,ar()),!(nn&6)&&(ch=ar()+500,Fl()))}break;case 13:uc(function(){var r=_s(t,1);if(r!==null){var i=yi();ia(r,t,1,i)}}),eC(t,1)}};bP=function(t){if(t.tag===13){var e=_s(t,134217728);if(e!==null){var n=yi();ia(e,t,134217728,n)}eC(t,134217728)}};Ez=function(t){if(t.tag===13){var e=Sl(t),n=_s(t,e);if(n!==null){var r=yi();ia(n,t,e,r)}eC(t,e)}};Az=function(){return dn};Tz=function(t,e){var n=dn;try{return dn=t,e()}finally{dn=n}};GM=function(t,e,n){switch(e){case"input":if(BM(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=N_(r);if(!i)throw Error(je(90));iz(r),BM(r,i)}}}break;case"textarea":az(t,n);break;case"select":e=n.value,e!=null&&Xf(t,!!n.multiple,e,!1)}};dz=YP;pz=uc;var xX={usingClientEntryPoint:!1,Events:[Mg,Af,N_,fz,hz,YP]},zd={findFiberByHostInstance:Iu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_X={bundleType:zd.bundleType,version:zd.version,rendererPackageName:zd.rendererPackageName,rendererConfig:zd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vz(t),t===null?null:t.stateNode},findFiberByHostInstance:zd.findFiberByHostInstance||vX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oy.isDisabled&&oy.supportsFiber)try{O_=oy.inject(_X),Pa=oy}catch{}}ao.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xX;ao.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nC(e))throw Error(je(200));return gX(t,e,null,n)};ao.createRoot=function(t,e){if(!nC(t))throw Error(je(299));var n=!1,r="",i=Y4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=QP(t,1,!1,null,null,n,!1,r,i),t[xs]=e.current,em(t.nodeType===8?t.parentNode:t),new tC(e)};ao.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=vz(e),t=t===null?null:t.stateNode,t};ao.flushSync=function(t){return uc(t)};ao.hydrate=function(t,e,n){if(!H_(e))throw Error(je(200));return $_(null,t,e,!0,n)};ao.hydrateRoot=function(t,e,n){if(!nC(t))throw Error(je(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Y4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=q4(e,null,t,1,n??null,i,!1,o,a),t[xs]=e.current,em(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new V_(e)};ao.render=function(t,e,n){if(!H_(e))throw Error(je(200));return $_(null,t,e,!1,n)};ao.unmountComponentAtNode=function(t){if(!H_(t))throw Error(je(40));return t._reactRootContainer?(uc(function(){$_(null,null,t,!1,function(){t._reactRootContainer=null,t[xs]=null})}),!0):!1};ao.unstable_batchedUpdates=YP;ao.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!H_(n))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return $_(t,e,n,!1,r)};ao.version="18.3.1-next-f1338f8080-20240426";function K4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K4)}catch(t){console.error(t)}}K4(),KB.exports=ao;var SX=KB.exports,AL=SX;IM.createRoot=AL.createRoot,IM.hydrateRoot=AL.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},um.apply(this,arguments)}var fl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fl||(fl={}));const TL="popstate";function bX(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return EE("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:hx(i)}return MX(e,n,null,t)}function Wn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wX(){return Math.random().toString(36).substr(2,8)}function PL(t,e){return{usr:t.state,key:t.key,idx:e}}function EE(t,e,n,r){return n===void 0&&(n=null),um({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wh(e):e,{state:n,key:e&&e.key||r||wX()})}function hx(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MX(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=fl.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(um({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=fl.Pop;let v=c(),g=v==null?null:v-u;u=v,l&&l({action:s,location:x.location,delta:g})}function d(v,g){s=fl.Push;let _=EE(x.location,v,g);u=c()+1;let S=PL(_,u),w=x.createHref(_);try{a.pushState(S,"",w)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(w)}o&&l&&l({action:s,location:x.location,delta:1})}function m(v,g){s=fl.Replace;let _=EE(x.location,v,g);u=c();let S=PL(_,u),w=x.createHref(_);a.replaceState(S,"",w),o&&l&&l({action:s,location:x.location,delta:0})}function y(v){let g=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof v=="string"?v:hx(v);return _=_.replace(/ $/,"%20"),Wn(g,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,g)}let x={get action(){return s},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(TL,f),l=v,()=>{i.removeEventListener(TL,f),l=null}},createHref(v){return e(i,v)},createURL:y,encodeLocation(v){let g=y(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:m,go(v){return a.go(v)}};return x}var CL;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(CL||(CL={}));function EX(t,e,n){return n===void 0&&(n="/"),AX(t,e,n)}function AX(t,e,n,r){let i=typeof e=="string"?Wh(e):e,o=fh(i.pathname||"/",n);if(o==null)return null;let a=Z4(t);TX(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=FX(o);s=kX(a[l],u)}return s}function Z4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Wn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=wl([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Wn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Z4(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:NX(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of J4(o.path))i(o,a,l)}),e}function J4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=J4(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function TX(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DX(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PX=/^:[\w-]+$/,CX=3,OX=2,RX=1,IX=10,LX=-2,OL=t=>t==="*";function NX(t,e){let n=t.split("/"),r=n.length;return n.some(OL)&&(r+=LX),e&&(r+=OX),n.filter(i=>!OL(i)).reduce((i,o)=>i+(PX.test(o)?CX:o===""?RX:IX),r)}function DX(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kX(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=AE({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:wl([o,f.pathname]),pathnameBase:HX(wl([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=wl([o,f.pathnameBase]))}return a}function AE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UX(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:m}=c;if(d==="*"){let x=s[f]||"";a=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const y=s[f];return m&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function UX(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function FX(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const BX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zX=t=>BX.test(t);function jX(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wh(t):t,o;if(n)if(zX(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),rC(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=RL(n.substring(1),"/"):o=RL(n,e)}else o=e;return{pathname:o,search:$X(r),hash:WX(i)}}function RL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qb(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VX(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iC(t,e){let n=VX(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function oC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Wh(t):(i=um({},t),Wn(!i.pathname||!i.pathname.includes("?"),qb("?","pathname","search",i)),Wn(!i.pathname||!i.pathname.includes("#"),qb("#","pathname","hash",i)),Wn(!i.search||!i.search.includes("#"),qb("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=jX(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const wl=t=>t.join("/").replace(/\/\/+/g,"/"),HX=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$X=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WX=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GX(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Q4=["post","put","patch","delete"];new Set(Q4);const XX=["get",...Q4];new Set(XX);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}const W_=U.createContext(null),e5=U.createContext(null),Os=U.createContext(null),G_=U.createContext(null),Rs=U.createContext({outlet:null,matches:[],isDataRoute:!1}),t5=U.createContext(null);function qX(t,e){let{relative:n}=e===void 0?{}:e;Gh()||Wn(!1);let{basename:r,navigator:i}=U.useContext(Os),{hash:o,pathname:a,search:s}=X_(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:wl([r,a])),i.createHref({pathname:l,search:s,hash:o})}function Gh(){return U.useContext(G_)!=null}function _c(){return Gh()||Wn(!1),U.useContext(G_).location}function n5(t){U.useContext(Os).static||U.useLayoutEffect(t)}function Bl(){let{isDataRoute:t}=U.useContext(Rs);return t?lq():YX()}function YX(){Gh()||Wn(!1);let t=U.useContext(W_),{basename:e,future:n,navigator:r}=U.useContext(Os),{matches:i}=U.useContext(Rs),{pathname:o}=_c(),a=JSON.stringify(iC(i,n.v7_relativeSplatPath)),s=U.useRef(!1);return n5(()=>{s.current=!0}),U.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=oC(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:wl([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,o,t])}function KX(){let{matches:t}=U.useContext(Rs),e=t[t.length-1];return e?e.params:{}}function X_(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(Os),{matches:i}=U.useContext(Rs),{pathname:o}=_c(),a=JSON.stringify(iC(i,r.v7_relativeSplatPath));return U.useMemo(()=>oC(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function ZX(t,e){return JX(t,e)}function JX(t,e,n,r){Gh()||Wn(!1);let{navigator:i}=U.useContext(Os),{matches:o}=U.useContext(Rs),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=_c(),c;if(e){var f;let v=typeof e=="string"?Wh(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||Wn(!1),c=v}else c=u;let d=c.pathname||"/",m=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=EX(t,{pathname:m}),x=rq(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:wl([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:wl([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&x?U.createElement(G_.Provider,{value:{location:cm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:fl.Pop}},x):x}function QX(){let t=sq(),e=GX(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const eq=U.createElement(QX,null);class tq extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(Rs.Provider,{value:this.props.routeContext},U.createElement(t5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nq(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(W_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Rs.Provider,{value:e},r)}function rq(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||Wn(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:m}=n,y=f.route.loader&&d[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,d)=>{let m,y=!1,x=null,v=null;n&&(m=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||eq,l&&(u<0&&d===0?(uq("route-fallback"),y=!0,v=null):u===d&&(y=!0,v=f.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,d+1)),_=()=>{let S;return m?S=x:y?S=v:f.route.Component?S=U.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=c,U.createElement(nq,{match:f,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?U.createElement(tq,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:_(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):_()},null)}var r5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(r5||{}),i5=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(i5||{});function iq(t){let e=U.useContext(W_);return e||Wn(!1),e}function oq(t){let e=U.useContext(e5);return e||Wn(!1),e}function aq(t){let e=U.useContext(Rs);return e||Wn(!1),e}function o5(t){let e=aq(),n=e.matches[e.matches.length-1];return n.route.id||Wn(!1),n.route.id}function sq(){var t;let e=U.useContext(t5),n=oq(),r=o5();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function lq(){let{router:t}=iq(r5.UseNavigateStable),e=o5(i5.UseNavigateStable),n=U.useRef(!1);return n5(()=>{n.current=!0}),U.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,cm({fromRouteId:e},o)))},[t,e])}const IL={};function uq(t,e,n){IL[t]||(IL[t]=!0)}function cq(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function LL(t){let{to:e,replace:n,state:r,relative:i}=t;Gh()||Wn(!1);let{future:o,static:a}=U.useContext(Os),{matches:s}=U.useContext(Rs),{pathname:l}=_c(),u=Bl(),c=oC(e,iC(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return U.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Mo(t){Wn(!1)}function fq(t){let{basename:e="/",children:n=null,location:r,navigationType:i=fl.Pop,navigator:o,static:a=!1,future:s}=t;Gh()&&Wn(!1);let l=e.replace(/^\/*/,"/"),u=U.useMemo(()=>({basename:l,navigator:o,static:a,future:cm({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Wh(r));let{pathname:c="/",search:f="",hash:d="",state:m=null,key:y="default"}=r,x=U.useMemo(()=>{let v=fh(c,l);return v==null?null:{location:{pathname:v,search:f,hash:d,state:m,key:y},navigationType:i}},[l,c,f,d,m,y,i]);return x==null?null:U.createElement(Os.Provider,{value:u},U.createElement(G_.Provider,{children:n,value:x}))}function NL(t){let{children:e,location:n}=t;return ZX(TE(e),n)}new Promise(()=>{});function TE(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let o=[...e,i];if(r.type===U.Fragment){n.push.apply(n,TE(r.props.children,o));return}r.type!==Mo&&Wn(!1),!r.props.index||!r.props.children||Wn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=TE(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dx(){return dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dx.apply(this,arguments)}function a5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dq(t,e){return t.button===0&&(!e||e==="_self")&&!hq(t)}const pq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mq=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],gq="6";try{window.__reactRouterVersion=gq}catch{}const vq=U.createContext({isTransitioning:!1}),yq="startTransition",DL=c9[yq];function xq(t){let{basename:e,children:n,future:r,window:i}=t,o=U.useRef();o.current==null&&(o.current=bX({window:i,v5Compat:!0}));let a=o.current,[s,l]=U.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=U.useCallback(f=>{u&&DL?DL(()=>l(f)):l(f)},[l,u]);return U.useLayoutEffect(()=>a.listen(c),[a,c]),U.useEffect(()=>cq(r),[r]),U.createElement(fq,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const _q=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q_=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,d=a5(e,pq),{basename:m}=U.useContext(Os),y,x=!1;if(typeof u=="string"&&Sq.test(u)&&(y=u,_q))try{let S=new URL(window.location.href),w=u.startsWith("//")?new URL(S.protocol+u):new URL(u),M=fh(w.pathname,m);w.origin===S.origin&&M!=null?u=M+w.search+w.hash:x=!0}catch{}let v=qX(u,{relative:i}),g=Mq(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function _(S){r&&r(S),S.defaultPrevented||g(S)}return U.createElement("a",dx({},d,{href:y||v,onClick:x||o?r:_,ref:n,target:l}))}),bq=U.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:a=!1,style:s,to:l,viewTransition:u,children:c}=e,f=a5(e,mq),d=X_(l,{relative:f.relative}),m=_c(),y=U.useContext(e5),{navigator:x,basename:v}=U.useContext(Os),g=y!=null&&Eq(d)&&u===!0,_=x.encodeLocation?x.encodeLocation(d).pathname:d.pathname,S=m.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(S=S.toLowerCase(),w=w?w.toLowerCase():null,_=_.toLowerCase()),w&&v&&(w=fh(w,v)||w);const M=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let E=S===_||!a&&S.startsWith(_)&&S.charAt(M)==="/",T=w!=null&&(w===_||!a&&w.startsWith(_)&&w.charAt(_.length)==="/"),O={isActive:E,isPending:T,isTransitioning:g},N=E?r:void 0,P;typeof o=="function"?P=o(O):P=[o,E?"active":null,T?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(O):s;return U.createElement(q_,dx({},f,{"aria-current":N,className:P,ref:n,style:R,to:l,viewTransition:u}),typeof c=="function"?c(O):c)});var PE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(PE||(PE={}));var kL;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kL||(kL={}));function wq(t){let e=U.useContext(W_);return e||Wn(!1),e}function Mq(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=Bl(),u=_c(),c=X_(t,{relative:a});return U.useCallback(f=>{if(dq(f,n)){f.preventDefault();let d=r!==void 0?r:hx(u)===hx(c);l(t,{replace:d,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,r,i,n,t,o,a,s])}function Eq(t,e){e===void 0&&(e={});let n=U.useContext(vq);n==null&&Wn(!1);let{basename:r}=wq(PE.useViewTransitionState),i=X_(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=fh(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=fh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return AE(i.pathname,a)!=null||AE(i.pathname,o)!=null}const aC=U.createContext({});function sC(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const Y_=U.createContext(null),lC=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Aq extends U.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Tq({children:t,isPresent:e}){const n=U.useId(),r=U.useRef(null),i=U.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=U.useContext(lC);return U.useInsertionEffect(()=>{const{width:a,height:s,top:l,left:u}=i.current;if(e||!r.current||!a||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${s}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),k.jsx(Aq,{isPresent:e,childRef:r,sizeRef:i,children:U.cloneElement(t,{ref:r})})}const Pq=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a})=>{const s=sC(Cq),l=U.useId(),u=U.useCallback(f=>{s.set(f,!0);for(const d of s.values())if(!d)return;r&&r()},[s,r]),c=U.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:f=>(s.set(f,!1),()=>s.delete(f))}),o?[Math.random(),u]:[n,u]);return U.useMemo(()=>{s.forEach((f,d)=>s.set(d,!1))},[n]),U.useEffect(()=>{!n&&!s.size&&r&&r()},[n]),a==="popLayout"&&(t=k.jsx(Tq,{isPresent:n,children:t})),k.jsx(Y_.Provider,{value:c,children:t})};function Cq(){return new Map}function s5(t=!0){const e=U.useContext(Y_);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=U.useId();U.useEffect(()=>{t&&i(o)},[t]);const a=U.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const ay=t=>t.key||"";function UL(t){const e=[];return U.Children.forEach(t,n=>{U.isValidElement(n)&&e.push(n)}),e}const uC=typeof window<"u",l5=uC?U.useLayoutEffect:U.useEffect,FL=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1})=>{const[s,l]=s5(a),u=U.useMemo(()=>UL(t),[t]),c=a&&!s?[]:u.map(ay),f=U.useRef(!0),d=U.useRef(u),m=sC(()=>new Map),[y,x]=U.useState(u),[v,g]=U.useState(u);l5(()=>{f.current=!1,d.current=u;for(let w=0;w<v.length;w++){const M=ay(v[w]);c.includes(M)?m.delete(M):m.get(M)!==!0&&m.set(M,!1)}},[v,c.length,c.join("-")]);const _=[];if(u!==y){let w=[...u];for(let M=0;M<v.length;M++){const E=v[M],T=ay(E);c.includes(T)||(w.splice(M,0,E),_.push(E))}o==="wait"&&_.length&&(w=_),g(UL(w)),x(u);return}const{forceRender:S}=U.useContext(aC);return k.jsx(k.Fragment,{children:v.map(w=>{const M=ay(w),E=a&&!s?!1:u===v||c.includes(M),T=()=>{if(m.has(M))m.set(M,!0);else return;let O=!0;m.forEach(N=>{N||(O=!1)}),O&&(S==null||S(),g(d.current),a&&(l==null||l()),r&&r())};return k.jsx(Pq,{isPresent:E,initial:!f.current||n?void 0:!1,custom:E?void 0:e,presenceAffectsLayout:i,mode:o,onExitComplete:E?void 0:T,children:w},M)})})},eo=t=>t;let u5=eo;function cC(t){let e;return()=>(e===void 0&&(e=t()),e)}const hh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ds=t=>t*1e3,ps=t=>t/1e3,Oq={useManualTiming:!1};function Rq(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function s(u){o.has(u)&&(l.schedule(u),t()),u(a)}const l={schedule:(u,c=!1,f=!1)=>{const m=f&&r?e:n;return c&&o.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(a=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(s),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const sy=["read","resolveKeyframes","update","preRender","render","postRender"],Iq=40;function c5(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=sy.reduce((g,_)=>(g[_]=Rq(o),g),{}),{read:s,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:d}=a,m=()=>{const g=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,Iq),1),i.timestamp=g,i.isProcessing=!0,s.process(i),l.process(i),u.process(i),c.process(i),f.process(i),d.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},y=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:sy.reduce((g,_)=>{const S=a[_];return g[_]=(w,M=!1,E=!1)=>(n||y(),S.schedule(w,M,E)),g},{}),cancel:g=>{for(let _=0;_<sy.length;_++)a[sy[_]].cancel(g)},state:i,steps:a}}const{schedule:In,cancel:Il,state:Ur,steps:Yb}=c5(typeof requestAnimationFrame<"u"?requestAnimationFrame:eo,!0),f5=U.createContext({strict:!1}),BL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dh={};for(const t in BL)dh[t]={isEnabled:e=>BL[t].some(n=>!!e[n])};function Lq(t){for(const e in t)dh[e]={...dh[e],...t[e]}}const Nq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function px(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Nq.has(t)}let h5=t=>!px(t);function Dq(t){t&&(h5=e=>e.startsWith("on")?!px(e):t(e))}try{Dq(require("@emotion/is-prop-valid").default)}catch{}function kq(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(h5(i)||n===!0&&px(i)||!e&&!px(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Uq(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const K_=U.createContext({});function fm(t){return typeof t=="string"||Array.isArray(t)}function Z_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const fC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hC=["initial",...fC];function J_(t){return Z_(t.animate)||hC.some(e=>fm(t[e]))}function d5(t){return!!(J_(t)||t.variants)}function Fq(t,e){if(J_(t)){const{initial:n,animate:r}=t;return{initial:n===!1||fm(n)?n:void 0,animate:fm(r)?r:void 0}}return t.inherit!==!1?e:{}}function Bq(t){const{initial:e,animate:n}=Fq(t,U.useContext(K_));return U.useMemo(()=>({initial:e,animate:n}),[zL(e),zL(n)])}function zL(t){return Array.isArray(t)?t.join(" "):t}const zq=Symbol.for("motionComponentSymbol");function Lf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jq(t,e,n){return U.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Lf(n)&&(n.current=r))},[e])}const dC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Vq="framerAppearId",p5="data-"+dC(Vq),{schedule:pC}=c5(queueMicrotask,!1),m5=U.createContext({});function Hq(t,e,n,r,i){var o,a;const{visualElement:s}=U.useContext(K_),l=U.useContext(f5),u=U.useContext(Y_),c=U.useContext(lC).reducedMotion,f=U.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const d=f.current,m=U.useContext(m5);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&$q(f.current,n,i,m);const y=U.useRef(!1);U.useInsertionEffect(()=>{d&&y.current&&d.update(n,u)});const x=n[p5],v=U.useRef(!!x&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,x))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,x)));return l5(()=>{d&&(y.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),pC.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),U.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,x)}),v.current=!1))}),d}function $q(t,e,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:g5(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||s&&Lf(s),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function g5(t){if(t)return t.options.allowProjection!==!1?t.projection:g5(t.parent)}function Wq({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var o,a;t&&Lq(t);function s(u,c){let f;const d={...U.useContext(lC),...u,layoutId:Gq(u)},{isStatic:m}=d,y=Bq(u),x=r(u,m);if(!m&&uC){Xq();const v=qq(d);f=v.MeasureLayout,y.visualElement=Hq(i,x,d,e,v.ProjectionNode)}return k.jsxs(K_.Provider,{value:y,children:[f&&y.visualElement?k.jsx(f,{visualElement:y.visualElement,...d}):null,n(i,u,jq(x,y.visualElement,c),x,m,y.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${(a=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&a!==void 0?a:""})`}`;const l=U.forwardRef(s);return l[zq]=i,l}function Gq({layoutId:t}){const e=U.useContext(aC).id;return e&&t!==void 0?e+"-"+t:t}function Xq(t,e){U.useContext(f5).strict}function qq(t){const{drag:e,layout:n}=dh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Yq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mC(t){return typeof t!="string"||t.includes("-")?!1:!!(Yq.indexOf(t)>-1||/[A-Z]/u.test(t))}function jL(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function gC(t,e,n,r){if(typeof e=="function"){const[i,o]=jL(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=jL(r);e=e(n!==void 0?n:t.custom,i,o)}return e}const CE=t=>Array.isArray(t),Kq=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Zq=t=>CE(t)?t[t.length-1]||0:t,ii=t=>!!(t&&t.getVelocity);function R0(t){const e=ii(t)?t.get():t;return Kq(e)?e.toValue():e}function Jq({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,o){const a={latestValues:Qq(r,i,o,t),renderState:e()};return n&&(a.onMount=s=>n({props:r,current:s,...a}),a.onUpdate=s=>n(s)),a}const v5=t=>(e,n)=>{const r=U.useContext(K_),i=U.useContext(Y_),o=()=>Jq(t,e,r,i);return n?o():sC(o)};function Qq(t,e,n,r){const i={},o=r(t,{});for(const d in o)i[d]=R0(o[d]);let{initial:a,animate:s}=t;const l=J_(t),u=d5(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),s===void 0&&(s=e.animate));let c=n?n.initial===!1:!1;c=c||a===!1;const f=c?s:a;if(f&&typeof f!="boolean"&&!Z_(f)){const d=Array.isArray(f)?f:[f];for(let m=0;m<d.length;m++){const y=gC(t,d[m]);if(y){const{transitionEnd:x,transition:v,...g}=y;for(const _ in g){let S=g[_];if(Array.isArray(S)){const w=c?S.length-1:0;S=S[w]}S!==null&&(i[_]=S)}for(const _ in x)i[_]=x[_]}}}return i}const Xh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sc=new Set(Xh),y5=t=>e=>typeof e=="string"&&e.startsWith(t),x5=y5("--"),eY=y5("var(--"),vC=t=>eY(t)?tY.test(t.split("/*")[0].trim()):!1,tY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_5=(t,e)=>e&&typeof t=="number"?e.transform(t):t,bs=(t,e,n)=>n>e?e:n<t?t:n,qh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hm={...qh,transform:t=>bs(0,1,t)},ly={...qh,default:1},Ag=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),tl=Ag("deg"),Oa=Ag("%"),Tt=Ag("px"),nY=Ag("vh"),rY=Ag("vw"),VL={...Oa,parse:t=>Oa.parse(t)/100,transform:t=>Oa.transform(t*100)},iY={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt},oY={rotate:tl,rotateX:tl,rotateY:tl,rotateZ:tl,scale:ly,scaleX:ly,scaleY:ly,scaleZ:ly,skew:tl,skewX:tl,skewY:tl,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:hm,originX:VL,originY:VL,originZ:Tt},HL={...qh,transform:Math.round},yC={...iY,...oY,zIndex:HL,size:Tt,fillOpacity:hm,strokeOpacity:hm,numOctaves:HL},aY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sY=Xh.length;function lY(t,e,n){let r="",i=!0;for(let o=0;o<sY;o++){const a=Xh[o],s=t[a];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(a.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||n){const u=_5(s,yC[a]);if(!l){i=!1;const c=aY[a]||a;r+=`${c}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function xC(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let a=!1,s=!1;for(const l in e){const u=e[l];if(Sc.has(l)){a=!0;continue}else if(x5(l)){i[l]=u;continue}else{const c=_5(u,yC[l]);l.startsWith("origin")?(s=!0,o[l]=c):r[l]=c}}if(e.transform||(a||n?r.transform=lY(e,t.transform,n):r.transform&&(r.transform="none")),s){const{originX:l="50%",originY:u="50%",originZ:c=0}=o;r.transformOrigin=`${l} ${u} ${c}`}}const uY={offset:"stroke-dashoffset",array:"stroke-dasharray"},cY={offset:"strokeDashoffset",array:"strokeDasharray"};function fY(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?uY:cY;t[o.offset]=Tt.transform(-r);const a=Tt.transform(e),s=Tt.transform(n);t[o.array]=`${a} ${s}`}function $L(t,e,n){return typeof t=="string"?t:Tt.transform(e+n*t)}function hY(t,e,n){const r=$L(e,t.x,t.width),i=$L(n,t.y,t.height);return`${r} ${i}`}function _C(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:a,pathSpacing:s=1,pathOffset:l=0,...u},c,f){if(xC(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:m,dimensions:y}=t;d.transform&&(y&&(m.transform=d.transform),delete d.transform),y&&(i!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=hY(y,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),a!==void 0&&fY(d,a,s,l,!1)}const SC=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),S5=()=>({...SC(),attrs:{}}),bC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function b5(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const w5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function M5(t,e,n,r){b5(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(w5.has(i)?i:dC(i),e.attrs[i])}const mx={};function dY(t){Object.assign(mx,t)}function E5(t,{layout:e,layoutId:n}){return Sc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mx[t]||t==="opacity")}function wC(t,e,n){var r;const{style:i}=t,o={};for(const a in i)(ii(i[a])||e.style&&ii(e.style[a])||E5(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[a]=i[a]);return o}function A5(t,e,n){const r=wC(t,e,n);for(const i in t)if(ii(t[i])||ii(e[i])){const o=Xh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function pY(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const WL=["x","y","width","height","cx","cy","r"],mY={useVisualState:v5({scrapeMotionValuesFromProps:A5,createRenderState:S5,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(const s in i)if(Sc.has(s)){o=!0;break}}if(!o)return;let a=!e;if(e)for(let s=0;s<WL.length;s++){const l=WL[s];t[l]!==e[l]&&(a=!0)}a&&In.read(()=>{pY(n,r),In.render(()=>{_C(r,i,bC(n.tagName),t.transformTemplate),M5(n,r)})})}})},gY={useVisualState:v5({scrapeMotionValuesFromProps:wC,createRenderState:SC})};function T5(t,e,n){for(const r in e)!ii(e[r])&&!E5(r,n)&&(t[r]=e[r])}function vY({transformTemplate:t},e){return U.useMemo(()=>{const n=SC();return xC(n,e,t),Object.assign({},n.vars,n.style)},[e])}function yY(t,e){const n=t.style||{},r={};return T5(r,n,t),Object.assign(r,vY(t,e)),r}function xY(t,e){const n={},r=yY(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function _Y(t,e,n,r){const i=U.useMemo(()=>{const o=S5();return _C(o,e,bC(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};T5(o,t.style,t),i.style={...o,...i.style}}return i}function SY(t=!1){return(n,r,i,{latestValues:o},a)=>{const l=(mC(n)?_Y:xY)(r,o,a,n),u=kq(r,typeof n=="string",t),c=n!==U.Fragment?{...u,...l,ref:i}:{},{children:f}=r,d=U.useMemo(()=>ii(f)?f.get():f,[f]);return U.createElement(n,{...c,children:d})}}function bY(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...mC(r)?mY:gY,preloadedFeatures:t,useRender:SY(i),createVisualElement:e,Component:r};return Wq(a)}}function P5(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Q_(t,e,n){const r=t.getProps();return gC(r,e,n!==void 0?n:r.custom,t)}const wY=cC(()=>window.ScrollTimeline!==void 0);class MY{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(wY()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class EY extends MY{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function MC(t,e){return t?t[e]||t.default||t:void 0}const OE=2e4;function C5(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<OE;)e+=n,r=t.next(e);return e>=OE?1/0:e}function EC(t){return typeof t=="function"}function GL(t,e){t.timeline=e,t.onfinish=null}const AC=t=>Array.isArray(t)&&typeof t[0]=="number",AY={linearEasing:void 0};function TY(t,e){const n=cC(t);return()=>{var r;return(r=AY[e])!==null&&r!==void 0?r:n()}}const gx=TY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),O5=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(hh(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function R5(t){return!!(typeof t=="function"&&gx()||!t||typeof t=="string"&&(t in RE||gx())||AC(t)||Array.isArray(t)&&t.every(R5))}const vp=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,RE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vp([0,.65,.55,1]),circOut:vp([.55,0,1,.45]),backIn:vp([.31,.01,.66,-.59]),backOut:vp([.33,1.53,.69,.99])};function I5(t,e){if(t)return typeof t=="function"&&gx()?O5(t,e):AC(t)?vp(t):Array.isArray(t)?t.map(n=>I5(n,e)||RE.easeOut):RE[t]}const Xo={x:!1,y:!1};function L5(){return Xo.x||Xo.y}function PY(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function N5(t,e){const n=PY(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function XL(t){return e=>{e.pointerType==="touch"||L5()||t(e)}}function CY(t,e,n={}){const[r,i,o]=N5(t,n),a=XL(s=>{const{target:l}=s,u=e(s);if(typeof u!="function"||!l)return;const c=XL(f=>{u(f),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return r.forEach(s=>{s.addEventListener("pointerenter",a,i)}),o}const D5=(t,e)=>e?t===e?!0:D5(t,e.parentElement):!1,TC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,OY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RY(t){return OY.has(t.tagName)||t.tabIndex!==-1}const yp=new WeakSet;function qL(t){return e=>{e.key==="Enter"&&t(e)}}function Kb(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const IY=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=qL(()=>{if(yp.has(n))return;Kb(n,"down");const i=qL(()=>{Kb(n,"up")}),o=()=>Kb(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function YL(t){return TC(t)&&!L5()}function LY(t,e,n={}){const[r,i,o]=N5(t,n),a=s=>{const l=s.currentTarget;if(!YL(s)||yp.has(l))return;yp.add(l);const u=e(s),c=(m,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),!(!YL(m)||!yp.has(l))&&(yp.delete(l),typeof u=="function"&&u(m,{success:y}))},f=m=>{c(m,n.useGlobalTarget||D5(l,m.target))},d=m=>{c(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(s=>{!RY(s)&&s.getAttribute("tabindex")===null&&(s.tabIndex=0),(n.useGlobalTarget?window:s).addEventListener("pointerdown",a,i),s.addEventListener("focus",u=>IY(u,i),i)}),o}function NY(t){return t==="x"||t==="y"?Xo[t]?null:(Xo[t]=!0,()=>{Xo[t]=!1}):Xo.x||Xo.y?null:(Xo.x=Xo.y=!0,()=>{Xo.x=Xo.y=!1})}const k5=new Set(["width","height","top","left","right","bottom",...Xh]);let I0;function DY(){I0=void 0}const Ra={now:()=>(I0===void 0&&Ra.set(Ur.isProcessing||Oq.useManualTiming?Ur.timestamp:performance.now()),I0),set:t=>{I0=t,queueMicrotask(DY)}};function PC(t,e){t.indexOf(e)===-1&&t.push(e)}function CC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class OC{constructor(){this.subscriptions=[]}add(e){return PC(this.subscriptions,e),()=>CC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function U5(t,e){return e?t*(1e3/e):0}const KL=30,kY=t=>!isNaN(parseFloat(t));class UY{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Ra.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ra.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kY(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new OC);const r=this.events[e].add(n);return e==="change"?()=>{r(),In.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ra.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>KL)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,KL);return U5(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dm(t,e){return new UY(t,e)}function FY(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,dm(n))}function BY(t,e){const n=Q_(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o){const s=Zq(o[a]);FY(t,a,s)}}function zY(t){return!!(ii(t)&&t.add)}function IE(t,e){const n=t.getValue("willChange");if(zY(n))return n.add(e)}function F5(t){return t.props[p5]}const B5=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,jY=1e-7,VY=12;function HY(t,e,n,r,i){let o,a,s=0;do a=e+(n-e)/2,o=B5(a,r,i)-t,o>0?n=a:e=a;while(Math.abs(o)>jY&&++s<VY);return a}function Tg(t,e,n,r){if(t===e&&n===r)return eo;const i=o=>HY(o,0,1,t,n);return o=>o===0||o===1?o:B5(i(o),e,r)}const z5=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,j5=t=>e=>1-t(1-e),V5=Tg(.33,1.53,.69,.99),RC=j5(V5),H5=z5(RC),$5=t=>(t*=2)<1?.5*RC(t):.5*(2-Math.pow(2,-10*(t-1))),IC=t=>1-Math.sin(Math.acos(t)),W5=j5(IC),G5=z5(IC),X5=t=>/^0[^.\s]+$/u.test(t);function $Y(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||X5(t):!0}const Rp=t=>Math.round(t*1e5)/1e5,LC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WY(t){return t==null}const GY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,NC=(t,e)=>n=>!!(typeof n=="string"&&GY.test(n)&&n.startsWith(t)||e&&!WY(n)&&Object.prototype.hasOwnProperty.call(n,e)),q5=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,a,s]=r.match(LC);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:s!==void 0?parseFloat(s):1}},XY=t=>bs(0,255,t),Zb={...qh,transform:t=>Math.round(XY(t))},Du={test:NC("rgb","red"),parse:q5("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Zb.transform(t)+", "+Zb.transform(e)+", "+Zb.transform(n)+", "+Rp(hm.transform(r))+")"};function qY(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const LE={test:NC("#"),parse:qY,transform:Du.transform},Nf={test:NC("hsl","hue"),parse:q5("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Oa.transform(Rp(e))+", "+Oa.transform(Rp(n))+", "+Rp(hm.transform(r))+")"},Zr={test:t=>Du.test(t)||LE.test(t)||Nf.test(t),parse:t=>Du.test(t)?Du.parse(t):Nf.test(t)?Nf.parse(t):LE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Du.transform(t):Nf.transform(t)},YY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function KY(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(LC))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(YY))===null||n===void 0?void 0:n.length)||0)>0}const Y5="number",K5="color",ZY="var",JY="var(",ZL="${}",QY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const s=e.replace(QY,l=>(Zr.test(l)?(r.color.push(o),i.push(K5),n.push(Zr.parse(l))):l.startsWith(JY)?(r.var.push(o),i.push(ZY),n.push(l)):(r.number.push(o),i.push(Y5),n.push(parseFloat(l))),++o,ZL)).split(ZL);return{values:n,split:s,indexes:r,types:i}}function Z5(t){return pm(t).values}function J5(t){const{split:e,types:n}=pm(t),r=e.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],i[a]!==void 0){const s=n[a];s===Y5?o+=Rp(i[a]):s===K5?o+=Zr.transform(i[a]):o+=i[a]}return o}}const eK=t=>typeof t=="number"?0:t;function tK(t){const e=Z5(t);return J5(t)(e.map(eK))}const Ll={test:KY,parse:Z5,createTransformer:J5,getAnimatableNone:tK},nK=new Set(["brightness","contrast","saturate","opacity"]);function rK(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(LC)||[];if(!r)return t;const i=n.replace(r,"");let o=nK.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const iK=/\b([a-z-]*)\(.*?\)/gu,NE={...Ll,getAnimatableNone:t=>{const e=t.match(iK);return e?e.map(rK).join(" "):t}},oK={...yC,color:Zr,backgroundColor:Zr,outlineColor:Zr,fill:Zr,stroke:Zr,borderColor:Zr,borderTopColor:Zr,borderRightColor:Zr,borderBottomColor:Zr,borderLeftColor:Zr,filter:NE,WebkitFilter:NE},DC=t=>oK[t];function Q5(t,e){let n=DC(t);return n!==NE&&(n=Ll),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const aK=new Set(["auto","none","0"]);function sK(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!aK.has(o)&&pm(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=Q5(n,i)}const JL=t=>t===qh||t===Tt,QL=(t,e)=>parseFloat(t.split(", ")[e]),eN=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return QL(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?QL(o[1],t):0}},lK=new Set(["x","y","z"]),uK=Xh.filter(t=>!lK.has(t));function cK(t){const e=[];return uK.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ph={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:eN(4,13),y:eN(5,14)};ph.translateX=ph.x;ph.translateY=ph.y;const Yu=new Set;let DE=!1,kE=!1;function ej(){if(kE){const t=Array.from(Yu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=cK(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,a])=>{var s;(s=r.getValue(o))===null||s===void 0||s.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}kE=!1,DE=!1,Yu.forEach(t=>t.complete()),Yu.clear()}function tj(){Yu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(kE=!0)})}function fK(){tj(),ej()}class kC{constructor(e,n,r,i,o,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Yu.add(this),DE||(DE=!0,In.read(tj),In.resolveKeyframes(ej))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const a=i==null?void 0:i.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const l=r.readValue(n,s);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=s),i&&a===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Yu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Yu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const nj=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),hK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dK(t){const e=hK.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function rj(t,e,n=1){const[r,i]=dK(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return nj(a)?parseFloat(a):a}return vC(i)?rj(i,e,n+1):i}const ij=t=>e=>e.test(t),pK={test:t=>t==="auto",parse:t=>t},oj=[qh,Tt,Oa,tl,rY,nY,pK],tN=t=>oj.find(ij(t));class aj extends kC{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),vC(u))){const c=rj(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!k5.has(r)||e.length!==2)return;const[i,o]=e,a=tN(i),s=tN(o);if(a!==s)if(JL(a)&&JL(s))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)$Y(e[i])&&r.push(i);r.length&&sK(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ph[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const a=i.length-1,s=i[a];i[a]=ph[r](n.measureViewportBox(),window.getComputedStyle(n.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const nN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ll.test(t)||t==="0")&&!t.startsWith("url("));function mK(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function gK(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=nN(i,e),s=nN(o,e);return!a||!s?!1:mK(t)||(n==="spring"||EC(n))&&r}const vK=t=>t!==null;function e1(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(vK),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const yK=40;class sj{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",...s}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ra.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>yK?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&fK(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ra.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:a,onComplete:s,onUpdate:l,isGenerator:u}=this.options;if(!u&&!gK(e,r,i,o))if(a)this.options.duration=0;else{l&&l(e1(e,this.options,n)),s&&s(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const jn=(t,e,n)=>t+(e-t)*n;function Jb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,a=0;if(!e)i=o=a=n;else{const s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=Jb(l,s,t+1/3),o=Jb(l,s,t),a=Jb(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function vx(t,e){return n=>n>0?e:t}const Qb=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},_K=[LE,Du,Nf],SK=t=>_K.find(e=>e.test(t));function rN(t){const e=SK(t);if(!e)return!1;let n=e.parse(t);return e===Nf&&(n=xK(n)),n}const iN=(t,e)=>{const n=rN(t),r=rN(e);if(!n||!r)return vx(t,e);const i={...n};return o=>(i.red=Qb(n.red,r.red,o),i.green=Qb(n.green,r.green,o),i.blue=Qb(n.blue,r.blue,o),i.alpha=jn(n.alpha,r.alpha,o),Du.transform(i))},bK=(t,e)=>n=>e(t(n)),Pg=(...t)=>t.reduce(bK),UE=new Set(["none","hidden"]);function wK(t,e){return UE.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function MK(t,e){return n=>jn(t,e,n)}function UC(t){return typeof t=="number"?MK:typeof t=="string"?vC(t)?vx:Zr.test(t)?iN:TK:Array.isArray(t)?lj:typeof t=="object"?Zr.test(t)?iN:EK:vx}function lj(t,e){const n=[...t],r=n.length,i=t.map((o,a)=>UC(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}}function EK(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=UC(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function AK(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],s=t.indexes[a][i[a]],l=(n=t.values[s])!==null&&n!==void 0?n:0;r[o]=l,i[a]++}return r}const TK=(t,e)=>{const n=Ll.createTransformer(e),r=pm(t),i=pm(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?UE.has(t)&&!i.values.length||UE.has(e)&&!r.values.length?wK(t,e):Pg(lj(AK(r,i),i.values),n):vx(t,e)};function uj(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?jn(t,e,n):UC(t)(t,e)}const PK=5;function cj(t,e,n){const r=Math.max(e-PK,0);return U5(n-t(r),e-r)}const Zn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ew=.001;function CK({duration:t=Zn.duration,bounce:e=Zn.bounce,velocity:n=Zn.velocity,mass:r=Zn.mass}){let i,o,a=1-e;a=bs(Zn.minDamping,Zn.maxDamping,a),t=bs(Zn.minDuration,Zn.maxDuration,ps(t)),a<1?(i=u=>{const c=u*a,f=c*t,d=c-n,m=FE(u,a),y=Math.exp(-f);return ew-d/m*y},o=u=>{const f=u*a*t,d=f*n+n,m=Math.pow(a,2)*Math.pow(u,2)*t,y=Math.exp(-f),x=FE(Math.pow(u,2),a);return(-i(u)+ew>0?-1:1)*((d-m)*y)/x}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-ew+c*f},o=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const s=5/t,l=RK(i,o,s);if(t=ds(t),isNaN(l))return{stiffness:Zn.stiffness,damping:Zn.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const OK=12;function RK(t,e,n){let r=n;for(let i=1;i<OK;i++)r=r-t(r)/e(r);return r}function FE(t,e){return t*Math.sqrt(1-e*e)}const IK=["duration","bounce"],LK=["stiffness","damping","mass"];function oN(t,e){return e.some(n=>t[n]!==void 0)}function NK(t){let e={velocity:Zn.velocity,stiffness:Zn.stiffness,damping:Zn.damping,mass:Zn.mass,isResolvedFromDuration:!1,...t};if(!oN(t,LK)&&oN(t,IK))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*bs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Zn.mass,stiffness:i,damping:o}}else{const n=CK(t);e={...e,...n,mass:Zn.mass},e.isResolvedFromDuration=!0}return e}function fj(t=Zn.visualDuration,e=Zn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],s={done:!1,value:o},{stiffness:l,damping:u,mass:c,duration:f,velocity:d,isResolvedFromDuration:m}=NK({...n,velocity:-ps(n.velocity||0)}),y=d||0,x=u/(2*Math.sqrt(l*c)),v=a-o,g=ps(Math.sqrt(l/c)),_=Math.abs(v)<5;r||(r=_?Zn.restSpeed.granular:Zn.restSpeed.default),i||(i=_?Zn.restDelta.granular:Zn.restDelta.default);let S;if(x<1){const M=FE(g,x);S=E=>{const T=Math.exp(-x*g*E);return a-T*((y+x*g*v)/M*Math.sin(M*E)+v*Math.cos(M*E))}}else if(x===1)S=M=>a-Math.exp(-g*M)*(v+(y+g*v)*M);else{const M=g*Math.sqrt(x*x-1);S=E=>{const T=Math.exp(-x*g*E),O=Math.min(M*E,300);return a-T*((y+x*g*v)*Math.sinh(O)+M*v*Math.cosh(O))/M}}const w={calculatedDuration:m&&f||null,next:M=>{const E=S(M);if(m)s.done=M>=f;else{let T=0;x<1&&(T=M===0?ds(y):cj(S,M,E));const O=Math.abs(T)<=r,N=Math.abs(a-E)<=i;s.done=O&&N}return s.value=s.done?a:E,s},toString:()=>{const M=Math.min(C5(w),OE),E=O5(T=>w.next(M*T).value,M,30);return M+"ms "+E}};return w}function aN({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:s,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],d={done:!1,value:f},m=O=>s!==void 0&&O<s||l!==void 0&&O>l,y=O=>s===void 0?l:l===void 0||Math.abs(s-O)<Math.abs(l-O)?s:l;let x=n*e;const v=f+x,g=a===void 0?v:a(v);g!==v&&(x=g-f);const _=O=>-x*Math.exp(-O/r),S=O=>g+_(O),w=O=>{const N=_(O),P=S(O);d.done=Math.abs(N)<=u,d.value=d.done?g:P};let M,E;const T=O=>{m(d.value)&&(M=O,E=fj({keyframes:[d.value,y(d.value)],velocity:cj(S,O,d.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:O=>{let N=!1;return!E&&M===void 0&&(N=!0,w(O),T(O)),M!==void 0&&O>=M?E.next(O-M):(!N&&w(O),d)}}}const DK=Tg(.42,0,1,1),kK=Tg(0,0,.58,1),hj=Tg(.42,0,.58,1),UK=t=>Array.isArray(t)&&typeof t[0]!="number",FK={linear:eo,easeIn:DK,easeInOut:hj,easeOut:kK,circIn:IC,circInOut:G5,circOut:W5,backIn:RC,backInOut:H5,backOut:V5,anticipate:$5},sN=t=>{if(AC(t)){u5(t.length===4);const[e,n,r,i]=t;return Tg(e,n,r,i)}else if(typeof t=="string")return FK[t];return t};function BK(t,e,n){const r=[],i=n||uj,o=t.length-1;for(let a=0;a<o;a++){let s=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||eo:e;s=Pg(l,s)}r.push(s)}return r}function zK(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(u5(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=BK(e,r,i),l=s.length,u=c=>{if(a&&c<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const d=hh(t[f],t[f+1],c);return s[f](d)};return n?c=>u(bs(t[0],t[o-1],c)):u}function jK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=hh(0,e,r);t.push(jn(n,1,i))}}function VK(t){const e=[0];return jK(e,t.length-1),e}function HK(t,e){return t.map(n=>n*e)}function $K(t,e){return t.map(()=>e||hj).splice(0,t.length-1)}function yx({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=UK(r)?r.map(sN):sN(r),o={done:!1,value:e[0]},a=HK(n&&n.length===e.length?n:VK(e),t),s=zK(a,e,{ease:Array.isArray(i)?i:$K(e,i)});return{calculatedDuration:t,next:l=>(o.value=s(l),o.done=l>=t,o)}}const WK=t=>{const e=({timestamp:n})=>t(n);return{start:()=>In.update(e,!0),stop:()=>Il(e),now:()=>Ur.isProcessing?Ur.timestamp:Ra.now()}},GK={decay:aN,inertia:aN,tween:yx,keyframes:yx,spring:fj},XK=t=>t/100;class FC extends sj{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,a=(i==null?void 0:i.KeyframeResolver)||kC,s=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new a(o,s,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=this.options,s=EC(n)?n:GK[n]||yx;let l,u;s!==yx&&typeof e[0]!="number"&&(l=Pg(XK,uj(e[0],e[1])),e=[0,100]);const c=s({...this.options,keyframes:e});o==="mirror"&&(u=s({...this.options,keyframes:[...e].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=C5(c));const{calculatedDuration:f}=c,d=f+i,m=d*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:d,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:O}=this.options;return{done:!0,value:O[O.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:a,mapPercentToKeyframes:s,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return o.next(0);const{delay:d,repeat:m,repeatType:y,repeatDelay:x,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),_=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let S=this.currentTime,w=o;if(m){const O=Math.min(this.currentTime,c)/f;let N=Math.floor(O),P=O%1;!P&&O>=1&&(P=1),P===1&&N--,N=Math.min(N,m+1),!!(N%2)&&(y==="reverse"?(P=1-P,x&&(P-=x/f)):y==="mirror"&&(w=a)),S=bs(0,1,P)*f}const M=_?{done:!1,value:l[0]}:w.next(S);s&&(M.value=s(M.value));let{done:E}=M;!_&&u!==null&&(E=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return T&&i!==void 0&&(M.value=e1(l,this.options,i)),v&&v(M.value),T&&this.finish(),M}get duration(){const{resolved:e}=this;return e?ps(e.calculatedDuration):0}get time(){return ps(this.currentTime)}set time(e){e=ds(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ps(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=WK,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const qK=new Set(["opacity","clipPath","filter","transform"]);function YK(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:s="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=I5(s,i);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}const KK=cC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xx=10,ZK=2e4;function JK(t){return EC(t.type)||t.type==="spring"||!R5(t.ease)}function QK(t,e){const n=new FC({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<ZK;)r=n.sample(o),i.push(r.value),o+=xx;return{times:void 0,keyframes:i,duration:o-xx,ease:"linear"}}const dj={anticipate:$5,backInOut:H5,circInOut:G5};function eZ(t){return t in dj}class lN extends sj{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new aj(o,(a,s)=>this.onKeyframesResolved(a,s),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:o,type:a,motionValue:s,name:l,startTime:u}=this.options;if(!s.owner||!s.owner.current)return!1;if(typeof o=="string"&&gx()&&eZ(o)&&(o=dj[o]),JK(this.options)){const{onComplete:f,onUpdate:d,motionValue:m,element:y,...x}=this.options,v=QK(e,x);e=v.keyframes,e.length===1&&(e[1]=e[0]),r=v.duration,i=v.times,o=v.ease,a="keyframes"}const c=YK(s.owner.current,l,e,{...this.options,duration:r,times:i,ease:o});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(GL(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:f}=this.options;s.set(e1(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ps(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ps(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ds(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return eo;const{animation:r}=n;GL(r,e)}return eo}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:a,times:s}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:f,element:d,...m}=this.options,y=new FC({...m,keyframes:r,duration:i,type:o,ease:a,times:s,isGenerator:!0}),x=ds(this.time);u.setWithVelocity(y.sample(x-xx).value,y.sample(x).value,xx)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:a,type:s}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return KK()&&r&&qK.has(r)&&!l&&!u&&!i&&o!=="mirror"&&a!==0&&s!=="inertia"}}const tZ={type:"spring",stiffness:500,damping:25,restSpeed:10},nZ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rZ={type:"keyframes",duration:.8},iZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oZ=(t,{keyframes:e})=>e.length>2?rZ:Sc.has(t)?t.startsWith("scale")?nZ(e[1]):tZ:iZ;function aZ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:s,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const BC=(t,e,n,r={},i,o)=>a=>{const s=MC(r,t)||{},l=s.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ds(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-u,onUpdate:d=>{e.set(d),s.onUpdate&&s.onUpdate(d)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:o?void 0:i};aZ(s)||(c={...c,...oZ(t,c)}),c.duration&&(c.duration=ds(c.duration)),c.repeatDelay&&(c.repeatDelay=ds(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!o&&e.get()!==void 0){const d=e1(c.keyframes,s);if(d!==void 0)return In.update(()=>{c.onUpdate(d),c.onComplete()}),new EY([])}return!o&&lN.supports(c)?new lN(c):new FC(c)};function sZ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function pj(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:a=t.getDefaultTransition(),transitionEnd:s,...l}=e;r&&(a=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const d=t.getValue(f,(o=t.latestValues[f])!==null&&o!==void 0?o:null),m=l[f];if(m===void 0||c&&sZ(c,f))continue;const y={delay:n,...MC(a||{},f)};let x=!1;if(window.MotionHandoffAnimation){const g=F5(t);if(g){const _=window.MotionHandoffAnimation(g,f,In);_!==null&&(y.startTime=_,x=!0)}}IE(t,f),d.start(BC(f,d,m,t.shouldReduceMotion&&k5.has(f)?{type:!1}:y,t,x));const v=d.animation;v&&u.push(v)}return s&&Promise.all(u).then(()=>{In.update(()=>{s&&BY(t,s)})}),u}function BE(t,e,n={}){var r;const i=Q_(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all(pj(t,i,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=o;return lZ(t,e,c+u,f,d,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,c]=l==="beforeChildren"?[a,s]:[s,a];return u().then(()=>c())}else return Promise.all([a(),s(n.delay)])}function lZ(t,e,n=0,r=0,i=1,o){const a=[],s=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>s-u*r;return Array.from(t.variantChildren).sort(uZ).forEach((u,c)=>{u.notify("AnimationStart",e),a.push(BE(u,e,{...o,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function uZ(t,e){return t.sortNodePosition(e)}function cZ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>BE(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=BE(t,e,n);else{const i=typeof e=="function"?Q_(t,e,n.custom):e;r=Promise.all(pj(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const fZ=hC.length;function mj(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mj(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fZ;n++){const r=hC[n],i=t.props[r];(fm(i)||i===!1)&&(e[r]=i)}return e}const hZ=[...fC].reverse(),dZ=fC.length;function pZ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>cZ(t,n,r)))}function mZ(t){let e=pZ(t),n=uN(),r=!0;const i=l=>(u,c)=>{var f;const d=Q_(t,c,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(d){const{transition:m,transitionEnd:y,...x}=d;u={...u,...x,...y}}return u};function o(l){e=l(t)}function a(l){const{props:u}=t,c=mj(t.parent)||{},f=[],d=new Set;let m={},y=1/0;for(let v=0;v<dZ;v++){const g=hZ[v],_=n[g],S=u[g]!==void 0?u[g]:c[g],w=fm(S),M=g===l?_.isActive:null;M===!1&&(y=v);let E=S===c[g]&&S!==u[g]&&w;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),_.protectedKeys={...m},!_.isActive&&M===null||!S&&!_.prevProp||Z_(S)||typeof S=="boolean")continue;const T=gZ(_.prevProp,S);let O=T||g===l&&_.isActive&&!E&&w||v>y&&w,N=!1;const P=Array.isArray(S)?S:[S];let R=P.reduce(i(g),{});M===!1&&(R={});const{prevResolvedValues:j={}}=_,Y={...j,...R},F=te=>{O=!0,d.has(te)&&(N=!0,d.delete(te)),_.needsAnimating[te]=!0;const B=t.getValue(te);B&&(B.liveStyle=!1)};for(const te in Y){const B=R[te],q=j[te];if(m.hasOwnProperty(te))continue;let Z=!1;CE(B)&&CE(q)?Z=!P5(B,q):Z=B!==q,Z?B!=null?F(te):d.add(te):B!==void 0&&d.has(te)?F(te):_.protectedKeys[te]=!0}_.prevProp=S,_.prevResolvedValues=R,_.isActive&&(m={...m,...R}),r&&t.blockInitialAnimation&&(O=!1),O&&(!(E&&T)||N)&&f.push(...P.map(te=>({animation:te,options:{type:g}})))}if(d.size){const v={};d.forEach(g=>{const _=t.getBaseTarget(g),S=t.getValue(g);S&&(S.liveStyle=!0),v[g]=_??null}),f.push({animation:v})}let x=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(f):Promise.resolve()}function s(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(d=>{var m;return(m=d.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const f=a(l);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:a,setActive:s,setAnimateFunction:o,getState:()=>n,reset:()=>{n=uN(),r=!0}}}function gZ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!P5(e,t):!1}function su(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uN(){return{animate:su(!0),whileInView:su(),whileHover:su(),whileTap:su(),whileDrag:su(),whileFocus:su(),exit:su()}}class zl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vZ extends zl{constructor(e){super(e),e.animationState||(e.animationState=mZ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Z_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let yZ=0;class xZ extends zl{constructor(){super(...arguments),this.id=yZ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const _Z={animation:{Feature:vZ},exit:{Feature:xZ}};function mm(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Cg(t){return{point:{x:t.pageX,y:t.pageY}}}const SZ=t=>e=>TC(e)&&t(e,Cg(e));function Ip(t,e,n,r){return mm(t,e,SZ(n),r)}const cN=(t,e)=>Math.abs(t-e);function bZ(t,e){const n=cN(t.x,e.x),r=cN(t.y,e.y);return Math.sqrt(n**2+r**2)}class gj{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=nw(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,m=bZ(f.offset,{x:0,y:0})>=3;if(!d&&!m)return;const{point:y}=f,{timestamp:x}=Ur;this.history.push({...y,timestamp:x});const{onStart:v,onMove:g}=this.handlers;d||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=tw(d,this.transformPagePoint),In.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=nw(f.type==="pointercancel"?this.lastMoveEventInfo:tw(d,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,v),y&&y(f,v)},!TC(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=Cg(e),s=tw(a,this.transformPagePoint),{point:l}=s,{timestamp:u}=Ur;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,nw(s,this.history)),this.removeListeners=Pg(Ip(this.contextWindow,"pointermove",this.handlePointerMove),Ip(this.contextWindow,"pointerup",this.handlePointerUp),Ip(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Il(this.updatePoint)}}function tw(t,e){return e?{point:e(t.point)}:t}function fN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nw({point:t},e){return{point:t,delta:fN(t,vj(e)),offset:fN(t,wZ(e)),velocity:MZ(e,.1)}}function wZ(t){return t[0]}function vj(t){return t[t.length-1]}function MZ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=vj(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ds(e)));)n--;if(!r)return{x:0,y:0};const o=ps(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const yj=1e-4,EZ=1-yj,AZ=1+yj,xj=.01,TZ=0-xj,PZ=0+xj;function ro(t){return t.max-t.min}function CZ(t,e,n){return Math.abs(t-e)<=n}function hN(t,e,n,r=.5){t.origin=r,t.originPoint=jn(e.min,e.max,t.origin),t.scale=ro(n)/ro(e),t.translate=jn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=EZ&&t.scale<=AZ||isNaN(t.scale))&&(t.scale=1),(t.translate>=TZ&&t.translate<=PZ||isNaN(t.translate))&&(t.translate=0)}function Lp(t,e,n,r){hN(t.x,e.x,n.x,r?r.originX:void 0),hN(t.y,e.y,n.y,r?r.originY:void 0)}function dN(t,e,n){t.min=n.min+e.min,t.max=t.min+ro(e)}function OZ(t,e,n){dN(t.x,e.x,n.x),dN(t.y,e.y,n.y)}function pN(t,e,n){t.min=e.min-n.min,t.max=t.min+ro(e)}function Np(t,e,n){pN(t.x,e.x,n.x),pN(t.y,e.y,n.y)}function RZ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?jn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?jn(n,t,r.max):Math.min(t,n)),t}function mN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function IZ(t,{top:e,left:n,bottom:r,right:i}){return{x:mN(t.x,n,i),y:mN(t.y,e,r)}}function gN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function LZ(t,e){return{x:gN(t.x,e.x),y:gN(t.y,e.y)}}function NZ(t,e){let n=.5;const r=ro(t),i=ro(e);return i>r?n=hh(e.min,e.max-r,t.min):r>i&&(n=hh(t.min,t.max-i,e.min)),bs(0,1,n)}function DZ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const zE=.35;function kZ(t=zE){return t===!1?t=0:t===!0&&(t=zE),{x:vN(t,"left","right"),y:vN(t,"top","bottom")}}function vN(t,e,n){return{min:yN(t,e),max:yN(t,n)}}function yN(t,e){return typeof t=="number"?t:t[e]||0}const xN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Df=()=>({x:xN(),y:xN()}),_N=()=>({min:0,max:0}),ir=()=>({x:_N(),y:_N()});function Eo(t){return[t("x"),t("y")]}function _j({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function UZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function FZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function rw(t){return t===void 0||t===1}function jE({scale:t,scaleX:e,scaleY:n}){return!rw(t)||!rw(e)||!rw(n)}function Su(t){return jE(t)||Sj(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Sj(t){return SN(t.x)||SN(t.y)}function SN(t){return t&&t!=="0%"}function _x(t,e,n){const r=t-n,i=e*r;return n+i}function bN(t,e,n,r,i){return i!==void 0&&(t=_x(t,i,r)),_x(t,n,r)+e}function VE(t,e=0,n=1,r,i){t.min=bN(t.min,e,n,r,i),t.max=bN(t.max,e,n,r,i)}function bj(t,{x:e,y:n}){VE(t.x,e.translate,e.scale,e.originPoint),VE(t.y,n.translate,n.scale,n.originPoint)}const wN=.999999999999,MN=1.0000000000001;function BZ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,a;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Uf(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,bj(t,a)),r&&Su(o.latestValues)&&Uf(t,o.latestValues))}e.x<MN&&e.x>wN&&(e.x=1),e.y<MN&&e.y>wN&&(e.y=1)}function kf(t,e){t.min=t.min+e,t.max=t.max+e}function EN(t,e,n,r,i=.5){const o=jn(t.min,t.max,i);VE(t,e,n,o,r)}function Uf(t,e){EN(t.x,e.x,e.scaleX,e.scale,e.originX),EN(t.y,e.y,e.scaleY,e.scale,e.originY)}function wj(t,e){return _j(FZ(t.getBoundingClientRect(),e))}function zZ(t,e,n){const r=wj(t,n),{scroll:i}=e;return i&&(kf(r.x,i.offset.x),kf(r.y,i.offset.y)),r}const Mj=({current:t})=>t?t.ownerDocument.defaultView:null,jZ=new WeakMap;class VZ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ir(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cg(c).point)},o=(c,f)=>{const{drag:d,dragPropagation:m,onDragStart:y}=this.getProps();if(d&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NY(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Eo(v=>{let g=this.getAxisMotionValue(v).get()||0;if(Oa.test(g)){const{projection:_}=this.visualElement;if(_&&_.layout){const S=_.layout.layoutBox[v];S&&(g=ro(S)*(parseFloat(g)/100))}}this.originPoint[v]=g}),y&&In.postRender(()=>y(c,f)),IE(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(c,f)=>{const{dragPropagation:d,dragDirectionLock:m,onDirectionLock:y,onDrag:x}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:v}=f;if(m&&this.currentDirection===null){this.currentDirection=HZ(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),x&&x(c,f)},s=(c,f)=>this.stop(c,f),l=()=>Eo(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new gj(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Mj(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&In.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!uy(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=RZ(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Lf(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=IZ(i.layoutBox,n):this.constraints=!1,this.elastic=kZ(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Eo(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=DZ(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Lf(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=zZ(r,i.root,this.visualElement.getTransformPagePoint());let a=LZ(i.layout.layoutBox,o);if(n){const s=n(UZ(a));this.hasMutatedConstraints=!!s,s&&(a=_j(s))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=Eo(c=>{if(!uy(c,n,this.currentDirection))return;let f=l&&l[c]||{};a&&(f={min:0,max:0});const d=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(s)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return IE(this.visualElement,e),r.start(BC(e,r,0,n,this.visualElement,!1))}stopAnimation(){Eo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Eo(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Eo(n=>{const{drag:r}=this.getProps();if(!uy(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:s}=i.layout.layoutBox[n];o.set(e[n]-jn(a,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Lf(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Eo(a=>{const s=this.getAxisMotionValue(a);if(s&&this.constraints!==!1){const l=s.get();i[a]=NZ({min:l,max:l},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Eo(a=>{if(!uy(a,e,null))return;const s=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];s.set(jn(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;jZ.set(this.visualElement,this);const e=this.visualElement.current,n=Ip(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Lf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),In.read(r);const a=mm(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Eo(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=zE,dragMomentum:s=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:s}}}function uy(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function HZ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $Z extends zl{constructor(e){super(e),this.removeGroupControls=eo,this.removeListeners=eo,this.controls=new VZ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||eo}unmount(){this.removeGroupControls(),this.removeListeners()}}const AN=t=>(e,n)=>{t&&In.postRender(()=>t(e,n))};class WZ extends zl{constructor(){super(...arguments),this.removePointerDownListener=eo}onPointerDown(e){this.session=new gj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Mj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:AN(e),onStart:AN(n),onMove:r,onEnd:(o,a)=>{delete this.session,i&&In.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=Ip(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const L0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function TN(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Tt.test(t))t=parseFloat(t);else return t;const n=TN(t,e.target.x),r=TN(t,e.target.y);return`${n}% ${r}%`}},GZ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ll.parse(t);if(i.length>5)return r;const o=Ll.createTransformer(t),a=typeof i[0]!="number"?1:0,s=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=s,i[1+a]/=l;const u=jn(s,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),o(i)}};class XZ extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;dY(qZ),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),L0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||In.postRender(()=>{const s=a.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ej(t){const[e,n]=s5(),r=U.useContext(aC);return k.jsx(XZ,{...t,layoutGroup:r,switchLayoutGroup:U.useContext(m5),isPresent:e,safeToRemove:n})}const qZ={borderRadius:{...jd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jd,borderTopRightRadius:jd,borderBottomLeftRadius:jd,borderBottomRightRadius:jd,boxShadow:GZ};function YZ(t,e,n){const r=ii(t)?t:dm(t);return r.start(BC("",r,e,n)),r.animation}function KZ(t){return t instanceof SVGElement&&t.tagName!=="svg"}const ZZ=(t,e)=>t.depth-e.depth;class JZ{constructor(){this.children=[],this.isDirty=!1}add(e){PC(this.children,e),this.isDirty=!0}remove(e){CC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZZ),this.isDirty=!1,this.children.forEach(e)}}function QZ(t,e){const n=Ra.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Il(r),t(o-e))};return In.read(r,!0),()=>Il(r)}const Aj=["TopLeft","TopRight","BottomLeft","BottomRight"],eJ=Aj.length,PN=t=>typeof t=="string"?parseFloat(t):t,CN=t=>typeof t=="number"||Tt.test(t);function tJ(t,e,n,r,i,o){i?(t.opacity=jn(0,n.opacity!==void 0?n.opacity:1,nJ(r)),t.opacityExit=jn(e.opacity!==void 0?e.opacity:1,0,rJ(r))):o&&(t.opacity=jn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<eJ;a++){const s=`border${Aj[a]}Radius`;let l=ON(e,s),u=ON(n,s);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||CN(l)===CN(u)?(t[s]=Math.max(jn(PN(l),PN(u),r),0),(Oa.test(u)||Oa.test(l))&&(t[s]+="%")):t[s]=u}(e.rotate||n.rotate)&&(t.rotate=jn(e.rotate||0,n.rotate||0,r))}function ON(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nJ=Tj(0,.5,W5),rJ=Tj(.5,.95,eo);function Tj(t,e,n){return r=>r<t?0:r>e?1:n(hh(t,e,r))}function RN(t,e){t.min=e.min,t.max=e.max}function xo(t,e){RN(t.x,e.x),RN(t.y,e.y)}function IN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function LN(t,e,n,r,i){return t-=e,t=_x(t,1/n,r),i!==void 0&&(t=_x(t,1/i,r)),t}function iJ(t,e=0,n=1,r=.5,i,o=t,a=t){if(Oa.test(e)&&(e=parseFloat(e),e=jn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let s=jn(o.min,o.max,r);t===o&&(s-=e),t.min=LN(t.min,e,n,s,i),t.max=LN(t.max,e,n,s,i)}function NN(t,e,[n,r,i],o,a){iJ(t,e[n],e[r],e[i],e.scale,o,a)}const oJ=["x","scaleX","originX"],aJ=["y","scaleY","originY"];function DN(t,e,n,r){NN(t.x,e,oJ,n?n.x:void 0,r?r.x:void 0),NN(t.y,e,aJ,n?n.y:void 0,r?r.y:void 0)}function kN(t){return t.translate===0&&t.scale===1}function Pj(t){return kN(t.x)&&kN(t.y)}function UN(t,e){return t.min===e.min&&t.max===e.max}function sJ(t,e){return UN(t.x,e.x)&&UN(t.y,e.y)}function FN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Cj(t,e){return FN(t.x,e.x)&&FN(t.y,e.y)}function BN(t){return ro(t.x)/ro(t.y)}function zN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class lJ{constructor(){this.members=[]}add(e){PC(this.members,e),e.scheduleRender()}remove(e){if(CC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uJ(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:d,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const bu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},xp=typeof window<"u"&&window.MotionDebug!==void 0,iw=["","X","Y","Z"],cJ={visibility:"hidden"},jN=1e3;let fJ=0;function ow(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Oj(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=F5(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",In,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Oj(r)}function Rj({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},s=e==null?void 0:e()){this.id=fJ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xp&&(bu.totalNodes=bu.resolvedTargetDeltas=bu.recalculatedProjection=0),this.nodes.forEach(pJ),this.nodes.forEach(xJ),this.nodes.forEach(_J),this.nodes.forEach(mJ),xp&&window.MotionDebug.record(bu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new JZ)}addEventListener(a,s){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new OC),this.eventHandlers.get(a).add(s)}notifyListeners(a,...s){const l=this.eventHandlers.get(a);l&&l.notify(...s)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=KZ(a),this.instance=a;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const d=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=QZ(d,250),L0.hasAnimatedSinceResize&&(L0.hasAnimatedSinceResize=!1,this.nodes.forEach(HN))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||EJ,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=c.getProps(),_=!this.targetLayout||!Cj(this.targetLayout,y)||m,S=!d&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,S);const w={...MC(x,"layout"),onPlay:v,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else d||HN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Il(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SJ),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Oj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VN);return}this.isUpdating||this.nodes.forEach(vJ),this.isUpdating=!1,this.nodes.forEach(yJ),this.nodes.forEach(hJ),this.nodes.forEach(dJ),this.clearAllSnapshots();const s=Ra.now();Ur.delta=bs(0,1e3/60,s-Ur.timestamp),Ur.timestamp=s,Ur.isProcessing=!0,Yb.update.process(Ur),Yb.preRender.process(Ur),Yb.render.process(Ur),Ur.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gJ),this.sharedNodes.forEach(bJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,In.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){In.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(s=!1),s){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!Pj(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&(s||Su(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return a&&(l=this.removeTransform(l)),AJ(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:s}=this.options;if(!s)return ir();const l=s.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(TJ))){const{scroll:c}=this.root;c&&(kf(l.x,c.offset.x),kf(l.y,c.offset.y))}return l}removeElementScroll(a){var s;const l=ir();if(xo(l,a),!((s=this.scroll)===null||s===void 0)&&s.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:d}=c;c!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&xo(l,a),kf(l.x,f.offset.x),kf(l.y,f.offset.y))}return l}applyTransform(a,s=!1){const l=ir();xo(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Uf(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Su(c.latestValues)&&Uf(l,c.latestValues)}return Su(this.latestValues)&&Uf(l,this.latestValues),l}removeTransform(a){const s=ir();xo(s,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Su(u.latestValues))continue;jE(u.latestValues)&&u.updateSnapshot();const c=ir(),f=u.measurePageBox();xo(c,f),DN(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Su(this.latestValues)&&DN(s,this.latestValues),s}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ur.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=Ur.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ir(),this.relativeTargetOrigin=ir(),Np(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ir(),this.targetWithTransforms=ir()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xo(this.target,this.layout.layoutBox),bj(this.target,this.targetDelta)):xo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ir(),this.relativeTargetOrigin=ir(),Np(this.relativeTargetOrigin,this.target,m.target),xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xp&&bu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jE(this.parent.latestValues)||Sj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ur.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;xo(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;BZ(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=ir());const{target:y}=s;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(IN(this.prevProjectionDelta.x,this.projectionDelta.x),IN(this.prevProjectionDelta.y,this.projectionDelta.y)),Lp(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!zN(this.projectionDelta.x,this.prevProjectionDelta.x)||!zN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),xp&&bu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var s;if((s=this.options.visualElement)===null||s===void 0||s.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Df(),this.projectionDelta=Df(),this.projectionDeltaWithTransform=Df()}setAnimationOrigin(a,s=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Df();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const d=ir(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,v=this.getStack(),g=!v||v.members.length<=1,_=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(MJ));this.animationProgress=0;let S;this.mixTargetDelta=w=>{const M=w/1e3;$N(f.x,a.x,M),$N(f.y,a.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Np(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wJ(this.relativeTarget,this.relativeTargetOrigin,d,M),S&&sJ(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=ir()),xo(S,this.relativeTarget)),x&&(this.animationValues=c,tJ(c,u,this.latestValues,M,_,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Il(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=In.update(()=>{L0.hasAnimatedSinceResize=!0,this.currentAnimation=YZ(0,jN,{...a,onUpdate:s=>{this.mixTargetDelta(s),a.onUpdate&&a.onUpdate(s)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:s,target:l,layout:u,latestValues:c}=a;if(!(!s||!l||!u)){if(this!==a&&this.layout&&u&&Ij(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ir();const f=ro(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const d=ro(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+d}xo(s,l),Uf(s,c),Lp(this.projectionDeltaWithTransform,this.layoutCorrected,s,c)}}registerSharedNode(a,s){this.sharedNodes.has(a)||this.sharedNodes.set(a,new lJ),this.sharedNodes.get(a).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:s,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let s=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const u={};l.z&&ow("z",a,u,this.animationValues);for(let c=0;c<iw.length;c++)ow(`rotate${iw[c]}`,a,u,this.animationValues),ow(`skew${iw[c]}`,a,u,this.animationValues);a.render();for(const c in u)a.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);a.scheduleRender()}getProjectionStyles(a){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return cJ;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=R0(a==null?void 0:a.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=R0(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Su(this.latestValues)&&(x.transform=c?c({},""):"none",this.hasProjected=!1),x}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=uJ(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(s=d.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in mx){if(d[x]===void 0)continue;const{correct:v,applyTo:g}=mx[x],_=u.transform==="none"?d[x]:v(d[x],f);if(g){const S=g.length;for(let w=0;w<S;w++)u[g[w]]=_}else u[x]=_}return this.options.layoutId&&(u.pointerEvents=f===this?R0(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var s;return(s=a.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(VN),this.root.sharedNodes.clear()}}}function hJ(t){t.updateLayout()}function dJ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,a=n.source!==t.layout.source;o==="size"?Eo(f=>{const d=a?n.measuredBox[f]:n.layoutBox[f],m=ro(d);d.min=r[f].min,d.max=d.min+m}):Ij(o,n.layoutBox,r)&&Eo(f=>{const d=a?n.measuredBox[f]:n.layoutBox[f],m=ro(r[f]);d.max=d.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const s=Df();Lp(s,r,n.layoutBox);const l=Df();a?Lp(l,t.applyTransform(i,!0),n.measuredBox):Lp(l,r,n.layoutBox);const u=!Pj(s);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:m}=f;if(d&&m){const y=ir();Np(y,n.layoutBox,d.layoutBox);const x=ir();Np(x,r,m.layoutBox),Cj(y,x)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function pJ(t){xp&&bu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mJ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gJ(t){t.clearSnapshot()}function VN(t){t.clearMeasurements()}function vJ(t){t.isLayoutDirty=!1}function yJ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function HN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function xJ(t){t.resolveTargetDelta()}function _J(t){t.calcProjection()}function SJ(t){t.resetSkewAndRotation()}function bJ(t){t.removeLeadSnapshot()}function $N(t,e,n){t.translate=jn(e.translate,0,n),t.scale=jn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function WN(t,e,n,r){t.min=jn(e.min,n.min,r),t.max=jn(e.max,n.max,r)}function wJ(t,e,n,r){WN(t.x,e.x,n.x,r),WN(t.y,e.y,n.y,r)}function MJ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const EJ={duration:.45,ease:[.4,0,.1,1]},GN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),XN=GN("applewebkit/")&&!GN("chrome/")?Math.round:eo;function qN(t){t.min=XN(t.min),t.max=XN(t.max)}function AJ(t){qN(t.x),qN(t.y)}function Ij(t,e,n){return t==="position"||t==="preserve-aspect"&&!CZ(BN(e),BN(n),.2)}function TJ(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const PJ=Rj({attachResizeListener:(t,e)=>mm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),aw={current:void 0},Lj=Rj({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!aw.current){const t=new PJ({});t.mount(window),t.setOptions({layoutScroll:!0}),aw.current=t}return aw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),CJ={pan:{Feature:WZ},drag:{Feature:$Z,ProjectionNode:Lj,MeasureLayout:Ej}};function YN(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&In.postRender(()=>o(e,Cg(e)))}class OJ extends zl{mount(){const{current:e}=this.node;e&&(this.unmount=CY(e,n=>(YN(this.node,n,"Start"),r=>YN(this.node,r,"End"))))}unmount(){}}class RJ extends zl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pg(mm(this.node.current,"focus",()=>this.onFocus()),mm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function KN(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&In.postRender(()=>o(e,Cg(e)))}class IJ extends zl{mount(){const{current:e}=this.node;e&&(this.unmount=LY(e,n=>(KN(this.node,n,"Start"),(r,{success:i})=>KN(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const HE=new WeakMap,sw=new WeakMap,LJ=t=>{const e=HE.get(t.target);e&&e(t)},NJ=t=>{t.forEach(LJ)};function DJ({root:t,...e}){const n=t||document;sw.has(n)||sw.set(n,{});const r=sw.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(NJ,{root:t,...e})),r[i]}function kJ(t,e,n){const r=DJ(e);return HE.set(t,n),r.observe(t),()=>{HE.delete(t),r.unobserve(t)}}const UJ={some:0,all:1};class FJ extends zl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:UJ[i]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return kJ(this.node.current,a,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(BJ(e,n))&&this.startObserver()}unmount(){}}function BJ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const zJ={inView:{Feature:FJ},tap:{Feature:IJ},focus:{Feature:RJ},hover:{Feature:OJ}},jJ={layout:{ProjectionNode:Lj,MeasureLayout:Ej}},$E={current:null},Nj={current:!1};function VJ(){if(Nj.current=!0,!!uC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$E.current=t.matches;t.addListener(e),e()}else $E.current=!1}const HJ=[...oj,Zr,Ll],$J=t=>HJ.find(ij(t)),ZN=new WeakMap;function WJ(t,e,n){for(const r in e){const i=e[r],o=n[r];if(ii(i))t.addValue(r,i);else if(ii(o))t.addValue(r,dm(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,dm(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const JN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GJ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ra.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,In.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=a;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!o,this.isControllingVariants=J_(n),this.isVariantNode=d5(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in d){const y=d[m];l[m]!==void 0&&ii(y)&&y.set(l[m],!1)}}mount(e){this.current=e,ZN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Nj.current||VJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$E.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ZN.delete(this.current),this.projection&&this.projection.unmount(),Il(this.notifyUpdate),Il(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Sc.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&In.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in dh){const n=dh[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ir()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<JN.length;r++){const i=JN[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=e[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=WJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=dm(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(nj(i)||X5(i))?i=parseFloat(i):!$J(i)&&Ll.test(n)&&(i=Q5(e,n)),this.setBaseTarget(e,ii(i)?i.get():i)),ii(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=gC(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!ii(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new OC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Dj extends GJ{constructor(){super(...arguments),this.KeyframeResolver=aj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ii(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function XJ(t){return window.getComputedStyle(t)}class qJ extends Dj{constructor(){super(...arguments),this.type="html",this.renderInstance=b5}readValueFromInstance(e,n){if(Sc.has(n)){const r=DC(n);return r&&r.default||0}else{const r=XJ(e),i=(x5(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wj(e,n)}build(e,n,r){xC(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return wC(e,n,r)}}class YJ extends Dj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ir}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sc.has(n)){const r=DC(n);return r&&r.default||0}return n=w5.has(n)?n:dC(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return A5(e,n,r)}build(e,n,r){_C(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){M5(e,n,r,i)}mount(e){this.isSVGTag=bC(e.tagName),super.mount(e)}}const KJ=(t,e)=>mC(t)?new YJ(e):new qJ(e,{allowProjection:t!==U.Fragment}),ZJ=bY({..._Z,...zJ,...CJ,...jJ},KJ),Ua=Uq(ZJ);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=U.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>U.createElement("svg",{ref:l,...QJ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:kj("lucide",i),...s},[...a.map(([u,c])=>U.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=(t,e)=>{const n=U.forwardRef(({className:r,...i},o)=>U.createElement(eQ,{ref:o,iconNode:e,className:kj(`lucide-${JJ(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],nQ=li("BedDouble",tQ);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],iQ=li("Bot",rQ);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],aQ=li("ChartColumn",oQ);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]],Uj=li("Clock3",sQ);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],uQ=li("Clock",lQ);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],fQ=li("Download",cQ);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],dQ=li("Layers",hQ);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],mQ=li("LayoutDashboard",pQ);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],vQ=li("ListChecks",gQ);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],xQ=li("LogOut",yQ);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],SQ=li("Moon",_Q);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],wQ=li("Printer",bQ);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],EQ=li("ShieldCheck",MQ);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Fj=li("Sparkles",AQ);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],PQ=li("Sun",TQ);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],OQ=li("UserRound",CQ),RQ=[{label:"Overview",path:"/overview",icon:mQ},{label:"Time Control",path:"/time-control",icon:uQ},{label:"Subjects",path:"/subjects",icon:dQ},{label:"Reports",path:"/reports",icon:aQ},{label:"AI Assistant",path:"/ai",icon:iQ}];function IQ(){return k.jsxs("aside",{className:"panel stroke rounded-2xl p-4 flex flex-col gap-2",children:[k.jsxs("div",{className:"px-2 py-3 mb-2",children:[k.jsx("div",{className:"text-lg font-extrabold tracking-tight",children:"Parent Dashboard"}),k.jsx("div",{className:"text-xs opacity-70 mt-1",children:"control center"})]}),k.jsx("nav",{className:"flex flex-col gap-1",children:RQ.map(t=>{const e=t.icon;return k.jsx(bq,{to:t.path,end:!0,children:({isActive:n})=>k.jsxs(Ua.div,{whileHover:{x:6,scale:1.03},whileTap:{scale:.97},transition:{type:"spring",stiffness:320,damping:22},className:`
                    flex items-center gap-3 px-4 py-3 rounded-xl cursor-pointer
                   ${n?"bg-[rgb(var(--panel))] shadow-sm":"hover:bg-black/5 dark:hover:bg-white/5"}

                  `,children:[n&&k.jsx(Ua.div,{layoutId:"sidebar-active",className:"absolute inset-0 rounded-xl",style:{background:"linear-gradient(90deg, rgba(0,220,130,0.25), rgba(255,200,60,0.25), rgba(170,90,255,0.25))",zIndex:-1}}),k.jsx(e,{className:"h-5 w-5 opacity-90"}),k.jsx("span",{className:"font-semibold tracking-tight",children:t.label})]})},t.path)})}),k.jsxs("div",{className:"mt-auto pt-4 text-xs opacity-60 px-2",children:["EduGalaxy  2025",k.jsx("br",{}),"Parent supervision system"]})]})}const Bj=U.createContext(null),QN="edugalaxy_theme";function LQ({children:t}){const[e,n]=U.useState(()=>localStorage.getItem(QN)==="dark"?"dark":"light");U.useEffect(()=>{document.documentElement.setAttribute("data-theme",e),localStorage.setItem(QN,e)},[e]);const r=U.useMemo(()=>({theme:e,isDark:e==="dark",toggleTheme:()=>n(i=>i==="dark"?"light":"dark"),setTheme:n}),[e]);return k.jsx(Bj.Provider,{value:r,children:t})}function NQ(){const t=U.useContext(Bj);if(!t)throw new Error("useTheme must be used inside ThemeProvider");return t}function zj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=zj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function en(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=zj(t))&&(r&&(r+=" "),r+=e);return r}function wa({children:t,tone:e="neutral"}){const n={green:"bg-emerald-500/15 text-emerald-700 dark:text-emerald-200",orange:"bg-orange-500/15 text-orange-700 dark:text-orange-200",purple:"bg-purple-500/15 text-purple-700 dark:text-purple-200",blue:"bg-sky-500/15 text-sky-700 dark:text-sky-200",neutral:"bg-black/5 text-slate-700 dark:bg-white/10 dark:text-slate-200"};return k.jsx("span",{className:en("inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold",n[e]),children:t})}const N0={name:"Omar",age:7,focusMode:"Active"},e3={todayFocusMinutes:42,weeklyProgressPct:78},jj=[{day:"Mon",minutes:18},{day:"Tue",minutes:25},{day:"Wed",minutes:21},{day:"Thu",minutes:30},{day:"Fri",minutes:27},{day:"Sat",minutes:33},{day:"Sun",minutes:40}],t3=[{subject:"Math",mastery:62,colorKey:"green"},{subject:"Astronomy",mastery:74,colorKey:"purple"},{subject:"Reading",mastery:58,colorKey:"orange"},{subject:"Logic",mastery:66,colorKey:"green"}],WE=[{subject:"Math  Fractions",note:"Lower mastery in fraction comparisons.",severity:"Needs support"},{subject:"Math  Word Problems",note:"More time needed to interpret questions.",severity:"Needs support"},{subject:"Astronomy  Constellations",note:"Confuses similar star patterns.",severity:"Practice more"}],GE=[{id:1,game:"Astronomy Game",duration:14,time:"Today 5:10 PM",outcome:"Completed 3 missions"},{id:2,game:"Math Game",duration:18,time:"Today 4:30 PM",outcome:"Practiced multiplication"},{id:3,game:"AI Chat",duration:6,time:"Yesterday 8:02 PM",outcome:"Asked for hints"}],DQ={dailyMinutesLimit:60,sessionMinutesLimit:25,breakMinutes:7,bedtimeHour:20,bedtimeMinute:30,blockAfterBedtime:!0};function kQ(t){localStorage.removeItem("token"),t("/login")}function UQ(){const{isDark:t,toggleTheme:e}=NQ(),n=Bl();return k.jsxs("div",{className:"panel stroke rounded-2xl px-5 py-4 flex items-center justify-between gap-4",children:[k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-sky-400/30 via-emerald-300/25 to-purple-400/30 border border-white/10 grid place-items-center",children:k.jsx(OQ,{className:"h-5 w-5 opacity-80"})}),k.jsxs("div",{children:[k.jsx("div",{className:"text-xs opacity-70",children:"Child"}),k.jsxs("div",{className:"font-semibold",children:[N0.name,"  ",N0.age," years"]})]})]}),k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("div",{className:"hidden md:block",children:k.jsxs(wa,{tone:"blue",children:["Focus mode: ",N0.focusMode]})}),k.jsxs("button",{onClick:e,className:`rounded-xl px-4 py-2 border border-white/15bg-black/5 hover:bg-black/10 dark:bg-white/5 dark:hover:bg-white/10\r
 flex items-center gap-2 font-semibold`,children:[t?k.jsx(PQ,{className:"h-4 w-4"}):k.jsx(SQ,{className:"h-4 w-4"}),t?"Light":"Dark"]}),k.jsxs("button",{onClick:()=>kQ(n),className:"rounded-xl px-4 py-2 border border-red-500/30 bg-red-500/10 hover:bg-red-500/20 text-red-400 flex items-center gap-2 font-semibold",children:[k.jsx(xQ,{className:"h-4 w-4"}),"Logout"]})]})]})}const Vj="http://localhost:5050";async function FQ(t,e){const n=await fetch(`${Vj}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})});if(!n.ok)throw new Error("Login failed");return n.json()}async function BQ(t){const e=await fetch(`${Vj}/api/me`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Unauthorized");return e.json()}function zQ(){const[t,e]=U.useState(""),[n,r]=U.useState(""),[i,o]=U.useState(""),a=Bl();U.useEffect(()=>{localStorage.getItem("token")&&a("/overview")},[a]);async function s(l){l.preventDefault(),o("");try{const u=await FQ(t,n);localStorage.setItem("token",u.token),a("/overview")}catch{o("Invalid email or password")}}return k.jsxs("div",{className:"adapted-bg flex items-center justify-center px-4",children:[k.jsx("div",{className:"shape one"}),k.jsx("div",{className:"shape two"}),k.jsx("div",{className:"shape three"}),k.jsx("div",{className:"grain"}),k.jsxs("div",{className:"relative z-10 w-full max-w-md panel stroke p-8",children:[k.jsx("h1",{className:"text-3xl font-semibold text-center mb-2 text-main",children:"Welcome back"}),k.jsx("p",{className:"text-center text-muted mb-6",children:"Sign in to continue"}),i&&k.jsx("div",{className:"mb-4 rounded-lg border border-red-400/40 bg-red-500/10 px-4 py-2 text-sm text-red-500 text-center",children:i}),k.jsxs("form",{onSubmit:s,className:"space-y-5",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-1 text-main",children:"Email"}),k.jsx("input",{type:"email",value:t,onChange:l=>e(l.target.value),required:!0,placeholder:"you@example.com",className:`\r
                w-full rounded-lg px-4 py-2\r
                bg-transparent\r
                border border-[rgb(var(--border-soft))]\r
                text-main\r
                placeholder:text-muted\r
                focus:outline-none\r
                focus:ring-2 focus:ring-blue-500/40\r
              `})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-1 text-main",children:"Password"}),k.jsx("input",{type:"password",value:n,onChange:l=>r(l.target.value),required:!0,placeholder:"",className:`\r
                w-full rounded-lg px-4 py-2\r
                bg-transparent\r
                border border-[rgb(var(--border-soft))]\r
                text-main\r
                placeholder:text-muted\r
                focus:outline-none\r
                focus:ring-2 focus:ring-blue-500/40\r
              `})]}),k.jsx("button",{type:"submit",className:`\r
              w-full rounded-lg py-2.5 font-semibold\r
              bg-blue-600 text-white\r
              hover:bg-blue-700\r
              transition\r
              focus:outline-none focus:ring-2 focus:ring-blue-500/40\r
            `,children:"Sign In"})]}),k.jsxs("p",{className:"mt-6 text-center text-sm text-muted",children:["Dont have an account?"," ",k.jsx(q_,{to:"/register",className:"text-blue-500 hover:underline font-medium",children:"Create one"})]})]})]})}function jQ(){const[t,e]=U.useState(""),[n,r]=U.useState(""),[i,o]=U.useState(""),a=Bl();async function s(l){l.preventDefault(),o("");try{const u=await fetch("http://localhost:5050/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}),c=await u.json();u.ok?a("/login"):o(c.error||"Registration failed")}catch(u){o("Network error: "+u.message)}}return k.jsxs("div",{className:`\r
        adapted-bg flex items-center justify-center px-4\r
        bg-[rgb(255,249,243)]\r
        dark:bg-[rgb(14,18,35)]\r
      `,children:[k.jsx("div",{className:"shape one"}),k.jsx("div",{className:"shape two"}),k.jsx("div",{className:"shape three"}),k.jsx("div",{className:"grain"}),k.jsxs("div",{className:"relative z-10 w-full max-w-md panel stroke p-8",children:[k.jsx("h1",{className:"text-3xl font-semibold text-center mb-2 text-main",children:"Create account"}),k.jsx("p",{className:"text-center text-muted mb-6",children:"Start your journey with us"}),i&&k.jsx("div",{className:"mb-4 rounded-lg border border-red-400/40 bg-red-500/10 px-4 py-2 text-sm text-red-500 text-center",children:i}),k.jsxs("form",{onSubmit:s,className:"space-y-5",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-1 text-main",children:"Email"}),k.jsx("input",{type:"email",value:t,onChange:l=>e(l.target.value),required:!0,placeholder:"you@example.com",className:`\r
                w-full rounded-lg px-4 py-2\r
                bg-transparent\r
                border border-[rgb(var(--border-soft))]\r
                text-main placeholder:text-muted\r
                focus:outline-none\r
                focus:ring-2 focus:ring-violet-500/40\r
              `})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium mb-1 text-main",children:"Password"}),k.jsx("input",{type:"password",value:n,onChange:l=>r(l.target.value),required:!0,placeholder:"",className:`\r
                w-full rounded-lg px-4 py-2\r
                bg-transparent\r
                border border-[rgb(var(--border-soft))]\r
                text-main placeholder:text-muted\r
                focus:outline-none\r
                focus:ring-2 focus:ring-violet-500/40\r
              `})]}),k.jsx("button",{type:"submit",className:`\r
              w-full rounded-lg py-2.5 font-semibold\r
              bg-violet-600 text-white\r
              hover:bg-violet-700\r
              transition\r
              focus:outline-none focus:ring-2 focus:ring-violet-500/40\r
            `,children:"Create Account"})]}),k.jsxs("p",{className:"mt-6 text-center text-sm text-muted",children:["Already have an account?"," ",k.jsx(q_,{to:"/login",className:"text-blue-500 hover:underline font-medium",children:"Sign in"})]})]})]})}function zC({children:t}){return k.jsx(Ua.div,{initial:{opacity:0,y:16,filter:"blur(6px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},exit:{opacity:0,y:-12,filter:"blur(6px)"},transition:{duration:.45,ease:[.22,1,.36,1]},className:"space-y-5",children:t})}function ei({title:t,subtitle:e,children:n,right:r}){return k.jsxs(Ua.div,{whileHover:{y:-4},transition:{type:"spring",stiffness:240,damping:22},className:"panel stroke rounded-2xl p-5",children:[k.jsxs("div",{className:"flex items-start justify-between gap-4",children:[k.jsxs("div",{children:[k.jsx("div",{className:"text-sm font-semibold text-main",children:t}),e&&k.jsx("div",{className:"text-xs mt-1 text-muted",children:e})]}),r]}),k.jsx("div",{className:"mt-4 text-secondary",children:n})]})}function n3({value:t}){const[e,n]=U.useState(0);return U.useEffect(()=>{let r=0;const i=Number(t)||0;if(r===i)return;const a=Math.max(Math.floor(800/i),20),s=setInterval(()=>{r+=1,n(r),r>=i&&clearInterval(s)},a);return()=>clearInterval(s)},[t]),k.jsx("span",{children:e})}var VQ=Array.isArray,Fi=VQ,HQ=typeof Vv=="object"&&Vv&&Vv.Object===Object&&Vv,Hj=HQ,$Q=Hj,WQ=typeof self=="object"&&self&&self.Object===Object&&self,GQ=$Q||WQ||Function("return this")(),ja=GQ,XQ=ja,qQ=XQ.Symbol,Og=qQ,r3=Og,$j=Object.prototype,YQ=$j.hasOwnProperty,KQ=$j.toString,Vd=r3?r3.toStringTag:void 0;function ZQ(t){var e=YQ.call(t,Vd),n=t[Vd];try{t[Vd]=void 0;var r=!0}catch{}var i=KQ.call(t);return r&&(e?t[Vd]=n:delete t[Vd]),i}var JQ=ZQ,QQ=Object.prototype,eee=QQ.toString;function tee(t){return eee.call(t)}var nee=tee,i3=Og,ree=JQ,iee=nee,oee="[object Null]",aee="[object Undefined]",o3=i3?i3.toStringTag:void 0;function see(t){return t==null?t===void 0?aee:oee:o3&&o3 in Object(t)?ree(t):iee(t)}var Is=see;function lee(t){return t!=null&&typeof t=="object"}var Ls=lee,uee=Is,cee=Ls,fee="[object Symbol]";function hee(t){return typeof t=="symbol"||cee(t)&&uee(t)==fee}var Yh=hee,dee=Fi,pee=Yh,mee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gee=/^\w*$/;function vee(t,e){if(dee(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||pee(t)?!0:gee.test(t)||!mee.test(t)||e!=null&&t in Object(e)}var jC=vee;function yee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var jl=yee;const Kh=Sn(jl);var xee=Is,_ee=jl,See="[object AsyncFunction]",bee="[object Function]",wee="[object GeneratorFunction]",Mee="[object Proxy]";function Eee(t){if(!_ee(t))return!1;var e=xee(t);return e==bee||e==wee||e==See||e==Mee}var VC=Eee;const Gt=Sn(VC);var Aee=ja,Tee=Aee["__core-js_shared__"],Pee=Tee,lw=Pee,a3=function(){var t=/[^.]+$/.exec(lw&&lw.keys&&lw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Cee(t){return!!a3&&a3 in t}var Oee=Cee,Ree=Function.prototype,Iee=Ree.toString;function Lee(t){if(t!=null){try{return Iee.call(t)}catch{}try{return t+""}catch{}}return""}var Wj=Lee,Nee=VC,Dee=Oee,kee=jl,Uee=Wj,Fee=/[\\^$.*+?()[\]{}|]/g,Bee=/^\[object .+?Constructor\]$/,zee=Function.prototype,jee=Object.prototype,Vee=zee.toString,Hee=jee.hasOwnProperty,$ee=RegExp("^"+Vee.call(Hee).replace(Fee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wee(t){if(!kee(t)||Dee(t))return!1;var e=Nee(t)?$ee:Bee;return e.test(Uee(t))}var Gee=Wee;function Xee(t,e){return t==null?void 0:t[e]}var qee=Xee,Yee=Gee,Kee=qee;function Zee(t,e){var n=Kee(t,e);return Yee(n)?n:void 0}var bc=Zee,Jee=bc,Qee=Jee(Object,"create"),t1=Qee,s3=t1;function ete(){this.__data__=s3?s3(null):{},this.size=0}var tte=ete;function nte(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var rte=nte,ite=t1,ote="__lodash_hash_undefined__",ate=Object.prototype,ste=ate.hasOwnProperty;function lte(t){var e=this.__data__;if(ite){var n=e[t];return n===ote?void 0:n}return ste.call(e,t)?e[t]:void 0}var ute=lte,cte=t1,fte=Object.prototype,hte=fte.hasOwnProperty;function dte(t){var e=this.__data__;return cte?e[t]!==void 0:hte.call(e,t)}var pte=dte,mte=t1,gte="__lodash_hash_undefined__";function vte(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mte&&e===void 0?gte:e,this}var yte=vte,xte=tte,_te=rte,Ste=ute,bte=pte,wte=yte;function Zh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zh.prototype.clear=xte;Zh.prototype.delete=_te;Zh.prototype.get=Ste;Zh.prototype.has=bte;Zh.prototype.set=wte;var Mte=Zh;function Ete(){this.__data__=[],this.size=0}var Ate=Ete;function Tte(t,e){return t===e||t!==t&&e!==e}var HC=Tte,Pte=HC;function Cte(t,e){for(var n=t.length;n--;)if(Pte(t[n][0],e))return n;return-1}var n1=Cte,Ote=n1,Rte=Array.prototype,Ite=Rte.splice;function Lte(t){var e=this.__data__,n=Ote(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Ite.call(e,n,1),--this.size,!0}var Nte=Lte,Dte=n1;function kte(t){var e=this.__data__,n=Dte(e,t);return n<0?void 0:e[n][1]}var Ute=kte,Fte=n1;function Bte(t){return Fte(this.__data__,t)>-1}var zte=Bte,jte=n1;function Vte(t,e){var n=this.__data__,r=jte(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Hte=Vte,$te=Ate,Wte=Nte,Gte=Ute,Xte=zte,qte=Hte;function Jh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jh.prototype.clear=$te;Jh.prototype.delete=Wte;Jh.prototype.get=Gte;Jh.prototype.has=Xte;Jh.prototype.set=qte;var r1=Jh,Yte=bc,Kte=ja,Zte=Yte(Kte,"Map"),$C=Zte,l3=Mte,Jte=r1,Qte=$C;function ene(){this.size=0,this.__data__={hash:new l3,map:new(Qte||Jte),string:new l3}}var tne=ene;function nne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var rne=nne,ine=rne;function one(t,e){var n=t.__data__;return ine(e)?n[typeof e=="string"?"string":"hash"]:n.map}var i1=one,ane=i1;function sne(t){var e=ane(this,t).delete(t);return this.size-=e?1:0,e}var lne=sne,une=i1;function cne(t){return une(this,t).get(t)}var fne=cne,hne=i1;function dne(t){return hne(this,t).has(t)}var pne=dne,mne=i1;function gne(t,e){var n=mne(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var vne=gne,yne=tne,xne=lne,_ne=fne,Sne=pne,bne=vne;function Qh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qh.prototype.clear=yne;Qh.prototype.delete=xne;Qh.prototype.get=_ne;Qh.prototype.has=Sne;Qh.prototype.set=bne;var WC=Qh,Gj=WC,wne="Expected a function";function GC(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(wne);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(GC.Cache||Gj),n}GC.Cache=Gj;var Xj=GC;const Mne=Sn(Xj);var Ene=Xj,Ane=500;function Tne(t){var e=Ene(t,function(r){return n.size===Ane&&n.clear(),r}),n=e.cache;return e}var Pne=Tne,Cne=Pne,One=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rne=/\\(\\)?/g,Ine=Cne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(One,function(n,r,i,o){e.push(i?o.replace(Rne,"$1"):r||n)}),e}),Lne=Ine;function Nne(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var XC=Nne,u3=Og,Dne=XC,kne=Fi,Une=Yh,c3=u3?u3.prototype:void 0,f3=c3?c3.toString:void 0;function qj(t){if(typeof t=="string")return t;if(kne(t))return Dne(t,qj)+"";if(Une(t))return f3?f3.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Fne=qj,Bne=Fne;function zne(t){return t==null?"":Bne(t)}var Yj=zne,jne=Fi,Vne=jC,Hne=Lne,$ne=Yj;function Wne(t,e){return jne(t)?t:Vne(t,e)?[t]:Hne($ne(t))}var Kj=Wne,Gne=Yh;function Xne(t){if(typeof t=="string"||Gne(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var o1=Xne,qne=Kj,Yne=o1;function Kne(t,e){e=qne(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Yne(e[n++])];return n&&n==r?t:void 0}var qC=Kne,Zne=qC;function Jne(t,e,n){var r=t==null?void 0:Zne(t,e);return r===void 0?n:r}var Zj=Jne;const Lo=Sn(Zj);function Qne(t){return t==null}var ere=Qne;const Zt=Sn(ere);var tre=Is,nre=Fi,rre=Ls,ire="[object String]";function ore(t){return typeof t=="string"||!nre(t)&&rre(t)&&tre(t)==ire}var are=ore;const cc=Sn(are);var Jj={exports:{}},mn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC=Symbol.for("react.element"),KC=Symbol.for("react.portal"),a1=Symbol.for("react.fragment"),s1=Symbol.for("react.strict_mode"),l1=Symbol.for("react.profiler"),u1=Symbol.for("react.provider"),c1=Symbol.for("react.context"),sre=Symbol.for("react.server_context"),f1=Symbol.for("react.forward_ref"),h1=Symbol.for("react.suspense"),d1=Symbol.for("react.suspense_list"),p1=Symbol.for("react.memo"),m1=Symbol.for("react.lazy"),lre=Symbol.for("react.offscreen"),Qj;Qj=Symbol.for("react.module.reference");function Uo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case YC:switch(t=t.type,t){case a1:case l1:case s1:case h1:case d1:return t;default:switch(t=t&&t.$$typeof,t){case sre:case c1:case f1:case m1:case p1:case u1:return t;default:return e}}case KC:return e}}}mn.ContextConsumer=c1;mn.ContextProvider=u1;mn.Element=YC;mn.ForwardRef=f1;mn.Fragment=a1;mn.Lazy=m1;mn.Memo=p1;mn.Portal=KC;mn.Profiler=l1;mn.StrictMode=s1;mn.Suspense=h1;mn.SuspenseList=d1;mn.isAsyncMode=function(){return!1};mn.isConcurrentMode=function(){return!1};mn.isContextConsumer=function(t){return Uo(t)===c1};mn.isContextProvider=function(t){return Uo(t)===u1};mn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===YC};mn.isForwardRef=function(t){return Uo(t)===f1};mn.isFragment=function(t){return Uo(t)===a1};mn.isLazy=function(t){return Uo(t)===m1};mn.isMemo=function(t){return Uo(t)===p1};mn.isPortal=function(t){return Uo(t)===KC};mn.isProfiler=function(t){return Uo(t)===l1};mn.isStrictMode=function(t){return Uo(t)===s1};mn.isSuspense=function(t){return Uo(t)===h1};mn.isSuspenseList=function(t){return Uo(t)===d1};mn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===a1||t===l1||t===s1||t===h1||t===d1||t===lre||typeof t=="object"&&t!==null&&(t.$$typeof===m1||t.$$typeof===p1||t.$$typeof===u1||t.$$typeof===c1||t.$$typeof===f1||t.$$typeof===Qj||t.getModuleId!==void 0)};mn.typeOf=Uo;Jj.exports=mn;var ure=Jj.exports,cre=Is,fre=Ls,hre="[object Number]";function dre(t){return typeof t=="number"||fre(t)&&cre(t)==hre}var eV=dre;const pre=Sn(eV);var mre=eV;function gre(t){return mre(t)&&t!=+t}var vre=gre;const ed=Sn(vre);var na=function(e){return e===0?0:e>0?1:-1},ku=function(e){return cc(e)&&e.indexOf("%")===e.length-1},Ze=function(e){return pre(e)&&!ed(e)},yre=function(e){return Zt(e)},Sr=function(e){return Ze(e)||cc(e)},xre=0,Rg=function(e){var n=++xre;return"".concat(e||"").concat(n)},fc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ze(e)&&!cc(e))return r;var o;if(ku(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return ed(o)&&(o=r),i&&o>n&&(o=n),o},yf=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},_re=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Po=function(e,n){return Ze(e)&&Ze(n)?function(r){return e+r*(n-e)}:function(){return n}};function Sx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Lo(r,e))===n})}var Sre=function(e,n){return Ze(e)&&Ze(n)?e-n:cc(e)&&cc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Qf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function XE(t){"@babel/helpers - typeof";return XE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XE(t)}var bre=["viewBox","children"],wre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],h3=["points","pathLength"],uw={svg:bre,polygon:h3,polyline:h3},ZC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bx=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(U.isValidElement(e)&&(r=e.props),!Kh(r))return null;var i={};return Object.keys(r).forEach(function(o){ZC.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Mre=function(e,n,r){return function(i){return e(n,r,i),null}},wx=function(e,n,r){if(!Kh(e)||XE(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];ZC.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Mre(a,n,r))}),i},Ere=["children"],Are=["children"];function d3(t,e){if(t==null)return{};var n=Tre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qE(t){"@babel/helpers - typeof";return qE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qE(t)}var p3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ms=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},m3=null,cw=null,JC=function t(e){if(e===m3&&Array.isArray(cw))return cw;var n=[];return U.Children.forEach(e,function(r){Zt(r)||(ure.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),cw=n,m3=e,n};function oa(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ms(i)}):r=[ms(e)],JC(t).forEach(function(i){var o=Lo(i,"type.displayName")||Lo(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function qi(t,e){var n=oa(t,e);return n&&n[0]}var g3=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ze(r)||r<=0||!Ze(i)||i<=0)},Pre=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Cre=function(e){return e&&e.type&&cc(e.type)&&Pre.indexOf(e.type)>=0},Ore=function(e){return e&&qE(e)==="object"&&"clipDot"in e},Rre=function(e,n,r,i){var o,a=(o=uw==null?void 0:uw[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Gt(e)&&(i&&a.includes(n)||wre.includes(n))||r&&ZC.includes(n)},Kt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!Kh(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Rre((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},YE=function t(e,n){if(e===n)return!0;var r=U.Children.count(e);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return v3(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!v3(o,a))return!1}return!0},v3=function(e,n){if(Zt(e)&&Zt(n))return!0;if(!Zt(e)&&!Zt(n)){var r=e.props||{},i=r.children,o=d3(r,Ere),a=n.props||{},s=a.children,l=d3(a,Are);return i&&s?Qf(o,l)&&YE(i,s):!i&&!s?Qf(o,l):!1}return!1},y3=function(e,n){var r=[],i={};return JC(e).forEach(function(o,a){if(Cre(o))r.push(o);else if(o){var s=ms(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},Ire=function(e){var n=e&&e.type;return n&&p3[n]?p3[n]:null},Lre=function(e,n){return JC(n).indexOf(e)},Nre=["children","width","height","viewBox","className","style","title","desc"];function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(this,arguments)}function Dre(t,e){if(t==null)return{};var n=kre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZE(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=Dre(t,Nre),c=i||{width:n,height:r,x:0,y:0},f=en("recharts-surface",o);return fe.createElement("svg",KE({},Kt(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),fe.createElement("title",null,s),fe.createElement("desc",null,l),e)}var Ure=["children","className"];function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JE.apply(this,arguments)}function Fre(t,e){if(t==null)return{};var n=Bre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Vn=fe.forwardRef(function(t,e){var n=t.children,r=t.className,i=Fre(t,Ure),o=en("recharts-layer",r);return fe.createElement("g",JE({className:o},Kt(i,!0),{ref:e}),n)}),Ku=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function zre(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var jre=zre,Vre=jre;function Hre(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Vre(t,e,n)}var $re=Hre,Wre="\\ud800-\\udfff",Gre="\\u0300-\\u036f",Xre="\\ufe20-\\ufe2f",qre="\\u20d0-\\u20ff",Yre=Gre+Xre+qre,Kre="\\ufe0e\\ufe0f",Zre="\\u200d",Jre=RegExp("["+Zre+Wre+Yre+Kre+"]");function Qre(t){return Jre.test(t)}var tV=Qre;function eie(t){return t.split("")}var tie=eie,nV="\\ud800-\\udfff",nie="\\u0300-\\u036f",rie="\\ufe20-\\ufe2f",iie="\\u20d0-\\u20ff",oie=nie+rie+iie,aie="\\ufe0e\\ufe0f",sie="["+nV+"]",QE="["+oie+"]",eA="\\ud83c[\\udffb-\\udfff]",lie="(?:"+QE+"|"+eA+")",rV="[^"+nV+"]",iV="(?:\\ud83c[\\udde6-\\uddff]){2}",oV="[\\ud800-\\udbff][\\udc00-\\udfff]",uie="\\u200d",aV=lie+"?",sV="["+aie+"]?",cie="(?:"+uie+"(?:"+[rV,iV,oV].join("|")+")"+sV+aV+")*",fie=sV+aV+cie,hie="(?:"+[rV+QE+"?",QE,iV,oV,sie].join("|")+")",die=RegExp(eA+"(?="+eA+")|"+hie+fie,"g");function pie(t){return t.match(die)||[]}var mie=pie,gie=tie,vie=tV,yie=mie;function xie(t){return vie(t)?yie(t):gie(t)}var _ie=xie,Sie=$re,bie=tV,wie=_ie,Mie=Yj;function Eie(t){return function(e){e=Mie(e);var n=bie(e)?wie(e):void 0,r=n?n[0]:e.charAt(0),i=n?Sie(n,1).join(""):e.slice(1);return r[t]()+i}}var Aie=Eie,Tie=Aie,Pie=Tie("toUpperCase"),Cie=Pie;const g1=Sn(Cie);function Mn(t){return function(){return t}}const lV=Math.cos,Mx=Math.sin,sa=Math.sqrt,Ex=Math.PI,v1=2*Ex,tA=Math.PI,nA=2*tA,wu=1e-6,Oie=nA-wu;function uV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Rie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return uV;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Iie=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?uV:Rie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>wu)if(!(Math.abs(f*l-u*c)>wu)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,y=i-s,x=l*l+u*u,v=m*m+y*y,g=Math.sqrt(x),_=Math.sqrt(d),S=o*Math.tan((tA-Math.acos((x+d-v)/(2*g*_)))/2),w=S/_,M=S/g;Math.abs(w-1)>wu&&this._append`L${e+w*c},${n+w*f}`,this._append`A${o},${o},0,0,${+(f*m>c*y)},${this._x1=e+M*l},${this._y1=n+M*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>wu||Math.abs(this._y1-c)>wu)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%nA+nA),d>Oie?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>wu&&this._append`A${r},${r},0,${+(d>=tA)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function QC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Iie(e)}function e2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cV(t){this._context=t}cV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function y1(t){return new cV(t)}function fV(t){return t[0]}function hV(t){return t[1]}function dV(t,e){var n=Mn(!0),r=null,i=y1,o=null,a=QC(s);t=typeof t=="function"?t:t===void 0?fV:Mn(t),e=typeof e=="function"?e:e===void 0?hV:Mn(e);function s(l){var u,c=(l=e2(l)).length,f,d=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Mn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Mn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Mn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function cy(t,e,n){var r=null,i=Mn(!0),o=null,a=y1,s=null,l=QC(u);t=typeof t=="function"?t:t===void 0?fV:Mn(+t),e=typeof e=="function"?e:Mn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?hV:Mn(+n);function u(f){var d,m,y,x=(f=e2(f)).length,v,g=!1,_,S=new Array(x),w=new Array(x);for(o==null&&(s=a(_=l())),d=0;d<=x;++d){if(!(d<x&&i(v=f[d],d,f))===g)if(g=!g)m=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=d-1;y>=m;--y)s.point(S[y],w[y]);s.lineEnd(),s.areaEnd()}g&&(S[d]=+t(v,d,f),w[d]=+e(v,d,f),s.point(r?+r(v,d,f):S[d],n?+n(v,d,f):w[d]))}if(_)return s=null,_+""||null}function c(){return dV().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Mn(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Mn(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Mn(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Mn(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Mn(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Mn(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Mn(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class pV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Lie(t){return new pV(t,!0)}function Nie(t){return new pV(t,!1)}const t2={draw(t,e){const n=sa(e/Ex);t.moveTo(n,0),t.arc(0,0,n,0,v1)}},Die={draw(t,e){const n=sa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mV=sa(1/3),kie=mV*2,Uie={draw(t,e){const n=sa(e/kie),r=n*mV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Fie={draw(t,e){const n=sa(e),r=-n/2;t.rect(r,r,n,n)}},Bie=.8908130915292852,gV=Mx(Ex/10)/Mx(7*Ex/10),zie=Mx(v1/10)*gV,jie=-lV(v1/10)*gV,Vie={draw(t,e){const n=sa(e*Bie),r=zie*n,i=jie*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=v1*o/5,s=lV(a),l=Mx(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},fw=sa(3),Hie={draw(t,e){const n=-sa(e/(fw*3));t.moveTo(0,n*2),t.lineTo(-fw*n,-n),t.lineTo(fw*n,-n),t.closePath()}},_o=-.5,So=sa(3)/2,rA=1/sa(12),$ie=(rA/2+1)*3,Wie={draw(t,e){const n=sa(e/$ie),r=n/2,i=n*rA,o=r,a=n*rA+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(_o*r-So*i,So*r+_o*i),t.lineTo(_o*o-So*a,So*o+_o*a),t.lineTo(_o*s-So*l,So*s+_o*l),t.lineTo(_o*r+So*i,_o*i-So*r),t.lineTo(_o*o+So*a,_o*a-So*o),t.lineTo(_o*s+So*l,_o*l-So*s),t.closePath()}};function Gie(t,e){let n=null,r=QC(i);t=typeof t=="function"?t:Mn(t||t2),e=typeof e=="function"?e:Mn(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Mn(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Mn(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Ax(){}function Tx(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function vV(t){this._context=t}vV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Tx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Tx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Xie(t){return new vV(t)}function yV(t){this._context=t}yV.prototype={areaStart:Ax,areaEnd:Ax,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Tx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qie(t){return new yV(t)}function xV(t){this._context=t}xV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Tx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yie(t){return new xV(t)}function _V(t){this._context=t}_V.prototype={areaStart:Ax,areaEnd:Ax,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Kie(t){return new _V(t)}function x3(t){return t<0?-1:1}function _3(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(x3(o)+x3(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function S3(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function hw(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Px(t){this._context=t}Px.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hw(this,this._t0,S3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,hw(this,S3(this,n=_3(this,t,e)),n);break;default:hw(this,this._t0,n=_3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function SV(t){this._context=new bV(t)}(SV.prototype=Object.create(Px.prototype)).point=function(t,e){Px.prototype.point.call(this,e,t)};function bV(t){this._context=t}bV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Zie(t){return new Px(t)}function Jie(t){return new SV(t)}function wV(t){this._context=t}wV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=b3(t),i=b3(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function b3(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Qie(t){return new wV(t)}function x1(t,e){this._context=t,this._t=e}x1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function eoe(t){return new x1(t,.5)}function toe(t){return new x1(t,0)}function noe(t){return new x1(t,1)}function mh(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function iA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function roe(t,e){return t[e]}function ioe(t){const e=[];return e.key=t,e}function ooe(){var t=Mn([]),e=iA,n=mh,r=roe;function i(o){var a=Array.from(t.apply(this,arguments),ioe),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=e2(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Mn(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Mn(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?iA:typeof o=="function"?o:Mn(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??mh,i):n},i}function aoe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}mh(t,e)}}function soe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}mh(t,e)}}function loe(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,d=c[r-1][1]||0,m=(f-d)/2,y=0;y<s;++y){var x=t[e[y]],v=x[r][1]||0,g=x[r-1][1]||0;m+=v-g}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,mh(t,e)}}function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}var uoe=["type","size","sizeType"];function oA(){return oA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oA.apply(this,arguments)}function w3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w3(Object(n),!0).forEach(function(r){coe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function coe(t,e,n){return e=foe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function foe(t){var e=hoe(t,"string");return gm(e)=="symbol"?e:e+""}function hoe(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function doe(t,e){if(t==null)return{};var n=poe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function poe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var MV={symbolCircle:t2,symbolCross:Die,symbolDiamond:Uie,symbolSquare:Fie,symbolStar:Vie,symbolTriangle:Hie,symbolWye:Wie},moe=Math.PI/180,goe=function(e){var n="symbol".concat(g1(e));return MV[n]||t2},voe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*moe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},yoe=function(e,n){MV["symbol".concat(g1(e))]=n},n2=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=doe(e,uoe),u=M3(M3({},l),{},{type:r,size:o,sizeType:s}),c=function(){var v=goe(r),g=Gie().type(v).size(voe(o,s,r));return g()},f=u.className,d=u.cx,m=u.cy,y=Kt(u,!0);return d===+d&&m===+m&&o===+o?fe.createElement("path",oA({},y,{className:en("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(m,")"),d:c()})):null};n2.registerSymbol=yoe;function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aA.apply(this,arguments)}function E3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xoe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E3(Object(n),!0).forEach(function(r){vm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Soe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AV(r.key),r)}}function boe(t,e,n){return e&&Soe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function woe(t,e,n){return e=Cx(e),Moe(t,EV()?Reflect.construct(e,n||[],Cx(t).constructor):e.apply(t,n))}function Moe(t,e){if(e&&(gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eoe(t)}function Eoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EV=function(){return!!t})()}function Cx(t){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cx(t)}function Aoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sA(t,e)}function sA(t,e){return sA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sA(t,e)}function vm(t,e,n){return e=AV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AV(t){var e=Toe(t,"string");return gh(e)=="symbol"?e:e+""}function Toe(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bo=32,r2=function(t){function e(){return _oe(this,e),woe(this,e,arguments)}return Aoe(e,t),boe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=bo/2,a=bo/6,s=bo/3,l=r.inactive?i:r.color;if(r.type==="plainline")return fe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:bo,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return fe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(bo,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return fe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(bo/8,"h").concat(bo,"v").concat(bo*3/4,"h").concat(-bo,"z"),className:"recharts-legend-icon"});if(fe.isValidElement(r.legendIcon)){var u=xoe({},r);return delete u.legendIcon,fe.cloneElement(r.legendIcon,u)}return fe.createElement(n2,{fill:l,cx:o,cy:o,size:bo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:bo,height:bo},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,y){var x=m.formatter||l,v=en(vm(vm({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var g=Gt(m.value)?null:m.value;Ku(!Gt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=m.inactive?u:m.color;return fe.createElement("li",aA({className:v,style:f,key:"legend-item-".concat(y)},wx(r.props,m,y)),fe.createElement(ZE,{width:a,height:a,viewBox:c,style:d},r.renderIcon(m)),fe.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},x?x(g,m,y):g))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return fe.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(U.PureComponent);vm(r2,"displayName","Legend");vm(r2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Poe=r1;function Coe(){this.__data__=new Poe,this.size=0}var Ooe=Coe;function Roe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Ioe=Roe;function Loe(t){return this.__data__.get(t)}var Noe=Loe;function Doe(t){return this.__data__.has(t)}var koe=Doe,Uoe=r1,Foe=$C,Boe=WC,zoe=200;function joe(t,e){var n=this.__data__;if(n instanceof Uoe){var r=n.__data__;if(!Foe||r.length<zoe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Boe(r)}return n.set(t,e),this.size=n.size,this}var Voe=joe,Hoe=r1,$oe=Ooe,Woe=Ioe,Goe=Noe,Xoe=koe,qoe=Voe;function td(t){var e=this.__data__=new Hoe(t);this.size=e.size}td.prototype.clear=$oe;td.prototype.delete=Woe;td.prototype.get=Goe;td.prototype.has=Xoe;td.prototype.set=qoe;var TV=td,Yoe="__lodash_hash_undefined__";function Koe(t){return this.__data__.set(t,Yoe),this}var Zoe=Koe;function Joe(t){return this.__data__.has(t)}var Qoe=Joe,eae=WC,tae=Zoe,nae=Qoe;function Ox(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new eae;++e<n;)this.add(t[e])}Ox.prototype.add=Ox.prototype.push=tae;Ox.prototype.has=nae;var PV=Ox;function rae(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var CV=rae;function iae(t,e){return t.has(e)}var OV=iae,oae=PV,aae=CV,sae=OV,lae=1,uae=2;function cae(t,e,n,r,i,o){var a=n&lae,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,m=n&uae?new oae:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var y=t[f],x=e[f];if(r)var v=a?r(x,y,f,e,t,o):r(y,x,f,t,e,o);if(v!==void 0){if(v)continue;d=!1;break}if(m){if(!aae(e,function(g,_){if(!sae(m,_)&&(y===g||i(y,g,n,r,o)))return m.push(_)})){d=!1;break}}else if(!(y===x||i(y,x,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var RV=cae,fae=ja,hae=fae.Uint8Array,dae=hae;function pae(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var mae=pae;function gae(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var i2=gae,A3=Og,T3=dae,vae=HC,yae=RV,xae=mae,_ae=i2,Sae=1,bae=2,wae="[object Boolean]",Mae="[object Date]",Eae="[object Error]",Aae="[object Map]",Tae="[object Number]",Pae="[object RegExp]",Cae="[object Set]",Oae="[object String]",Rae="[object Symbol]",Iae="[object ArrayBuffer]",Lae="[object DataView]",P3=A3?A3.prototype:void 0,dw=P3?P3.valueOf:void 0;function Nae(t,e,n,r,i,o,a){switch(n){case Lae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Iae:return!(t.byteLength!=e.byteLength||!o(new T3(t),new T3(e)));case wae:case Mae:case Tae:return vae(+t,+e);case Eae:return t.name==e.name&&t.message==e.message;case Pae:case Oae:return t==e+"";case Aae:var s=xae;case Cae:var l=r&Sae;if(s||(s=_ae),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=bae,a.set(t,e);var c=yae(s(t),s(e),r,i,o,a);return a.delete(t),c;case Rae:if(dw)return dw.call(t)==dw.call(e)}return!1}var Dae=Nae;function kae(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var IV=kae,Uae=IV,Fae=Fi;function Bae(t,e,n){var r=e(t);return Fae(t)?r:Uae(r,n(t))}var zae=Bae;function jae(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var Vae=jae;function Hae(){return[]}var $ae=Hae,Wae=Vae,Gae=$ae,Xae=Object.prototype,qae=Xae.propertyIsEnumerable,C3=Object.getOwnPropertySymbols,Yae=C3?function(t){return t==null?[]:(t=Object(t),Wae(C3(t),function(e){return qae.call(t,e)}))}:Gae,Kae=Yae;function Zae(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Jae=Zae,Qae=Is,ese=Ls,tse="[object Arguments]";function nse(t){return ese(t)&&Qae(t)==tse}var rse=nse,O3=rse,ise=Ls,LV=Object.prototype,ose=LV.hasOwnProperty,ase=LV.propertyIsEnumerable,sse=O3(function(){return arguments}())?O3:function(t){return ise(t)&&ose.call(t,"callee")&&!ase.call(t,"callee")},o2=sse,Rx={exports:{}};function lse(){return!1}var use=lse;Rx.exports;(function(t,e){var n=ja,r=use,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Rx,Rx.exports);var NV=Rx.exports,cse=9007199254740991,fse=/^(?:0|[1-9]\d*)$/;function hse(t,e){var n=typeof t;return e=e??cse,!!e&&(n=="number"||n!="symbol"&&fse.test(t))&&t>-1&&t%1==0&&t<e}var a2=hse,dse=9007199254740991;function pse(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=dse}var s2=pse,mse=Is,gse=s2,vse=Ls,yse="[object Arguments]",xse="[object Array]",_se="[object Boolean]",Sse="[object Date]",bse="[object Error]",wse="[object Function]",Mse="[object Map]",Ese="[object Number]",Ase="[object Object]",Tse="[object RegExp]",Pse="[object Set]",Cse="[object String]",Ose="[object WeakMap]",Rse="[object ArrayBuffer]",Ise="[object DataView]",Lse="[object Float32Array]",Nse="[object Float64Array]",Dse="[object Int8Array]",kse="[object Int16Array]",Use="[object Int32Array]",Fse="[object Uint8Array]",Bse="[object Uint8ClampedArray]",zse="[object Uint16Array]",jse="[object Uint32Array]",Tn={};Tn[Lse]=Tn[Nse]=Tn[Dse]=Tn[kse]=Tn[Use]=Tn[Fse]=Tn[Bse]=Tn[zse]=Tn[jse]=!0;Tn[yse]=Tn[xse]=Tn[Rse]=Tn[_se]=Tn[Ise]=Tn[Sse]=Tn[bse]=Tn[wse]=Tn[Mse]=Tn[Ese]=Tn[Ase]=Tn[Tse]=Tn[Pse]=Tn[Cse]=Tn[Ose]=!1;function Vse(t){return vse(t)&&gse(t.length)&&!!Tn[mse(t)]}var Hse=Vse;function $se(t){return function(e){return t(e)}}var DV=$se,Ix={exports:{}};Ix.exports;(function(t,e){var n=Hj,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Ix,Ix.exports);var Wse=Ix.exports,Gse=Hse,Xse=DV,R3=Wse,I3=R3&&R3.isTypedArray,qse=I3?Xse(I3):Gse,kV=qse,Yse=Jae,Kse=o2,Zse=Fi,Jse=NV,Qse=a2,ele=kV,tle=Object.prototype,nle=tle.hasOwnProperty;function rle(t,e){var n=Zse(t),r=!n&&Kse(t),i=!n&&!r&&Jse(t),o=!n&&!r&&!i&&ele(t),a=n||r||i||o,s=a?Yse(t.length,String):[],l=s.length;for(var u in t)(e||nle.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Qse(u,l)))&&s.push(u);return s}var ile=rle,ole=Object.prototype;function ale(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ole;return t===n}var sle=ale;function lle(t,e){return function(n){return t(e(n))}}var UV=lle,ule=UV,cle=ule(Object.keys,Object),fle=cle,hle=sle,dle=fle,ple=Object.prototype,mle=ple.hasOwnProperty;function gle(t){if(!hle(t))return dle(t);var e=[];for(var n in Object(t))mle.call(t,n)&&n!="constructor"&&e.push(n);return e}var vle=gle,yle=VC,xle=s2;function _le(t){return t!=null&&xle(t.length)&&!yle(t)}var _1=_le,Sle=ile,ble=vle,wle=_1;function Mle(t){return wle(t)?Sle(t):ble(t)}var l2=Mle,Ele=zae,Ale=Kae,Tle=l2;function Ple(t){return Ele(t,Tle,Ale)}var Cle=Ple,L3=Cle,Ole=1,Rle=Object.prototype,Ile=Rle.hasOwnProperty;function Lle(t,e,n,r,i,o){var a=n&Ole,s=L3(t),l=s.length,u=L3(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:Ile.call(e,d)))return!1}var m=o.get(t),y=o.get(e);if(m&&y)return m==e&&y==t;var x=!0;o.set(t,e),o.set(e,t);for(var v=a;++f<l;){d=s[f];var g=t[d],_=e[d];if(r)var S=a?r(_,g,d,e,t,o):r(g,_,d,t,e,o);if(!(S===void 0?g===_||i(g,_,n,r,o):S)){x=!1;break}v||(v=d=="constructor")}if(x&&!v){var w=t.constructor,M=e.constructor;w!=M&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof M=="function"&&M instanceof M)&&(x=!1)}return o.delete(t),o.delete(e),x}var Nle=Lle,Dle=bc,kle=ja,Ule=Dle(kle,"DataView"),Fle=Ule,Ble=bc,zle=ja,jle=Ble(zle,"Promise"),Vle=jle,Hle=bc,$le=ja,Wle=Hle($le,"Set"),FV=Wle,Gle=bc,Xle=ja,qle=Gle(Xle,"WeakMap"),Yle=qle,lA=Fle,uA=$C,cA=Vle,fA=FV,hA=Yle,BV=Is,nd=Wj,N3="[object Map]",Kle="[object Object]",D3="[object Promise]",k3="[object Set]",U3="[object WeakMap]",F3="[object DataView]",Zle=nd(lA),Jle=nd(uA),Qle=nd(cA),eue=nd(fA),tue=nd(hA),Mu=BV;(lA&&Mu(new lA(new ArrayBuffer(1)))!=F3||uA&&Mu(new uA)!=N3||cA&&Mu(cA.resolve())!=D3||fA&&Mu(new fA)!=k3||hA&&Mu(new hA)!=U3)&&(Mu=function(t){var e=BV(t),n=e==Kle?t.constructor:void 0,r=n?nd(n):"";if(r)switch(r){case Zle:return F3;case Jle:return N3;case Qle:return D3;case eue:return k3;case tue:return U3}return e});var nue=Mu,pw=TV,rue=RV,iue=Dae,oue=Nle,B3=nue,z3=Fi,j3=NV,aue=kV,sue=1,V3="[object Arguments]",H3="[object Array]",fy="[object Object]",lue=Object.prototype,$3=lue.hasOwnProperty;function uue(t,e,n,r,i,o){var a=z3(t),s=z3(e),l=a?H3:B3(t),u=s?H3:B3(e);l=l==V3?fy:l,u=u==V3?fy:u;var c=l==fy,f=u==fy,d=l==u;if(d&&j3(t)){if(!j3(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new pw),a||aue(t)?rue(t,e,n,r,i,o):iue(t,e,l,n,r,i,o);if(!(n&sue)){var m=c&&$3.call(t,"__wrapped__"),y=f&&$3.call(e,"__wrapped__");if(m||y){var x=m?t.value():t,v=y?e.value():e;return o||(o=new pw),i(x,v,n,r,o)}}return d?(o||(o=new pw),oue(t,e,n,r,i,o)):!1}var cue=uue,fue=cue,W3=Ls;function zV(t,e,n,r,i){return t===e?!0:t==null||e==null||!W3(t)&&!W3(e)?t!==t&&e!==e:fue(t,e,n,r,zV,i)}var u2=zV,hue=TV,due=u2,pue=1,mue=2;function gue(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new hue;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?due(c,u,pue|mue,r,f):d))return!1}}return!0}var vue=gue,yue=jl;function xue(t){return t===t&&!yue(t)}var jV=xue,_ue=jV,Sue=l2;function bue(t){for(var e=Sue(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,_ue(i)]}return e}var wue=bue;function Mue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var VV=Mue,Eue=vue,Aue=wue,Tue=VV;function Pue(t){var e=Aue(t);return e.length==1&&e[0][2]?Tue(e[0][0],e[0][1]):function(n){return n===t||Eue(n,t,e)}}var Cue=Pue;function Oue(t,e){return t!=null&&e in Object(t)}var Rue=Oue,Iue=Kj,Lue=o2,Nue=Fi,Due=a2,kue=s2,Uue=o1;function Fue(t,e,n){e=Iue(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Uue(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&kue(i)&&Due(a,i)&&(Nue(t)||Lue(t)))}var Bue=Fue,zue=Rue,jue=Bue;function Vue(t,e){return t!=null&&jue(t,e,zue)}var Hue=Vue,$ue=u2,Wue=Zj,Gue=Hue,Xue=jC,que=jV,Yue=VV,Kue=o1,Zue=1,Jue=2;function Que(t,e){return Xue(t)&&que(e)?Yue(Kue(t),e):function(n){var r=Wue(n,t);return r===void 0&&r===e?Gue(n,t):$ue(e,r,Zue|Jue)}}var ece=Que;function tce(t){return t}var rd=tce;function nce(t){return function(e){return e==null?void 0:e[t]}}var rce=nce,ice=qC;function oce(t){return function(e){return ice(e,t)}}var ace=oce,sce=rce,lce=ace,uce=jC,cce=o1;function fce(t){return uce(t)?sce(cce(t)):lce(t)}var hce=fce,dce=Cue,pce=ece,mce=rd,gce=Fi,vce=hce;function yce(t){return typeof t=="function"?t:t==null?mce:typeof t=="object"?gce(t)?pce(t[0],t[1]):dce(t):vce(t)}var id=yce;function xce(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var _ce=xce;function Sce(t){return t!==t}var bce=Sce;function wce(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Mce=wce,Ece=_ce,Ace=bce,Tce=Mce;function Pce(t,e,n){return e===e?Tce(t,e,n):Ece(t,Ace,n)}var Cce=Pce,Oce=Cce;function Rce(t,e){var n=t==null?0:t.length;return!!n&&Oce(t,e,0)>-1}var Ice=Rce;function Lce(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Nce=Lce;function Dce(){}var kce=Dce,mw=FV,Uce=kce,Fce=i2,Bce=1/0,zce=mw&&1/Fce(new mw([,-0]))[1]==Bce?function(t){return new mw(t)}:Uce,jce=zce,Vce=PV,Hce=Ice,$ce=Nce,Wce=OV,Gce=jce,Xce=i2,qce=200;function Yce(t,e,n){var r=-1,i=Hce,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=$ce;else if(o>=qce){var u=e?null:Gce(t);if(u)return Xce(u);a=!1,i=Wce,l=new Vce}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var Kce=Yce,Zce=id,Jce=Kce;function Qce(t,e){return t&&t.length?Jce(t,Zce(e)):[]}var efe=Qce;const G3=Sn(efe);function HV(t,e,n){return e===!0?G3(t,n):Gt(e)?G3(t,e):t}function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}var tfe=["ref"];function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ya(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){S1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WV(r.key),r)}}function rfe(t,e,n){return e&&q3(t.prototype,e),n&&q3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ife(t,e,n){return e=Lx(e),ofe(t,$V()?Reflect.construct(e,n||[],Lx(t).constructor):e.apply(t,n))}function ofe(t,e){if(e&&(vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return afe(t)}function afe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($V=function(){return!!t})()}function Lx(t){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lx(t)}function sfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dA(t,e)}function dA(t,e){return dA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dA(t,e)}function S1(t,e,n){return e=WV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WV(t){var e=lfe(t,"string");return vh(e)=="symbol"?e:e+""}function lfe(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ufe(t,e){if(t==null)return{};var n=cfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ffe(t){return t.value}function hfe(t,e){if(fe.isValidElement(t))return fe.cloneElement(t,e);if(typeof t=="function")return fe.createElement(t,e);e.ref;var n=ufe(e,tfe);return fe.createElement(r2,n)}var Y3=1,eh=function(t){function e(){var n;nfe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ife(this,e,[].concat(i)),S1(n,"lastBoundingBox",{width:-1,height:-1}),n}return sfe(e,t),rfe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Y3||Math.abs(i.height-this.lastBoundingBox.height)>Y3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ya({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();d={top:((c||0)-y.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ya(Ya({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Ya(Ya({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return fe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},hfe(o,Ya(Ya({},this.props),{},{payload:HV(c,u,ffe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Ya(Ya({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Ze(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(U.PureComponent);S1(eh,"displayName","Legend");S1(eh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var K3=Og,dfe=o2,pfe=Fi,Z3=K3?K3.isConcatSpreadable:void 0;function mfe(t){return pfe(t)||dfe(t)||!!(Z3&&t&&t[Z3])}var gfe=mfe,vfe=IV,yfe=gfe;function GV(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=yfe),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?GV(s,e-1,n,r,i):vfe(i,s):r||(i[i.length]=s)}return i}var XV=GV;function xfe(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var _fe=xfe,Sfe=_fe,bfe=Sfe(),wfe=bfe,Mfe=wfe,Efe=l2;function Afe(t,e){return t&&Mfe(t,e,Efe)}var qV=Afe,Tfe=_1;function Pfe(t,e){return function(n,r){if(n==null)return n;if(!Tfe(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var Cfe=Pfe,Ofe=qV,Rfe=Cfe,Ife=Rfe(Ofe),c2=Ife,Lfe=c2,Nfe=_1;function Dfe(t,e){var n=-1,r=Nfe(t)?Array(t.length):[];return Lfe(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var YV=Dfe;function kfe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Ufe=kfe,J3=Yh;function Ffe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=J3(t),a=e!==void 0,s=e===null,l=e===e,u=J3(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var Bfe=Ffe,zfe=Bfe;function jfe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=zfe(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Vfe=jfe,gw=XC,Hfe=qC,$fe=id,Wfe=YV,Gfe=Ufe,Xfe=DV,qfe=Vfe,Yfe=rd,Kfe=Fi;function Zfe(t,e,n){e.length?e=gw(e,function(o){return Kfe(o)?function(a){return Hfe(a,o.length===1?o[0]:o)}:o}):e=[Yfe];var r=-1;e=gw(e,Xfe($fe));var i=Wfe(t,function(o,a,s){var l=gw(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Gfe(i,function(o,a){return qfe(o,a,n)})}var Jfe=Zfe;function Qfe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var ehe=Qfe,the=ehe,Q3=Math.max;function nhe(t,e,n){return e=Q3(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Q3(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),the(t,this,s)}}var rhe=nhe;function ihe(t){return function(){return t}}var ohe=ihe,ahe=bc,she=function(){try{var t=ahe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),KV=she,lhe=ohe,eD=KV,uhe=rd,che=eD?function(t,e){return eD(t,"toString",{configurable:!0,enumerable:!1,value:lhe(e),writable:!0})}:uhe,fhe=che,hhe=800,dhe=16,phe=Date.now;function mhe(t){var e=0,n=0;return function(){var r=phe(),i=dhe-(r-n);if(n=r,i>0){if(++e>=hhe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var ghe=mhe,vhe=fhe,yhe=ghe,xhe=yhe(vhe),_he=xhe,She=rd,bhe=rhe,whe=_he;function Mhe(t,e){return whe(bhe(t,e,She),t+"")}var Ehe=Mhe,Ahe=HC,The=_1,Phe=a2,Che=jl;function Ohe(t,e,n){if(!Che(n))return!1;var r=typeof e;return(r=="number"?The(n)&&Phe(e,n.length):r=="string"&&e in n)?Ahe(n[e],t):!1}var b1=Ohe,Rhe=XV,Ihe=Jfe,Lhe=Ehe,tD=b1,Nhe=Lhe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&tD(t,e[0],e[1])?e=[]:n>2&&tD(e[0],e[1],e[2])&&(e=[e[0]]),Ihe(t,Rhe(e,1),[])}),Dhe=Nhe;const f2=Sn(Dhe);function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function pA(){return pA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pA.apply(this,arguments)}function khe(t,e){return zhe(t)||Bhe(t,e)||Fhe(t,e)||Uhe()}function Uhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fhe(t,e){if(t){if(typeof t=="string")return nD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nD(t,e)}}function nD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function zhe(t){if(Array.isArray(t))return t}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jhe(t,e,n){return e=Vhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vhe(t){var e=Hhe(t,"string");return ym(e)=="symbol"?e:e+""}function Hhe(t,e){if(ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $he(t){return Array.isArray(t)&&Sr(t[0])&&Sr(t[1])?t.join(" ~ "):t}var Whe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,x=e.label,v=e.labelFormatter,g=e.accessibilityLayer,_=g===void 0?!1:g,S=function(){if(c&&c.length){var j={padding:0,margin:0},Y=(d?f2(c,d):c).map(function(F,G){if(F.type==="none")return null;var $=vw({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),te=F.formatter||f||$he,B=F.value,q=F.name,Z=B,oe=q;if(te&&Z!=null&&oe!=null){var re=te(B,q,F,G,c);if(Array.isArray(re)){var me=khe(re,2);Z=me[0],oe=me[1]}else Z=re}return fe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:$},Sr(oe)?fe.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,Sr(oe)?fe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,fe.createElement("span",{className:"recharts-tooltip-item-value"},Z),fe.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return fe.createElement("ul",{className:"recharts-tooltip-item-list",style:j},Y)}return null},w=vw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),M=vw({margin:0},u),E=!Zt(x),T=E?x:"",O=en("recharts-default-tooltip",m),N=en("recharts-tooltip-label",y);E&&v&&c!==void 0&&c!==null&&(T=v(x,c));var P=_?{role:"status","aria-live":"assertive"}:{};return fe.createElement("div",pA({className:O,style:w},P),fe.createElement("p",{className:N,style:M},fe.isValidElement(T)?T:"".concat(T)),S())};function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function hy(t,e,n){return e=Ghe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ghe(t){var e=Xhe(t,"string");return xm(e)=="symbol"?e:e+""}function Xhe(t,e){if(xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hd="recharts-tooltip-wrapper",qhe={visibility:"hidden"};function Yhe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return en(Hd,hy(hy(hy(hy({},"".concat(Hd,"-right"),Ze(n)&&e&&Ze(e.x)&&n>=e.x),"".concat(Hd,"-left"),Ze(n)&&e&&Ze(e.x)&&n<e.x),"".concat(Hd,"-bottom"),Ze(r)&&e&&Ze(e.y)&&r>=e.y),"".concat(Hd,"-top"),Ze(r)&&e&&Ze(e.y)&&r<e.y))}function iD(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Ze(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var d=c,m=l[r];return d<m?Math.max(f,l[r]):Math.max(c,l[r])}var y=f+s,x=l[r]+u;return y>x?Math.max(c,l[r]):Math.max(f,l[r])}function Khe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Zhe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=iD({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=iD({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Khe({translateX:c,translateY:f,useTranslate3d:s})):u=qhe,{cssProperties:u,cssClasses:Yhe({translateX:c,translateY:f,coordinate:n})}}function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){gA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JV(r.key),r)}}function ede(t,e,n){return e&&Qhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tde(t,e,n){return e=Nx(e),nde(t,ZV()?Reflect.construct(e,n||[],Nx(t).constructor):e.apply(t,n))}function nde(t,e){if(e&&(yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rde(t)}function rde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZV=function(){return!!t})()}function Nx(t){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nx(t)}function ide(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mA(t,e)}function mA(t,e){return mA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mA(t,e)}function gA(t,e,n){return e=JV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JV(t){var e=ode(t,"string");return yh(e)=="symbol"?e:e+""}function ode(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sD=1,ade=function(t){function e(){var n;Jhe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=tde(this,e,[].concat(i)),gA(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gA(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return ide(e,t),ede(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>sD||Math.abs(r.height-this.state.lastBoundingBox.height)>sD)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,m=i.offset,y=i.position,x=i.reverseDirection,v=i.useTranslate3d,g=i.viewBox,_=i.wrapperStyle,S=Zhe({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:m,position:y,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:g}),w=S.cssClasses,M=S.cssProperties,E=aD(aD({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return fe.createElement("div",{tabIndex:-1,className:w,style:E,ref:function(O){r.wrapperNode=O}},u)}}])}(U.PureComponent),sde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},od={isSsr:sde()};function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){h2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ude(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eH(r.key),r)}}function cde(t,e,n){return e&&ude(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fde(t,e,n){return e=Dx(e),hde(t,QV()?Reflect.construct(e,n||[],Dx(t).constructor):e.apply(t,n))}function hde(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dde(t)}function dde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QV=function(){return!!t})()}function Dx(t){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dx(t)}function pde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vA(t,e)}function vA(t,e){return vA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vA(t,e)}function h2(t,e,n){return e=eH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eH(t){var e=mde(t,"string");return xh(e)=="symbol"?e:e+""}function mde(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gde(t){return t.dataKey}function vde(t,e){return fe.isValidElement(t)?fe.cloneElement(t,e):typeof t=="function"?fe.createElement(t,e):fe.createElement(Whe,e)}var Sa=function(t){function e(){return lde(this,e),fde(this,e,arguments)}return pde(e,t),cde(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,m=i.offset,y=i.payload,x=i.payloadUniqBy,v=i.position,g=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,w=i.wrapperStyle,M=y??[];f&&M.length&&(M=HV(y.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),x,gde));var E=M.length>0;return fe.createElement(ade,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:E,offset:m,position:v,reverseDirection:g,useTranslate3d:_,viewBox:S,wrapperStyle:w},vde(u,uD(uD({},this.props),{},{payload:M})))}}])}(U.PureComponent);h2(Sa,"displayName","Tooltip");h2(Sa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!od.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yde=ja,xde=function(){return yde.Date.now()},_de=xde,Sde=/\s/;function bde(t){for(var e=t.length;e--&&Sde.test(t.charAt(e)););return e}var wde=bde,Mde=wde,Ede=/^\s+/;function Ade(t){return t&&t.slice(0,Mde(t)+1).replace(Ede,"")}var Tde=Ade,Pde=Tde,cD=jl,Cde=Yh,fD=NaN,Ode=/^[-+]0x[0-9a-f]+$/i,Rde=/^0b[01]+$/i,Ide=/^0o[0-7]+$/i,Lde=parseInt;function Nde(t){if(typeof t=="number")return t;if(Cde(t))return fD;if(cD(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=cD(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Pde(t);var n=Rde.test(t);return n||Ide.test(t)?Lde(t.slice(2),n?2:8):Ode.test(t)?fD:+t}var tH=Nde,Dde=jl,yw=_de,hD=tH,kde="Expected a function",Ude=Math.max,Fde=Math.min;function Bde(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(kde);e=hD(e)||0,Dde(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Ude(hD(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function m(E){var T=r,O=i;return r=i=void 0,u=E,a=t.apply(O,T),a}function y(E){return u=E,s=setTimeout(g,e),c?m(E):a}function x(E){var T=E-l,O=E-u,N=e-T;return f?Fde(N,o-O):N}function v(E){var T=E-l,O=E-u;return l===void 0||T>=e||T<0||f&&O>=o}function g(){var E=yw();if(v(E))return _(E);s=setTimeout(g,x(E))}function _(E){return s=void 0,d&&r?m(E):(r=i=void 0,a)}function S(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function w(){return s===void 0?a:_(yw())}function M(){var E=yw(),T=v(E);if(r=arguments,i=this,l=E,T){if(s===void 0)return y(l);if(f)return clearTimeout(s),s=setTimeout(g,e),m(l)}return s===void 0&&(s=setTimeout(g,e)),a}return M.cancel=S,M.flush=w,M}var zde=Bde,jde=zde,Vde=jl,Hde="Expected a function";function $de(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Hde);return Vde(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),jde(t,e,{leading:r,maxWait:e,trailing:i})}var Wde=$de;const nH=Sn(Wde);function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){Gde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gde(t,e,n){return e=Xde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xde(t){var e=qde(t,"string");return _m(e)=="symbol"?e:e+""}function qde(t,e){if(_m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yde(t,e){return Qde(t)||Jde(t,e)||Zde(t,e)||Kde()}function Kde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zde(t,e){if(t){if(typeof t=="string")return pD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pD(t,e)}}function pD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Qde(t){if(Array.isArray(t))return t}var epe=U.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,m=t.children,y=t.debounce,x=y===void 0?0:y,v=t.id,g=t.className,_=t.onResize,S=t.style,w=S===void 0?{}:S,M=U.useRef(null),E=U.useRef();E.current=_,U.useImperativeHandle(e,function(){return Object.defineProperty(M.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),M.current},configurable:!0})});var T=U.useState({containerWidth:i.width,containerHeight:i.height}),O=Yde(T,2),N=O[0],P=O[1],R=U.useCallback(function(Y,F){P(function(G){var $=Math.round(Y),te=Math.round(F);return G.containerWidth===$&&G.containerHeight===te?G:{containerWidth:$,containerHeight:te}})},[]);U.useEffect(function(){var Y=function(q){var Z,oe=q[0].contentRect,re=oe.width,me=oe.height;R(re,me),(Z=E.current)===null||Z===void 0||Z.call(E,re,me)};x>0&&(Y=nH(Y,x,{trailing:!0,leading:!1}));var F=new ResizeObserver(Y),G=M.current.getBoundingClientRect(),$=G.width,te=G.height;return R($,te),F.observe(M.current),function(){F.disconnect()}},[R,x]);var j=U.useMemo(function(){var Y=N.containerWidth,F=N.containerHeight;if(Y<0||F<0)return null;Ku(ku(a)||ku(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Ku(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=ku(a)?Y:a,$=ku(l)?F:l;n&&n>0&&(G?$=G/n:$&&(G=$*n),d&&$>d&&($=d)),Ku(G>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,$,a,l,c,f,n);var te=!Array.isArray(m)&&ms(m.type).endsWith("Chart");return fe.Children.map(m,function(B){return fe.isValidElement(B)?U.cloneElement(B,dy({width:G,height:$},te?{style:dy({height:"100%",width:"100%",maxHeight:$,maxWidth:G},B.props.style)}:{})):B})},[n,m,l,d,f,c,N,a]);return fe.createElement("div",{id:v?"".concat(v):void 0,className:en("recharts-responsive-container",g),style:dy(dy({},w),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:M},j)}),rH=function(e){return null};rH.displayName="Cell";function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){tpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tpe(t,e,n){return e=npe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function npe(t){var e=rpe(t,"string");return Sm(e)=="symbol"?e:e+""}function rpe(t,e){if(Sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gc={widthCache:{},cacheCount:0},ipe=2e3,ope={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gD="recharts_measurement_span";function ape(t){var e=yA({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Dp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||od.isSsr)return{width:0,height:0};var r=ape(n),i=JSON.stringify({text:e,copyStyle:r});if(Gc.widthCache[i])return Gc.widthCache[i];try{var o=document.getElementById(gD);o||(o=document.createElement("span"),o.setAttribute("id",gD),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=yA(yA({},ope),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Gc.widthCache[i]=l,++Gc.cacheCount>ipe&&(Gc.cacheCount=0,Gc.widthCache={}),l}catch{return{width:0,height:0}}},spe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function kx(t,e){return fpe(t)||cpe(t,e)||upe(t,e)||lpe()}function lpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function upe(t,e){if(t){if(typeof t=="string")return vD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vD(t,e)}}function vD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function fpe(t){if(Array.isArray(t))return t}function hpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ppe(r.key),r)}}function dpe(t,e,n){return e&&yD(t.prototype,e),n&&yD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ppe(t){var e=mpe(t,"string");return bm(e)=="symbol"?e:e+""}function mpe(t,e){if(bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_D=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ype=Object.keys(iH),Ff="NaN";function xpe(t,e){return t*iH[e]}var py=function(){function t(e,n){hpe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!gpe.test(n)&&(this.num=NaN,this.unit=""),ype.includes(n)&&(this.num=xpe(e,n),this.unit="px")}return dpe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=vpe.exec(n))!==null&&r!==void 0?r:[],o=kx(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function oH(t){if(t.includes(Ff))return Ff;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=xD.exec(e))!==null&&n!==void 0?n:[],i=kx(r,4),o=i[1],a=i[2],s=i[3],l=py.parse(o??""),u=py.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ff;e=e.replace(xD,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=_D.exec(e))!==null&&f!==void 0?f:[],m=kx(d,4),y=m[1],x=m[2],v=m[3],g=py.parse(y??""),_=py.parse(v??""),S=x==="+"?g.add(_):g.subtract(_);if(S.isNaN())return Ff;e=e.replace(_D,S.toString())}return e}var SD=/\(([^()]*)\)/;function _pe(t){for(var e=t;e.includes("(");){var n=SD.exec(e),r=kx(n,2),i=r[1];e=e.replace(SD,oH(i))}return e}function Spe(t){var e=t.replace(/\s+/g,"");return e=_pe(e),e=oH(e),e}function bpe(t){try{return Spe(t)}catch{return Ff}}function xw(t){var e=bpe(t.slice(5,-1));return e===Ff?"":e}var wpe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Mpe=["dx","dy","angle","className","breakAll"];function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xA.apply(this,arguments)}function bD(t,e){if(t==null)return{};var n=Epe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Epe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wD(t,e){return Cpe(t)||Ppe(t,e)||Tpe(t,e)||Ape()}function Ape(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tpe(t,e){if(t){if(typeof t=="string")return MD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MD(t,e)}}function MD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ppe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Cpe(t){if(Array.isArray(t))return t}var aH=/[ \f\n\r\t\v\u2028\u2029]+/,sH=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Zt(n)||(r?o=n.toString().split(""):o=n.toString().split(aH));var a=o.map(function(l){return{word:l,width:Dp(l,i).width}}),s=r?0:Dp("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Ope=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Ze(a),f=s,d=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function($,te){var B=te.word,q=te.width,Z=$[$.length-1];if(Z&&(i==null||o||Z.width+q+r<Number(i)))Z.words.push(B),Z.width+=q+r;else{var oe={words:[B],width:q};$.push(oe)}return $},[])},m=d(n),y=function(G){return G.reduce(function($,te){return $.width>te.width?$:te})};if(!c)return m;for(var x="",v=function(G){var $=f.slice(0,G),te=sH({breakAll:u,style:l,children:$+x}).wordsWithComputedWidth,B=d(te),q=B.length>a||y(B).width>Number(i);return[q,B]},g=0,_=f.length-1,S=0,w;g<=_&&S<=f.length-1;){var M=Math.floor((g+_)/2),E=M-1,T=v(E),O=wD(T,2),N=O[0],P=O[1],R=v(M),j=wD(R,1),Y=j[0];if(!N&&!Y&&(g=M+1),N&&Y&&(_=M-1),!N&&Y){w=P;break}S++}return w||m},ED=function(e){var n=Zt(e)?[]:e.toString().split(aH);return[{words:n}]},Rpe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!od.isSsr){var l,u,c=sH({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return ED(i);return Ope({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return ED(i)},AD="#808080",Ux=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,m=d===void 0?"start":d,y=e.verticalAnchor,x=y===void 0?"end":y,v=e.fill,g=v===void 0?AD:v,_=bD(e,wpe),S=U.useMemo(function(){return Rpe({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),w=_.dx,M=_.dy,E=_.angle,T=_.className,O=_.breakAll,N=bD(_,Mpe);if(!Sr(r)||!Sr(o))return null;var P=r+(Ze(w)?w:0),R=o+(Ze(M)?M:0),j;switch(x){case"start":j=xw("calc(".concat(u,")"));break;case"middle":j=xw("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=xw("calc(".concat(S.length-1," * -").concat(s,")"));break}var Y=[];if(f){var F=S[0].width,G=_.width;Y.push("scale(".concat((Ze(G)?G/F:1)/F,")"))}return E&&Y.push("rotate(".concat(E,", ").concat(P,", ").concat(R,")")),Y.length&&(N.transform=Y.join(" ")),fe.createElement("text",xA({},Kt(N,!0),{x:P,y:R,className:en("recharts-text",T),textAnchor:m,fill:g.includes("url")?AD:g}),S.map(function($,te){var B=$.words.join(O?"":" ");return fe.createElement("tspan",{x:P,dy:te===0?j:s,key:"".concat(B,"-").concat(te)},B)}))};function Ml(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ipe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function d2(t){let e,n,r;t.length!==2?(e=Ml,n=(s,l)=>Ml(t(s),l),r=(s,l)=>t(s)-l):(e=t===Ml||t===Ipe?t:Lpe,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function Lpe(){return 0}function lH(t){return t===null?NaN:+t}function*Npe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Dpe=d2(Ml),Ig=Dpe.right;d2(lH).center;class TD extends Map{constructor(e,n=Fpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(PD(this,e))}has(e){return super.has(PD(this,e))}set(e,n){return super.set(kpe(this,e),n)}delete(e){return super.delete(Upe(this,e))}}function PD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function kpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Upe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Fpe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Bpe(t=Ml){if(t===Ml)return uH;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function uH(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const zpe=Math.sqrt(50),jpe=Math.sqrt(10),Vpe=Math.sqrt(2);function Fx(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=zpe?10:o>=jpe?5:o>=Vpe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Fx(t,e,n*2):[s,l,u]}function _A(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Fx(e,t,n):Fx(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function SA(t,e,n){return e=+e,t=+t,n=+n,Fx(t,e,n)[2]}function bA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?SA(e,t,n):SA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function CD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function OD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function cH(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?uH:Bpe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+d)),y=Math.min(r,Math.floor(e+(l-u)*f/l+d));cH(t,e,m,y,i)}const o=t[e];let a=n,s=r;for($d(t,n,e),i(t[r],o)>0&&$d(t,n,r);a<s;){for($d(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?$d(t,n,s):(++s,$d(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function $d(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Hpe(t,e,n){if(t=Float64Array.from(Npe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return OD(t);if(e>=1)return CD(t);var r,i=(r-1)*e,o=Math.floor(i),a=CD(cH(t,o).subarray(0,o+1)),s=OD(t.subarray(o+1));return a+(s-a)*(i-o)}}function $pe(t,e,n=lH){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Wpe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Fo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ns(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const wA=Symbol("implicit");function p2(){var t=new TD,e=[],n=[],r=wA;function i(o){let a=t.get(o);if(a===void 0){if(r!==wA)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new TD;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return p2(e,n).unknown(r)},Fo.apply(i,arguments),i}function wm(){var t=p2().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,m=i<r,y=m?i:r,x=m?r:i;o=(x-y)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),y+=(x-y-o*(d-l))*c,a=o*(1-l),s&&(y=Math.round(y),a=Math.round(a));var v=Wpe(d).map(function(g){return y+o*g});return n(m?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return wm(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Fo.apply(f(),arguments)}function fH(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return fH(e())},t}function kp(){return fH(wm.apply(null,arguments).paddingInner(1))}function m2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function hH(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Lg(){}var Mm=.7,Bx=1/Mm,th="\\s*([+-]?\\d+)\\s*",Em="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ia="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gpe=/^#([0-9a-f]{3,8})$/,Xpe=new RegExp(`^rgb\\(${th},${th},${th}\\)$`),qpe=new RegExp(`^rgb\\(${Ia},${Ia},${Ia}\\)$`),Ype=new RegExp(`^rgba\\(${th},${th},${th},${Em}\\)$`),Kpe=new RegExp(`^rgba\\(${Ia},${Ia},${Ia},${Em}\\)$`),Zpe=new RegExp(`^hsl\\(${Em},${Ia},${Ia}\\)$`),Jpe=new RegExp(`^hsla\\(${Em},${Ia},${Ia},${Em}\\)$`),RD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m2(Lg,Am,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ID,formatHex:ID,formatHex8:Qpe,formatHsl:eme,formatRgb:LD,toString:LD});function ID(){return this.rgb().formatHex()}function Qpe(){return this.rgb().formatHex8()}function eme(){return dH(this).formatHsl()}function LD(){return this.rgb().formatRgb()}function Am(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Gpe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ND(e):n===3?new Ni(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?my(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?my(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Xpe.exec(t))?new Ni(e[1],e[2],e[3],1):(e=qpe.exec(t))?new Ni(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ype.exec(t))?my(e[1],e[2],e[3],e[4]):(e=Kpe.exec(t))?my(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Zpe.exec(t))?UD(e[1],e[2]/100,e[3]/100,1):(e=Jpe.exec(t))?UD(e[1],e[2]/100,e[3]/100,e[4]):RD.hasOwnProperty(t)?ND(RD[t]):t==="transparent"?new Ni(NaN,NaN,NaN,0):null}function ND(t){return new Ni(t>>16&255,t>>8&255,t&255,1)}function my(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ni(t,e,n,r)}function tme(t){return t instanceof Lg||(t=Am(t)),t?(t=t.rgb(),new Ni(t.r,t.g,t.b,t.opacity)):new Ni}function MA(t,e,n,r){return arguments.length===1?tme(t):new Ni(t,e,n,r??1)}function Ni(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}m2(Ni,MA,hH(Lg,{brighter(t){return t=t==null?Bx:Math.pow(Bx,t),new Ni(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mm:Math.pow(Mm,t),new Ni(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ni(Zu(this.r),Zu(this.g),Zu(this.b),zx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DD,formatHex:DD,formatHex8:nme,formatRgb:kD,toString:kD}));function DD(){return`#${Uu(this.r)}${Uu(this.g)}${Uu(this.b)}`}function nme(){return`#${Uu(this.r)}${Uu(this.g)}${Uu(this.b)}${Uu((isNaN(this.opacity)?1:this.opacity)*255)}`}function kD(){const t=zx(this.opacity);return`${t===1?"rgb(":"rgba("}${Zu(this.r)}, ${Zu(this.g)}, ${Zu(this.b)}${t===1?")":`, ${t})`}`}function zx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Uu(t){return t=Zu(t),(t<16?"0":"")+t.toString(16)}function UD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ea(t,e,n,r)}function dH(t){if(t instanceof ea)return new ea(t.h,t.s,t.l,t.opacity);if(t instanceof Lg||(t=Am(t)),!t)return new ea;if(t instanceof ea)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new ea(a,s,l,t.opacity)}function rme(t,e,n,r){return arguments.length===1?dH(t):new ea(t,e,n,r??1)}function ea(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}m2(ea,rme,hH(Lg,{brighter(t){return t=t==null?Bx:Math.pow(Bx,t),new ea(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mm:Math.pow(Mm,t),new ea(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ni(_w(t>=240?t-240:t+120,i,r),_w(t,i,r),_w(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ea(FD(this.h),gy(this.s),gy(this.l),zx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=zx(this.opacity);return`${t===1?"hsl(":"hsla("}${FD(this.h)}, ${gy(this.s)*100}%, ${gy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function FD(t){return t=(t||0)%360,t<0?t+360:t}function gy(t){return Math.max(0,Math.min(1,t||0))}function _w(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const g2=t=>()=>t;function ime(t,e){return function(n){return t+n*e}}function ome(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ame(t){return(t=+t)==1?pH:function(e,n){return n-e?ome(e,n,t):g2(isNaN(e)?n:e)}}function pH(t,e){var n=e-t;return n?ime(t,n):g2(isNaN(t)?e:t)}const BD=function t(e){var n=ame(e);function r(i,o){var a=n((i=MA(i)).r,(o=MA(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=pH(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function sme(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function lme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ume(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=ad(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function cme(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function jx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function fme(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ad(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var EA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sw=new RegExp(EA.source,"g");function hme(t){return function(){return t}}function dme(t){return function(e){return t(e)+""}}function pme(t,e){var n=EA.lastIndex=Sw.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=EA.exec(t))&&(i=Sw.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:jx(r,i)})),n=Sw.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?dme(l[0].x):hme(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function ad(t,e){var n=typeof e,r;return e==null||n==="boolean"?g2(e):(n==="number"?jx:n==="string"?(r=Am(e))?(e=r,BD):pme:e instanceof Am?BD:e instanceof Date?cme:lme(e)?sme:Array.isArray(e)?ume:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?fme:jx)(t,e)}function v2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function mme(t,e){e===void 0&&(e=t,t=ad);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function gme(t){return function(){return t}}function Vx(t){return+t}var zD=[0,1];function gi(t){return t}function AA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:gme(isNaN(e)?NaN:.5)}function vme(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function yme(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=AA(i,r),o=n(a,o)):(r=AA(r,i),o=n(o,a)),function(s){return o(r(s))}}function xme(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=AA(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Ig(t,s,1,r)-1;return o[l](i[l](s))}}function Ng(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function w1(){var t=zD,e=zD,n=ad,r,i,o,a=gi,s,l,u;function c(){var d=Math.min(t.length,e.length);return a!==gi&&(a=vme(t[0],t[d-1])),s=d>2?xme:yme,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(e,t.map(r),jx)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,Vx),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=v2,c()},f.clamp=function(d){return arguments.length?(a=d?!0:gi,c()):a!==gi},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,m){return r=d,i=m,c()}}function y2(){return w1()(gi,gi)}function _me(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Hx(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _h(t){return t=Hx(Math.abs(t)),t?t[1]:NaN}function Sme(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function bme(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var wme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tm(t){if(!(e=wme.exec(t)))throw new Error("invalid format: "+t);var e;return new x2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Tm.prototype=x2.prototype;function x2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}x2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mme(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var mH;function Eme(t,e){var n=Hx(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(mH=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Hx(t,Math.max(0,e+o-1))[0]}function jD(t,e){var n=Hx(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const VD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:_me,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jD(t*100,e),r:jD,s:Eme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function HD(t){return t}var $D=Array.prototype.map,WD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ame(t){var e=t.grouping===void 0||t.thousands===void 0?HD:Sme($D.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?HD:bme($D.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Tm(f);var d=f.fill,m=f.align,y=f.sign,x=f.symbol,v=f.zero,g=f.width,_=f.comma,S=f.precision,w=f.trim,M=f.type;M==="n"?(_=!0,M="g"):VD[M]||(S===void 0&&(S=12),w=!0,M="g"),(v||d==="0"&&m==="=")&&(v=!0,d="0",m="=");var E=x==="$"?n:x==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",T=x==="$"?r:/[%p]/.test(M)?a:"",O=VD[M],N=/[defgprs%]/.test(M);S=S===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function P(R){var j=E,Y=T,F,G,$;if(M==="c")Y=O(R)+Y,R="";else{R=+R;var te=R<0||1/R<0;if(R=isNaN(R)?l:O(Math.abs(R),S),w&&(R=Mme(R)),te&&+R==0&&y!=="+"&&(te=!1),j=(te?y==="("?y:s:y==="-"||y==="("?"":y)+j,Y=(M==="s"?WD[8+mH/3]:"")+Y+(te&&y==="("?")":""),N){for(F=-1,G=R.length;++F<G;)if($=R.charCodeAt(F),48>$||$>57){Y=($===46?i+R.slice(F+1):R.slice(F))+Y,R=R.slice(0,F);break}}}_&&!v&&(R=e(R,1/0));var B=j.length+R.length+Y.length,q=B<g?new Array(g-B+1).join(d):"";switch(_&&v&&(R=e(q+R,q.length?g-Y.length:1/0),q=""),m){case"<":R=j+R+Y+q;break;case"=":R=j+q+R+Y;break;case"^":R=q.slice(0,B=q.length>>1)+j+R+Y+q.slice(B);break;default:R=q+j+R+Y;break}return o(R)}return P.toString=function(){return f+""},P}function c(f,d){var m=u((f=Tm(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(_h(d)/3)))*3,x=Math.pow(10,-y),v=WD[8+y/3];return function(g){return m(x*g)+v}}return{format:u,formatPrefix:c}}var vy,_2,gH;Tme({thousands:",",grouping:[3],currency:["$",""]});function Tme(t){return vy=Ame(t),_2=vy.format,gH=vy.formatPrefix,vy}function Pme(t){return Math.max(0,-_h(Math.abs(t)))}function Cme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_h(e)/3)))*3-_h(Math.abs(t)))}function Ome(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_h(e)-_h(t))+1}function vH(t,e,n,r){var i=bA(t,e,n),o;switch(r=Tm(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Cme(i,a))&&(r.precision=o),gH(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ome(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Pme(i))&&(r.precision=o-(r.type==="%")*2);break}}return _2(r)}function Vl(t){var e=t.domain;return t.ticks=function(n){var r=e();return _A(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return vH(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=SA(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function $x(){var t=y2();return t.copy=function(){return Ng(t,$x())},Fo.apply(t,arguments),Vl(t)}function yH(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Vx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return yH(t).unknown(e)},t=arguments.length?Array.from(t,Vx):[0,1],Vl(n)}function xH(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function GD(t){return Math.log(t)}function XD(t){return Math.exp(t)}function Rme(t){return-Math.log(-t)}function Ime(t){return-Math.exp(-t)}function Lme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Nme(t){return t===10?Lme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Dme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function qD(t){return(e,n)=>-t(-e,n)}function S2(t){const e=t(GD,XD),n=e.domain;let r=10,i,o;function a(){return i=Dme(r),o=Nme(r),n()[0]<0?(i=qD(i),o=qD(o),t(Rme,Ime)):t(GD,XD),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),m=i(c),y,x;const v=s==null?10:+s;let g=[];if(!(r%1)&&m-d<v){if(d=Math.floor(d),m=Math.ceil(m),u>0){for(;d<=m;++d)for(y=1;y<r;++y)if(x=d<0?y/o(-d):y*o(d),!(x<u)){if(x>c)break;g.push(x)}}else for(;d<=m;++d)for(y=r-1;y>=1;--y)if(x=d>0?y/o(-d):y*o(d),!(x<u)){if(x>c)break;g.push(x)}g.length*2<v&&(g=_A(u,c,v))}else g=_A(d,m,Math.min(m-d,v)).map(o);return f?g.reverse():g},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Tm(l)).precision==null&&(l.trim=!0),l=_2(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(xH(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function _H(){const t=S2(w1()).domain([1,10]);return t.copy=()=>Ng(t,_H()).base(t.base()),Fo.apply(t,arguments),t}function YD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function KD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function b2(t){var e=1,n=t(YD(e),KD(e));return n.constant=function(r){return arguments.length?t(YD(e=+r),KD(e)):e},Vl(n)}function SH(){var t=b2(w1());return t.copy=function(){return Ng(t,SH()).constant(t.constant())},Fo.apply(t,arguments)}function ZD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function kme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ume(t){return t<0?-t*t:t*t}function w2(t){var e=t(gi,gi),n=1;function r(){return n===1?t(gi,gi):n===.5?t(kme,Ume):t(ZD(n),ZD(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Vl(e)}function M2(){var t=w2(w1());return t.copy=function(){return Ng(t,M2()).exponent(t.exponent())},Fo.apply(t,arguments),t}function Fme(){return M2.apply(null,arguments).exponent(.5)}function JD(t){return Math.sign(t)*t*t}function Bme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function bH(){var t=y2(),e=[0,1],n=!1,r;function i(o){var a=Bme(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(JD(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Vx)).map(JD)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return bH(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Fo.apply(i,arguments),Vl(i)}function wH(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=$pe(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Ig(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ml),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return wH().domain(t).range(e).unknown(r)},Fo.apply(o,arguments)}function MH(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Ig(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return MH().domain([t,e]).range(i).unknown(o)},Fo.apply(Vl(a),arguments)}function EH(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Ig(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return EH().domain(t).range(e).unknown(n)},Fo.apply(i,arguments)}const bw=new Date,ww=new Date;function Mr(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Mr(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(bw.setTime(+o),ww.setTime(+a),t(bw),t(ww),Math.floor(n(bw,ww))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Wx=Mr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Wx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Wx);Wx.range;const ls=1e3,Ro=ls*60,us=Ro*60,ws=us*24,E2=ws*7,QD=ws*30,Mw=ws*365,Fu=Mr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ls)},(t,e)=>(e-t)/ls,t=>t.getUTCSeconds());Fu.range;const A2=Mr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ls)},(t,e)=>{t.setTime(+t+e*Ro)},(t,e)=>(e-t)/Ro,t=>t.getMinutes());A2.range;const T2=Mr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ro)},(t,e)=>(e-t)/Ro,t=>t.getUTCMinutes());T2.range;const P2=Mr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ls-t.getMinutes()*Ro)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getHours());P2.range;const C2=Mr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getUTCHours());C2.range;const Dg=Mr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ro)/ws,t=>t.getDate()-1);Dg.range;const M1=Mr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ws,t=>t.getUTCDate()-1);M1.range;const AH=Mr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ws,t=>Math.floor(t/ws));AH.range;function wc(t){return Mr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ro)/E2)}const E1=wc(0),Gx=wc(1),zme=wc(2),jme=wc(3),Sh=wc(4),Vme=wc(5),Hme=wc(6);E1.range;Gx.range;zme.range;jme.range;Sh.range;Vme.range;Hme.range;function Mc(t){return Mr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/E2)}const A1=Mc(0),Xx=Mc(1),$me=Mc(2),Wme=Mc(3),bh=Mc(4),Gme=Mc(5),Xme=Mc(6);A1.range;Xx.range;$me.range;Wme.range;bh.range;Gme.range;Xme.range;const O2=Mr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());O2.range;const R2=Mr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());R2.range;const Ms=Mr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ms.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ms.range;const Es=Mr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Es.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Es.range;function TH(t,e,n,r,i,o){const a=[[Fu,1,ls],[Fu,5,5*ls],[Fu,15,15*ls],[Fu,30,30*ls],[o,1,Ro],[o,5,5*Ro],[o,15,15*Ro],[o,30,30*Ro],[i,1,us],[i,3,3*us],[i,6,6*us],[i,12,12*us],[r,1,ws],[r,2,2*ws],[n,1,E2],[e,1,QD],[e,3,3*QD],[t,1,Mw]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const m=f&&typeof f.range=="function"?f:l(u,c,f),y=m?m.range(u,+c+1):[];return d?y.reverse():y}function l(u,c,f){const d=Math.abs(c-u)/f,m=d2(([,,v])=>v).right(a,d);if(m===a.length)return t.every(bA(u/Mw,c/Mw,f));if(m===0)return Wx.every(Math.max(bA(u,c,f),1));const[y,x]=a[d/a[m-1][2]<a[m][2]/d?m-1:m];return y.every(x)}return[s,l]}const[qme,Yme]=TH(Es,R2,A1,AH,C2,T2),[Kme,Zme]=TH(Ms,O2,E1,Dg,P2,A2);function Ew(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Aw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Jme(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Gd(i),c=Xd(i),f=Gd(o),d=Xd(o),m=Gd(a),y=Xd(a),x=Gd(s),v=Xd(s),g=Gd(l),_=Xd(l),S={a:te,A:B,b:q,B:Z,c:null,d:ok,e:ok,f:Sge,g:Rge,G:Lge,H:yge,I:xge,j:_ge,L:PH,m:bge,M:wge,p:oe,q:re,Q:lk,s:uk,S:Mge,u:Ege,U:Age,V:Tge,w:Pge,W:Cge,x:null,X:null,y:Oge,Y:Ige,Z:Nge,"%":sk},w={a:me,A:le,b:pe,B:we,c:null,d:ak,e:ak,f:Fge,g:qge,G:Kge,H:Dge,I:kge,j:Uge,L:OH,m:Bge,M:zge,p:ze,q:Xe,Q:lk,s:uk,S:jge,u:Vge,U:Hge,V:$ge,w:Wge,W:Gge,x:null,X:null,y:Xge,Y:Yge,Z:Zge,"%":sk},M={a:P,A:R,b:j,B:Y,c:F,d:rk,e:rk,f:pge,g:nk,G:tk,H:ik,I:ik,j:cge,L:dge,m:uge,M:fge,p:N,q:lge,Q:gge,s:vge,S:hge,u:rge,U:ige,V:oge,w:nge,W:age,x:G,X:$,y:nk,Y:tk,Z:sge,"%":mge};S.x=E(n,S),S.X=E(r,S),S.c=E(e,S),w.x=E(n,w),w.X=E(r,w),w.c=E(e,w);function E(xe,Ve){return function(De){var V=[],Ae=-1,de=0,Re=xe.length,_e,Je,Ge;for(De instanceof Date||(De=new Date(+De));++Ae<Re;)xe.charCodeAt(Ae)===37&&(V.push(xe.slice(de,Ae)),(Je=ek[_e=xe.charAt(++Ae)])!=null?_e=xe.charAt(++Ae):Je=_e==="e"?" ":"0",(Ge=Ve[_e])&&(_e=Ge(De,Je)),V.push(_e),de=Ae+1);return V.push(xe.slice(de,Ae)),V.join("")}}function T(xe,Ve){return function(De){var V=Wd(1900,void 0,1),Ae=O(V,xe,De+="",0),de,Re;if(Ae!=De.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(Ve&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(de=Aw(Wd(V.y,0,1)),Re=de.getUTCDay(),de=Re>4||Re===0?Xx.ceil(de):Xx(de),de=M1.offset(de,(V.V-1)*7),V.y=de.getUTCFullYear(),V.m=de.getUTCMonth(),V.d=de.getUTCDate()+(V.w+6)%7):(de=Ew(Wd(V.y,0,1)),Re=de.getDay(),de=Re>4||Re===0?Gx.ceil(de):Gx(de),de=Dg.offset(de,(V.V-1)*7),V.y=de.getFullYear(),V.m=de.getMonth(),V.d=de.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),Re="Z"in V?Aw(Wd(V.y,0,1)).getUTCDay():Ew(Wd(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(Re+5)%7:V.w+V.U*7-(Re+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,Aw(V)):Ew(V)}}function O(xe,Ve,De,V){for(var Ae=0,de=Ve.length,Re=De.length,_e,Je;Ae<de;){if(V>=Re)return-1;if(_e=Ve.charCodeAt(Ae++),_e===37){if(_e=Ve.charAt(Ae++),Je=M[_e in ek?Ve.charAt(Ae++):_e],!Je||(V=Je(xe,De,V))<0)return-1}else if(_e!=De.charCodeAt(V++))return-1}return V}function N(xe,Ve,De){var V=u.exec(Ve.slice(De));return V?(xe.p=c.get(V[0].toLowerCase()),De+V[0].length):-1}function P(xe,Ve,De){var V=m.exec(Ve.slice(De));return V?(xe.w=y.get(V[0].toLowerCase()),De+V[0].length):-1}function R(xe,Ve,De){var V=f.exec(Ve.slice(De));return V?(xe.w=d.get(V[0].toLowerCase()),De+V[0].length):-1}function j(xe,Ve,De){var V=g.exec(Ve.slice(De));return V?(xe.m=_.get(V[0].toLowerCase()),De+V[0].length):-1}function Y(xe,Ve,De){var V=x.exec(Ve.slice(De));return V?(xe.m=v.get(V[0].toLowerCase()),De+V[0].length):-1}function F(xe,Ve,De){return O(xe,e,Ve,De)}function G(xe,Ve,De){return O(xe,n,Ve,De)}function $(xe,Ve,De){return O(xe,r,Ve,De)}function te(xe){return a[xe.getDay()]}function B(xe){return o[xe.getDay()]}function q(xe){return l[xe.getMonth()]}function Z(xe){return s[xe.getMonth()]}function oe(xe){return i[+(xe.getHours()>=12)]}function re(xe){return 1+~~(xe.getMonth()/3)}function me(xe){return a[xe.getUTCDay()]}function le(xe){return o[xe.getUTCDay()]}function pe(xe){return l[xe.getUTCMonth()]}function we(xe){return s[xe.getUTCMonth()]}function ze(xe){return i[+(xe.getUTCHours()>=12)]}function Xe(xe){return 1+~~(xe.getUTCMonth()/3)}return{format:function(xe){var Ve=E(xe+="",S);return Ve.toString=function(){return xe},Ve},parse:function(xe){var Ve=T(xe+="",!1);return Ve.toString=function(){return xe},Ve},utcFormat:function(xe){var Ve=E(xe+="",w);return Ve.toString=function(){return xe},Ve},utcParse:function(xe){var Ve=T(xe+="",!0);return Ve.toString=function(){return xe},Ve}}}var ek={"-":"",_:" ",0:"0"},Lr=/^\s*\d+/,Qme=/^%/,ege=/[\\^$*+?|[\]().{}]/g;function ln(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function tge(t){return t.replace(ege,"\\$&")}function Gd(t){return new RegExp("^(?:"+t.map(tge).join("|")+")","i")}function Xd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function nge(t,e,n){var r=Lr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function rge(t,e,n){var r=Lr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ige(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function oge(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function age(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function tk(t,e,n){var r=Lr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function nk(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sge(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lge(t,e,n){var r=Lr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function uge(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function rk(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function cge(t,e,n){var r=Lr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ik(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function fge(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function hge(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function dge(t,e,n){var r=Lr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function pge(t,e,n){var r=Lr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function mge(t,e,n){var r=Qme.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function gge(t,e,n){var r=Lr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function vge(t,e,n){var r=Lr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ok(t,e){return ln(t.getDate(),e,2)}function yge(t,e){return ln(t.getHours(),e,2)}function xge(t,e){return ln(t.getHours()%12||12,e,2)}function _ge(t,e){return ln(1+Dg.count(Ms(t),t),e,3)}function PH(t,e){return ln(t.getMilliseconds(),e,3)}function Sge(t,e){return PH(t,e)+"000"}function bge(t,e){return ln(t.getMonth()+1,e,2)}function wge(t,e){return ln(t.getMinutes(),e,2)}function Mge(t,e){return ln(t.getSeconds(),e,2)}function Ege(t){var e=t.getDay();return e===0?7:e}function Age(t,e){return ln(E1.count(Ms(t)-1,t),e,2)}function CH(t){var e=t.getDay();return e>=4||e===0?Sh(t):Sh.ceil(t)}function Tge(t,e){return t=CH(t),ln(Sh.count(Ms(t),t)+(Ms(t).getDay()===4),e,2)}function Pge(t){return t.getDay()}function Cge(t,e){return ln(Gx.count(Ms(t)-1,t),e,2)}function Oge(t,e){return ln(t.getFullYear()%100,e,2)}function Rge(t,e){return t=CH(t),ln(t.getFullYear()%100,e,2)}function Ige(t,e){return ln(t.getFullYear()%1e4,e,4)}function Lge(t,e){var n=t.getDay();return t=n>=4||n===0?Sh(t):Sh.ceil(t),ln(t.getFullYear()%1e4,e,4)}function Nge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ln(e/60|0,"0",2)+ln(e%60,"0",2)}function ak(t,e){return ln(t.getUTCDate(),e,2)}function Dge(t,e){return ln(t.getUTCHours(),e,2)}function kge(t,e){return ln(t.getUTCHours()%12||12,e,2)}function Uge(t,e){return ln(1+M1.count(Es(t),t),e,3)}function OH(t,e){return ln(t.getUTCMilliseconds(),e,3)}function Fge(t,e){return OH(t,e)+"000"}function Bge(t,e){return ln(t.getUTCMonth()+1,e,2)}function zge(t,e){return ln(t.getUTCMinutes(),e,2)}function jge(t,e){return ln(t.getUTCSeconds(),e,2)}function Vge(t){var e=t.getUTCDay();return e===0?7:e}function Hge(t,e){return ln(A1.count(Es(t)-1,t),e,2)}function RH(t){var e=t.getUTCDay();return e>=4||e===0?bh(t):bh.ceil(t)}function $ge(t,e){return t=RH(t),ln(bh.count(Es(t),t)+(Es(t).getUTCDay()===4),e,2)}function Wge(t){return t.getUTCDay()}function Gge(t,e){return ln(Xx.count(Es(t)-1,t),e,2)}function Xge(t,e){return ln(t.getUTCFullYear()%100,e,2)}function qge(t,e){return t=RH(t),ln(t.getUTCFullYear()%100,e,2)}function Yge(t,e){return ln(t.getUTCFullYear()%1e4,e,4)}function Kge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?bh(t):bh.ceil(t),ln(t.getUTCFullYear()%1e4,e,4)}function Zge(){return"+0000"}function sk(){return"%"}function lk(t){return+t}function uk(t){return Math.floor(+t/1e3)}var Xc,IH,LH;Jge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jge(t){return Xc=Jme(t),IH=Xc.format,Xc.parse,LH=Xc.utcFormat,Xc.utcParse,Xc}function Qge(t){return new Date(t)}function eve(t){return t instanceof Date?+t:+new Date(+t)}function I2(t,e,n,r,i,o,a,s,l,u){var c=y2(),f=c.invert,d=c.domain,m=u(".%L"),y=u(":%S"),x=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),_=u("%b %d"),S=u("%B"),w=u("%Y");function M(E){return(l(E)<E?m:s(E)<E?y:a(E)<E?x:o(E)<E?v:r(E)<E?i(E)<E?g:_:n(E)<E?S:w)(E)}return c.invert=function(E){return new Date(f(E))},c.domain=function(E){return arguments.length?d(Array.from(E,eve)):d().map(Qge)},c.ticks=function(E){var T=d();return t(T[0],T[T.length-1],E??10)},c.tickFormat=function(E,T){return T==null?M:u(T)},c.nice=function(E){var T=d();return(!E||typeof E.range!="function")&&(E=e(T[0],T[T.length-1],E??10)),E?d(xH(T,E)):c},c.copy=function(){return Ng(c,I2(t,e,n,r,i,o,a,s,l,u))},c}function tve(){return Fo.apply(I2(Kme,Zme,Ms,O2,E1,Dg,P2,A2,Fu,IH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nve(){return Fo.apply(I2(qme,Yme,Es,R2,A1,M1,C2,T2,Fu,LH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function T1(){var t=0,e=1,n,r,i,o,a=gi,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(d){var m,y;return arguments.length?([m,y]=d,a=f(m,y),u):[a(0),a(1)]}}return u.range=c(ad),u.rangeRound=c(v2),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Hl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function NH(){var t=Vl(T1()(gi));return t.copy=function(){return Hl(t,NH())},Ns.apply(t,arguments)}function DH(){var t=S2(T1()).domain([1,10]);return t.copy=function(){return Hl(t,DH()).base(t.base())},Ns.apply(t,arguments)}function kH(){var t=b2(T1());return t.copy=function(){return Hl(t,kH()).constant(t.constant())},Ns.apply(t,arguments)}function L2(){var t=w2(T1());return t.copy=function(){return Hl(t,L2()).exponent(t.exponent())},Ns.apply(t,arguments)}function rve(){return L2.apply(null,arguments).exponent(.5)}function UH(){var t=[],e=gi;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ig(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ml),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Hpe(t,o/r))},n.copy=function(){return UH(e).domain(t)},Ns.apply(n,arguments)}function P1(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=gi,c,f=!1,d;function m(x){return isNaN(x=+x)?d:(x=.5+((x=+c(x))-o)*(r*x<r*o?s:l),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([t,e,n]=x,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function y(x){return function(v){var g,_,S;return arguments.length?([g,_,S]=v,u=mme(x,[g,_,S]),m):[u(0),u(.5),u(1)]}}return m.range=y(ad),m.rangeRound=y(v2),m.unknown=function(x){return arguments.length?(d=x,m):d},function(x){return c=x,i=x(t),o=x(e),a=x(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function FH(){var t=Vl(P1()(gi));return t.copy=function(){return Hl(t,FH())},Ns.apply(t,arguments)}function BH(){var t=S2(P1()).domain([.1,1,10]);return t.copy=function(){return Hl(t,BH()).base(t.base())},Ns.apply(t,arguments)}function zH(){var t=b2(P1());return t.copy=function(){return Hl(t,zH()).constant(t.constant())},Ns.apply(t,arguments)}function N2(){var t=w2(P1());return t.copy=function(){return Hl(t,N2()).exponent(t.exponent())},Ns.apply(t,arguments)}function ive(){return N2.apply(null,arguments).exponent(.5)}const ck=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wm,scaleDiverging:FH,scaleDivergingLog:BH,scaleDivergingPow:N2,scaleDivergingSqrt:ive,scaleDivergingSymlog:zH,scaleIdentity:yH,scaleImplicit:wA,scaleLinear:$x,scaleLog:_H,scaleOrdinal:p2,scalePoint:kp,scalePow:M2,scaleQuantile:wH,scaleQuantize:MH,scaleRadial:bH,scaleSequential:NH,scaleSequentialLog:DH,scaleSequentialPow:L2,scaleSequentialQuantile:UH,scaleSequentialSqrt:rve,scaleSequentialSymlog:kH,scaleSqrt:Fme,scaleSymlog:SH,scaleThreshold:EH,scaleTime:tve,scaleUtc:nve,tickFormat:vH},Symbol.toStringTag,{value:"Module"}));var ove=Yh;function ave(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!ove(a):n(a,s)))var s=a,l=o}return l}var jH=ave;function sve(t,e){return t>e}var lve=sve,uve=jH,cve=lve,fve=rd;function hve(t){return t&&t.length?uve(t,fve,cve):void 0}var dve=hve;const hl=Sn(dve);function pve(t,e){return t<e}var mve=pve,gve=jH,vve=mve,yve=rd;function xve(t){return t&&t.length?gve(t,yve,vve):void 0}var _ve=xve;const C1=Sn(_ve);var Sve=XC,bve=id,wve=YV,Mve=Fi;function Eve(t,e){var n=Mve(t)?Sve:wve;return n(t,bve(e))}var Ave=Eve,Tve=XV,Pve=Ave;function Cve(t,e){return Tve(Pve(t,e),1)}var Ove=Cve;const Rve=Sn(Ove);var Ive=u2;function Lve(t,e){return Ive(t,e)}var Nve=Lve;const Pm=Sn(Nve);var sd=1e9,Dve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},k2,kn=!0,ko="[DecimalError] ",Ju=ko+"Invalid argument: ",D2=ko+"Exponent out of range: ",ld=Math.floor,Eu=Math.pow,kve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yi,Cr=1e7,Cn=7,VH=9007199254740991,qx=ld(VH/Cn),ht={};ht.absoluteValue=ht.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ht.comparedTo=ht.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ht.decimalPlaces=ht.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Cn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ht.dividedBy=ht.div=function(t){return gs(this,new this.constructor(t))};ht.dividedToIntegerBy=ht.idiv=function(t){var e=this,n=e.constructor;return _n(gs(e,new n(t),0,1),n.precision)};ht.equals=ht.eq=function(t){return!this.cmp(t)};ht.exponent=function(){return dr(this)};ht.greaterThan=ht.gt=function(t){return this.cmp(t)>0};ht.greaterThanOrEqualTo=ht.gte=function(t){return this.cmp(t)>=0};ht.isInteger=ht.isint=function(){return this.e>this.d.length-2};ht.isNegative=ht.isneg=function(){return this.s<0};ht.isPositive=ht.ispos=function(){return this.s>0};ht.isZero=function(){return this.s===0};ht.lessThan=ht.lt=function(t){return this.cmp(t)<0};ht.lessThanOrEqualTo=ht.lte=function(t){return this.cmp(t)<1};ht.logarithm=ht.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Yi))throw Error(ko+"NaN");if(n.s<1)throw Error(ko+(n.s?"NaN":"-Infinity"));return n.eq(Yi)?new r(0):(kn=!1,e=gs(Cm(n,o),Cm(t,o),o),kn=!0,_n(e,i))};ht.minus=ht.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?WH(e,t):HH(e,(t.s=-t.s,t))};ht.modulo=ht.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ko+"NaN");return n.s?(kn=!1,e=gs(n,t,0,1).times(t),kn=!0,n.minus(e)):_n(new r(n),i)};ht.naturalExponential=ht.exp=function(){return $H(this)};ht.naturalLogarithm=ht.ln=function(){return Cm(this)};ht.negated=ht.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ht.plus=ht.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HH(e,t):WH(e,(t.s=-t.s,t))};ht.precision=ht.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ju+t);if(e=dr(i)+1,r=i.d.length-1,n=r*Cn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ht.squareRoot=ht.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ko+"NaN")}for(t=dr(s),kn=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Ma(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ld((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(gs(s,o,a+2)).times(.5),Ma(o.d).slice(0,a)===(e=Ma(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(_n(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return kn=!0,_n(r,n)};ht.times=ht.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,d=c.d,m=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=m.length,l<u&&(o=d,d=m,m=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+m[r]*d[i-r-1]+e,o[i--]=s%Cr|0,e=s/Cr|0;o[i]=(o[i]+e)%Cr|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,kn?_n(t,f.precision):t};ht.toDecimalPlaces=ht.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Fa(t,0,sd),e===void 0?e=r.rounding:Fa(e,0,8),_n(n,t+dr(n)+1,e))};ht.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=hc(r,!0):(Fa(t,0,sd),e===void 0?e=i.rounding:Fa(e,0,8),r=_n(new i(r),t+1,e),n=hc(r,!0,t+1)),n};ht.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?hc(i):(Fa(t,0,sd),e===void 0?e=o.rounding:Fa(e,0,8),r=_n(new o(i),t+dr(i)+1,e),n=hc(r.abs(),!1,t+dr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ht.toInteger=ht.toint=function(){var t=this,e=t.constructor;return _n(new e(t),dr(t)+1,e.rounding)};ht.toNumber=function(){return+this};ht.toPower=ht.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Yi);if(s=new l(s),!s.s){if(t.s<1)throw Error(ko+"Infinity");return s}if(s.eq(Yi))return s;if(r=l.precision,t.eq(Yi))return _n(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=VH){for(i=new l(Yi),e=Math.ceil(r/Cn+4),kn=!1;n%2&&(i=i.times(s),hk(i.d,e)),n=ld(n/2),n!==0;)s=s.times(s),hk(s.d,e);return kn=!0,t.s<0?new l(Yi).div(i):_n(i,r)}}else if(o<0)throw Error(ko+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,kn=!1,i=t.times(Cm(s,r+u)),kn=!0,i=$H(i),i.s=o,i};ht.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=dr(i),r=hc(i,n<=o.toExpNeg||n>=o.toExpPos)):(Fa(t,1,sd),e===void 0?e=o.rounding:Fa(e,0,8),i=_n(new o(i),t,e),n=dr(i),r=hc(i,t<=n||n<=o.toExpNeg,t)),r};ht.toSignificantDigits=ht.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Fa(t,1,sd),e===void 0?e=r.rounding:Fa(e,0,8)),_n(new r(n),t,e)};ht.toString=ht.valueOf=ht.val=ht.toJSON=ht[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=dr(t),n=t.constructor;return hc(t,e<=n.toExpNeg||e>=n.toExpPos)};function HH(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),kn?_n(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/Cn),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Cr|0,l[o]%=Cr;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,kn?_n(e,f):e}function Fa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ju+t)}function Ma(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Cn-r.length,n&&(o+=ol(n)),o+=r;a=t[e],r=a+"",n=Cn-r.length,n&&(o+=ol(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var gs=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Cr|0,a=o/Cr|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Cr+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,d,m,y,x,v,g,_,S,w,M,E,T,O,N=r.constructor,P=r.s==i.s?1:-1,R=r.d,j=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(ko+"Division by zero");for(l=r.e-i.e,T=j.length,M=R.length,m=new N(P),y=m.d=[],u=0;j[u]==(R[u]||0);)++u;if(j[u]>(R[u]||0)&&--l,o==null?_=o=N.precision:a?_=o+(dr(r)-dr(i))+1:_=o,_<0)return new N(0);if(_=_/Cn+2|0,u=0,T==1)for(c=0,j=j[0],_++;(u<M||c)&&_--;u++)S=c*Cr+(R[u]||0),y[u]=S/j|0,c=S%j|0;else{for(c=Cr/(j[0]+1)|0,c>1&&(j=t(j,c),R=t(R,c),T=j.length,M=R.length),w=T,x=R.slice(0,T),v=x.length;v<T;)x[v++]=0;O=j.slice(),O.unshift(0),E=j[0],j[1]>=Cr/2&&++E;do c=0,s=e(j,x,T,v),s<0?(g=x[0],T!=v&&(g=g*Cr+(x[1]||0)),c=g/E|0,c>1?(c>=Cr&&(c=Cr-1),f=t(j,c),d=f.length,v=x.length,s=e(f,x,d,v),s==1&&(c--,n(f,T<d?O:j,d))):(c==0&&(s=c=1),f=j.slice()),d=f.length,d<v&&f.unshift(0),n(x,f,v),s==-1&&(v=x.length,s=e(j,x,T,v),s<1&&(c++,n(x,T<v?O:j,v))),v=x.length):s===0&&(c++,x=[0]),y[u++]=c,s&&x[0]?x[v++]=R[w]||0:(x=[R[w]],v=1);while((w++<M||x[0]!==void 0)&&_--)}return y[0]||y.shift(),m.e=l,_n(m,a?o+dr(m)+1:o)}}();function $H(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(dr(t)>16)throw Error(D2+dr(t));if(!t.s)return new c(Yi);for(kn=!1,s=f,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Eu(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Yi),c.precision=s;;){if(i=_n(i.times(t),s),n=n.times(++l),a=o.plus(gs(i,n,s)),Ma(a.d).slice(0,s)===Ma(o.d).slice(0,s)){for(;u--;)o=_n(o.times(o),s);return c.precision=f,e==null?(kn=!0,_n(o,f)):o}o=a}}function dr(t){for(var e=t.e*Cn,n=t.d[0];n>=10;n/=10)e++;return e}function Tw(t,e,n){if(e>t.LN10.sd())throw kn=!0,n&&(t.precision=n),Error(ko+"LN10 precision limit exceeded");return _n(new t(t.LN10),e)}function ol(t){for(var e="";t--;)e+="0";return e}function Cm(t,e){var n,r,i,o,a,s,l,u,c,f=1,d=10,m=t,y=m.d,x=m.constructor,v=x.precision;if(m.s<1)throw Error(ko+(m.s?"NaN":"-Infinity"));if(m.eq(Yi))return new x(0);if(e==null?(kn=!1,u=v):u=e,m.eq(10))return e==null&&(kn=!0),Tw(x,u);if(u+=d,x.precision=u,n=Ma(y),r=n.charAt(0),o=dr(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Ma(m.d),r=n.charAt(0),f++;o=dr(m),r>1?(m=new x("0."+n),o++):m=new x(r+"."+n.slice(1))}else return l=Tw(x,u+2,v).times(o+""),m=Cm(new x(r+"."+n.slice(1)),u-d).plus(l),x.precision=v,e==null?(kn=!0,_n(m,v)):m;for(s=a=m=gs(m.minus(Yi),m.plus(Yi),u),c=_n(m.times(m),u),i=3;;){if(a=_n(a.times(c),u),l=s.plus(gs(a,new x(i),u)),Ma(l.d).slice(0,u)===Ma(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Tw(x,u+2,v).times(o+""))),s=gs(s,new x(f),u),x.precision=v,e==null?(kn=!0,_n(s,v)):s;s=l,i+=2}}function fk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ld(n/Cn),t.d=[],r=(n+1)%Cn,n<0&&(r+=Cn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Cn;r<i;)t.d.push(+e.slice(r,r+=Cn));e=e.slice(r),r=Cn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),kn&&(t.e>qx||t.e<-qx))throw Error(D2+n)}else t.s=0,t.e=0,t.d=[0];return t}function _n(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Cn,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Cn),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=Cn,i=r-Cn+a}if(n!==void 0&&(o=Eu(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Eu(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=dr(t),f.length=1,e=e-o-1,f[0]=Eu(10,(Cn-e%Cn)%Cn),t.e=ld(-e/Cn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Eu(10,Cn-r),f[c]=i>0?(u/Eu(10,a-i)%Eu(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Cr&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Cr)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(kn&&(t.e>qx||t.e<-qx))throw Error(D2+dr(t));return t}function WH(t,e){var n,r,i,o,a,s,l,u,c,f,d=t.constructor,m=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),kn?_n(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(m/Cn),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Cr-1;--l[o],l[i]+=Cr}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,kn?_n(e,m):e):new d(0)}function hc(t,e,n){var r,i=dr(t),o=Ma(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+ol(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ol(-i-1)+o,n&&(r=n-a)>0&&(o+=ol(r))):i>=a?(o+=ol(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+ol(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=ol(r))),t.s<0?"-"+o:o}function hk(t,e){if(t.length>e)return t.length=e,!0}function GH(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ju+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return fk(a,o.toString())}else if(typeof o!="string")throw Error(Ju+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,kve.test(o))fk(a,o);else throw Error(Ju+o)}if(i.prototype=ht,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=GH,i.config=i.set=Uve,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Uve(t){if(!t||typeof t!="object")throw Error(ko+"Object expected");var e,n,r,i=["precision",1,sd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ld(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ju+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ju+n+": "+r);return this}var k2=GH(Dve);Yi=new k2(1);const vn=k2;function Fve(t){return Vve(t)||jve(t)||zve(t)||Bve()}function Bve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zve(t,e){if(t){if(typeof t=="string")return TA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TA(t,e)}}function jve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Vve(t){if(Array.isArray(t))return TA(t)}function TA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hve=function(e){return e},XH={},qH=function(e){return e===XH},dk=function(e){return function n(){return arguments.length===0||arguments.length===1&&qH(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},$ve=function t(e,n){return e===1?n:dk(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==XH}).length;return a>=e?n.apply(void 0,i):t(e-a,dk(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return qH(f)?l.shift():f});return n.apply(void 0,Fve(c).concat(l))}))})},O1=function(e){return $ve(e.length,e)},PA=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Wve=O1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Gve=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Hve;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},CA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},YH=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Xve(t){var e;return t===0?e=1:e=Math.floor(new vn(t).abs().log(10).toNumber())+1,e}function qve(t,e,n){for(var r=new vn(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Yve=O1(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Kve=O1(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Zve=O1(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const R1={rangeStep:qve,getDigitCount:Xve,interpolateNumber:Yve,uninterpolateNumber:Kve,uninterpolateTruncation:Zve};function OA(t){return eye(t)||Qve(t)||KH(t)||Jve()}function Jve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function eye(t){if(Array.isArray(t))return RA(t)}function Om(t,e){return rye(t)||nye(t,e)||KH(t,e)||tye()}function tye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KH(t,e){if(t){if(typeof t=="string")return RA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RA(t,e)}}function RA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function rye(t){if(Array.isArray(t))return t}function ZH(t){var e=Om(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function JH(t,e,n){if(t.lte(0))return new vn(0);var r=R1.getDigitCount(t.toNumber()),i=new vn(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new vn(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new vn(Math.ceil(l))}function iye(t,e,n){var r=1,i=new vn(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new vn(10).pow(R1.getDigitCount(t)-1),i=new vn(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new vn(Math.floor(t)))}else t===0?i=new vn(Math.floor((e-1)/2)):n||(i=new vn(Math.floor(t)));var a=Math.floor((e-1)/2),s=Gve(Wve(function(l){return i.add(new vn(l-a).mul(r)).toNumber()}),PA);return s(0,e)}function QH(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new vn(0),tickMin:new vn(0),tickMax:new vn(0)};var o=JH(new vn(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new vn(0):(a=new vn(t).add(e).div(2),a=a.sub(new vn(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new vn(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?QH(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new vn(s).mul(o)),tickMax:a.add(new vn(l).mul(o))})}function oye(t){var e=Om(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=ZH([n,r]),l=Om(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(OA(PA(0,i-1).map(function(){return 1/0}))):[].concat(OA(PA(0,i-1).map(function(){return-1/0})),[c]);return n>r?CA(f):f}if(u===c)return iye(u,i,o);var d=QH(u,c,a,o),m=d.step,y=d.tickMin,x=d.tickMax,v=R1.rangeStep(y,x.add(new vn(.1).mul(m)),m);return n>r?CA(v):v}function aye(t,e){var n=Om(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=ZH([r,i]),s=Om(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=JH(new vn(u).sub(l).div(c-1),o,0),d=[].concat(OA(R1.rangeStep(new vn(l),new vn(u).sub(new vn(.99).mul(f)),f)),[u]);return r>i?CA(d):d}var sye=YH(oye),lye=YH(aye),uye="Invariant failed";function dc(t,e){throw new Error(uye)}var cye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yx.apply(this,arguments)}function fye(t,e){return mye(t)||pye(t,e)||dye(t,e)||hye()}function hye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dye(t,e){if(t){if(typeof t=="string")return pk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pk(t,e)}}function pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function mye(t){if(Array.isArray(t))return t}function gye(t,e){if(t==null)return{};var n=vye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n$(r.key),r)}}function _ye(t,e,n){return e&&xye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sye(t,e,n){return e=Kx(e),bye(t,e$()?Reflect.construct(e,n||[],Kx(t).constructor):e.apply(t,n))}function bye(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wye(t)}function wye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function Kx(t){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kx(t)}function Mye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IA(t,e)}function IA(t,e){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IA(t,e)}function t$(t,e,n){return e=n$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n$(t){var e=Eye(t,"string");return wh(e)=="symbol"?e:e+""}function Eye(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var I1=function(t){function e(){return yye(this,e),Sye(this,e,arguments)}return Mye(e,t),_ye(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=gye(r,cye),m=Kt(d,!1);this.props.direction==="x"&&c.type!=="number"&&dc();var y=l.map(function(x){var v=u(x,s),g=v.x,_=v.y,S=v.value,w=v.errorVal;if(!w)return null;var M=[],E,T;if(Array.isArray(w)){var O=fye(w,2);E=O[0],T=O[1]}else E=T=w;if(o==="vertical"){var N=c.scale,P=_+i,R=P+a,j=P-a,Y=N(S-E),F=N(S+T);M.push({x1:F,y1:R,x2:F,y2:j}),M.push({x1:Y,y1:P,x2:F,y2:P}),M.push({x1:Y,y1:R,x2:Y,y2:j})}else if(o==="horizontal"){var G=f.scale,$=g+i,te=$-a,B=$+a,q=G(S-E),Z=G(S+T);M.push({x1:te,y1:Z,x2:B,y2:Z}),M.push({x1:$,y1:q,x2:$,y2:Z}),M.push({x1:te,y1:q,x2:B,y2:q})}return fe.createElement(Vn,Yx({className:"recharts-errorBar",key:"bar-".concat(M.map(function(oe){return"".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))},m),M.map(function(oe){return fe.createElement("line",Yx({},oe,{key:"line-".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))}))});return fe.createElement(Vn,{className:"recharts-errorBars"},y)}}])}(fe.Component);t$(I1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});t$(I1,"displayName","ErrorBar");function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){Aye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aye(t,e,n){return e=Tye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tye(t){var e=Pye(t,"string");return Rm(e)=="symbol"?e:e+""}function Pye(t,e){if(Rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=qi(n,eh);if(!a)return null;var s=eh.defaultProps,l=s!==void 0?lu(lu({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,m=f.props,y=m.sectors||m.data||[];return c.concat(y.map(function(x){return{type:a.props.iconType||d.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,m=d!==void 0?lu(lu({},d),f.props):{},y=m.dataKey,x=m.name,v=m.legendType,g=m.hide;return{inactive:g,dataKey:y,type:l.iconType||v||"square",color:U2(f),value:x||y,payload:m}}),lu(lu(lu({},l),eh.getWithHeight(a,i)),{},{payload:u,item:a})};function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function gk(t){return Iye(t)||Rye(t)||Oye(t)||Cye()}function Cye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oye(t,e){if(t){if(typeof t=="string")return LA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LA(t,e)}}function Rye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Iye(t){if(Array.isArray(t))return LA(t)}function LA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){nh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nh(t,e,n){return e=Lye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lye(t){var e=Nye(t,"string");return Im(e)=="symbol"?e:e+""}function Nye(t,e){if(Im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function io(t,e,n){return Zt(t)||Zt(e)?n:Sr(e)?Lo(t,e,n):Gt(e)?e(t):n}function Up(t,e,n,r){var i=Rve(t,function(s){return io(s,e)});if(n==="number"){var o=i.filter(function(s){return Ze(s)||parseFloat(s)});return o.length?[C1(o),hl(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Zt(s)}):i;return a.map(function(s){return Sr(s)||s instanceof Date?s:""})}var Dye=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(na(f-c)!==na(d-f)){var y=[];if(na(d-f)===na(l[1]-l[0])){m=d;var x=f+l[1]-l[0];y[0]=Math.min(x,(x+c)/2),y[1]=Math.max(x,(x+c)/2)}else{m=c;var v=d+l[1]-l[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var g=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>g[0]&&e<=g[1]||e>=y[0]&&e<=y[1]){a=i[u].index;break}}else{var _=Math.min(c,d),S=Math.max(c,d);if(e>(_+f)/2&&e<=(S+f)/2){a=i[u].index;break}}}else for(var w=0;w<s;w++)if(w===0&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w>0&&w<s-1&&e>(r[w].coordinate+r[w-1].coordinate)/2&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w===s-1&&e>(r[w].coordinate+r[w-1].coordinate)/2){a=r[w].index;break}return a},U2=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Qn(Qn({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},kye=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),d=0,m=f.length;d<m;d++){var y=c[f[d]],x=y.items,v=y.cateAxisId,g=x.filter(function(T){return ms(T.type).indexOf("Bar")>=0});if(g&&g.length){var _=g[0].type.defaultProps,S=_!==void 0?Qn(Qn({},_),g[0].props):g[0].props,w=S.barSize,M=S[v];a[M]||(a[M]=[]);var E=Zt(w)?n:w;a[M].push({item:g[0],stackList:g.slice(1),barSize:Zt(E)?void 0:fc(E,r,0)})}}return a},Uye=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=fc(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,m=i/l,y=a.reduce(function(w,M){return w+M.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&m>0&&(d=!0,m*=.9,y=l*m);var x=(i-y)/2>>0,v={offset:x-u,size:0};c=a.reduce(function(w,M){var E={item:M.item,position:{offset:v.offset+v.size+u,size:d?m:M.barSize}},T=[].concat(gk(w),[E]);return v=T[T.length-1].position,M.stackList&&M.stackList.length&&M.stackList.forEach(function(O){T.push({item:O,position:v})}),T},f)}else{var g=fc(r,i,0,!0);i-2*g-(l-1)*u<=0&&(u=0);var _=(i-2*g-(l-1)*u)/l;_>1&&(_>>=0);var S=s===+s?Math.min(_,s):_;c=a.reduce(function(w,M,E){var T=[].concat(gk(w),[{item:M.item,position:{offset:g+(_+u)*E+(_-S)/2,size:S}}]);return M.stackList&&M.stackList.length&&M.stackList.forEach(function(O){T.push({item:O,position:T[T.length-1].position})}),T},f)}return c},Fye=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=r$({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,m=u.align,y=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&y==="middle")&&m!=="center"&&Ze(e[m]))return Qn(Qn({},e),{},nh({},m,e[m]+(f||0)));if((x==="horizontal"||x==="vertical"&&m==="center")&&y!=="middle"&&Ze(e[y]))return Qn(Qn({},e),{},nh({},y,e[y]+(d||0)))}return e},Bye=function(e,n,r){return Zt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},i$=function(e,n,r,i,o){var a=n.props.children,s=oa(a,I1).filter(function(u){return Bye(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=io(c,r);if(Zt(f))return u;var d=Array.isArray(f)?[C1(f),hl(f)]:[f,f],m=l.reduce(function(y,x){var v=io(c,x,0),g=d[0]-Math.abs(Array.isArray(v)?v[0]:v),_=d[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(g,y[0]),Math.max(_,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},zye=function(e,n,r,i,o){var a=n.map(function(s){return i$(e,s,r,o,i)}).filter(function(s){return!Zt(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},o$=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&i$(e,l,u,i)||Up(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},a$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Bu=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?na(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!ed(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},Pw=new WeakMap,yy=function(e,n){if(typeof n!="function")return e;Pw.has(e)||Pw.set(e,new WeakMap);var r=Pw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},jye=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:wm(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:$x(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:kp(),realScaleType:"point"}:o==="category"?{scale:wm(),realScaleType:"band"}:{scale:$x(),realScaleType:"linear"};if(cc(i)){var l="scale".concat(g1(i));return{scale:(ck[l]||kp)(),realScaleType:ck[l]?l:"point"}}return Gt(i)?{scale:i}:{scale:kp(),realScaleType:"point"}},yk=1e-4,Vye=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-yk,a=Math.max(i[0],i[1])+yk,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Hye=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},$ye=function(e,n){if(!n||n.length!==2||!Ze(n[0])||!Ze(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Ze(e[0])||e[0]<r)&&(o[0]=r),(!Ze(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Wye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=ed(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},Gye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=ed(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Xye={sign:Wye,expand:aoe,none:mh,silhouette:soe,wiggle:loe,positive:Gye},qye=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Xye[r],a=ooe().keys(i).value(function(s,l){return+io(s,l,0)}).order(iA).offset(o);return a(e)},Yye=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,d){var m,y=(m=d.type)!==null&&m!==void 0&&m.defaultProps?Qn(Qn({},d.type.defaultProps),d.props):d.props,x=y.stackId,v=y.hide;if(v)return f;var g=y[r],_=f[g]||{hasStack:!1,stackGroups:{}};if(Sr(x)){var S=_.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(d),_.hasStack=!0,_.stackGroups[x]=S}else _.stackGroups[Rg("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return Qn(Qn({},f),{},nh({},g,_))},l),c={};return Object.keys(u).reduce(function(f,d){var m=u[d];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(x,v){var g=m.stackGroups[v];return Qn(Qn({},x),{},nh({},v,{numericAxisId:r,cateAxisId:i,items:g.items,stackedData:qye(e,g.items,o)}))},y)}return Qn(Qn({},f),{},nh({},d,m))},c)},Kye=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=sye(u,o,s);return e.domain([C1(c),hl(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=lye(f,o,s);return{niceTicks:d}}return null};function xk(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Zt(i[e.dataKey])){var s=Sx(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=io(i,Zt(a)?e.dataKey:a);return Zt(l)?null:e.scale(l)}var _k=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=io(a,n.dataKey,n.domain[s]);return Zt(l)?null:n.scale(l)-o/2+i},Zye=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Jye=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Qn(Qn({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Sr(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},Qye=function(e){return e.reduce(function(n,r){return[C1(r.concat([n[0]]).filter(Ze)),hl(r.concat([n[1]]).filter(Ze))]},[1/0,-1/0])},s$=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=Qye(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Sk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NA=function(e,n,r){if(Gt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ze(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Sk.test(e[0])){var o=+Sk.exec(e[0])[1];i[0]=n[0]-o}else Gt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ze(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(bk.test(e[1])){var a=+bk.exec(e[1])[1];i[1]=n[1]+a}else Gt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Zx=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=f2(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},wk=function(e,n,r){return!e||!e.length||Pm(e,Lo(r,"type.defaultProps.domain"))?n:e},l$=function(e,n){var r=e.type.defaultProps?Qn(Qn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Qn(Qn({},Kt(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:U2(e),value:io(n,i),type:l,payload:n,chartType:u,hide:c})};function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){e0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e0e(t,e,n){return e=t0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t0e(t){var e=n0e(t,"string");return Lm(e)=="symbol"?e:e+""}function n0e(t,e){if(Lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jx=Math.PI/180,r0e=function(e){return e*180/Math.PI},Fr=function(e,n,r,i){return{x:e+Math.cos(-Jx*i)*r,y:n+Math.sin(-Jx*i)*r}},i0e=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},o0e=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=i0e({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:r0e(u),angleInRadian:u}},a0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},s0e=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},Ak=function(e,n){var r=e.x,i=e.y,o=o0e({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=a0e(n),f=c.startAngle,d=c.endAngle,m=s,y;if(f<=d){for(;m>d;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=d}else{for(;m>f;)m-=360;for(;m<d;)m+=360;y=m>=d&&m<=f}return y?Ek(Ek({},n),{},{radius:a,angle:s0e(m,n)}):null};function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}var l0e=["offset"];function u0e(t){return d0e(t)||h0e(t)||f0e(t)||c0e()}function c0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f0e(t,e){if(t){if(typeof t=="string")return DA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DA(t,e)}}function h0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function d0e(t){if(Array.isArray(t))return DA(t)}function DA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p0e(t,e){if(t==null)return{};var n=m0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){g0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g0e(t,e,n){return e=v0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v0e(t){var e=y0e(t,"string");return Nm(e)=="symbol"?e:e+""}function y0e(t,e){if(Nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dm.apply(this,arguments)}var x0e=function(e){var n=e.value,r=e.formatter,i=Zt(e.children)?n:e.children;return Gt(r)?r(i):i},_0e=function(e,n){var r=na(n-e),i=Math.min(Math.abs(n-e),360);return r*i},S0e=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,m=l.startAngle,y=l.endAngle,x=l.clockWise,v=(f+d)/2,g=_0e(m,y),_=g>=0?1:-1,S,w;i==="insideStart"?(S=m+_*a,w=x):i==="insideEnd"?(S=y-_*a,w=!x):i==="end"&&(S=y+_*a,w=x),w=g<=0?w:!w;var M=Fr(u,c,v,S),E=Fr(u,c,v,S+(w?1:-1)*359),T="M".concat(M.x,",").concat(M.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(E.x,",").concat(E.y),O=Zt(e.id)?Rg("recharts-radial-line-"):e.id;return fe.createElement("text",Dm({},r,{dominantBaseline:"central",className:en("recharts-radial-bar-label",s)}),fe.createElement("defs",null,fe.createElement("path",{id:O,d:T})),fe.createElement("textPath",{xlinkHref:"#".concat(O)},n))},b0e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var m=Fr(a,s,u+r,d),y=m.x,x=m.y;return{x:y,y:x,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,g=Fr(a,s,v,d),_=g.x,S=g.y;return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},w0e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,d=f*i,m=f>0?"end":"start",y=f>0?"start":"end",x=u>=0?1:-1,v=x*i,g=x>0?"end":"start",_=x>0?"start":"end";if(o==="top"){var S={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return vr(vr({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var w={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:y};return vr(vr({},w),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var M={x:s-v,y:l+c/2,textAnchor:g,verticalAnchor:"middle"};return vr(vr({},M),r?{width:Math.max(M.x-r.x,0),height:c}:{})}if(o==="right"){var E={x:s+u+v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return vr(vr({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var T=r?{width:u,height:c}:{};return o==="insideLeft"?vr({x:s+v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},T):o==="insideRight"?vr({x:s+u-v,y:l+c/2,textAnchor:g,verticalAnchor:"middle"},T):o==="insideTop"?vr({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:y},T):o==="insideBottom"?vr({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:m},T):o==="insideTopLeft"?vr({x:s+v,y:l+d,textAnchor:_,verticalAnchor:y},T):o==="insideTopRight"?vr({x:s+u-v,y:l+d,textAnchor:g,verticalAnchor:y},T):o==="insideBottomLeft"?vr({x:s+v,y:l+c-d,textAnchor:_,verticalAnchor:m},T):o==="insideBottomRight"?vr({x:s+u-v,y:l+c-d,textAnchor:g,verticalAnchor:m},T):Kh(o)&&(Ze(o.x)||ku(o.x))&&(Ze(o.y)||ku(o.y))?vr({x:s+fc(o.x,u),y:l+fc(o.y,c),textAnchor:"end",verticalAnchor:"end"},T):vr({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},T)},M0e=function(e){return"cx"in e&&Ze(e.cx)};function ti(t){var e=t.offset,n=e===void 0?5:e,r=p0e(t,l0e),i=vr({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||Zt(s)&&Zt(l)&&!U.isValidElement(u)&&!Gt(u))return null;if(U.isValidElement(u))return U.cloneElement(u,i);var m;if(Gt(u)){if(m=U.createElement(u,i),U.isValidElement(m))return m}else m=x0e(i);var y=M0e(o),x=Kt(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return S0e(i,m,x);var v=y?b0e(i):w0e(i);return fe.createElement(Ux,Dm({className:en("recharts-label",f)},x,v,{breakAll:d}),m)}ti.displayName="Label";var u$=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,m=e.top,y=e.left,x=e.width,v=e.height,g=e.clockWise,_=e.labelViewBox;if(_)return _;if(Ze(x)&&Ze(v)){if(Ze(f)&&Ze(d))return{x:f,y:d,width:x,height:v};if(Ze(m)&&Ze(y))return{x:m,y,width:x,height:v}}return Ze(f)&&Ze(d)?{x:f,y:d,width:0,height:0}:Ze(n)&&Ze(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:g}:e.viewBox?e.viewBox:{}},E0e=function(e,n){return e?e===!0?fe.createElement(ti,{key:"label-implicit",viewBox:n}):Sr(e)?fe.createElement(ti,{key:"label-implicit",viewBox:n,value:e}):U.isValidElement(e)?e.type===ti?U.cloneElement(e,{key:"label-implicit",viewBox:n}):fe.createElement(ti,{key:"label-implicit",content:e,viewBox:n}):Gt(e)?fe.createElement(ti,{key:"label-implicit",content:e,viewBox:n}):Kh(e)?fe.createElement(ti,Dm({viewBox:n},e,{key:"label-implicit"})):null:null},A0e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=u$(e),a=oa(i,ti).map(function(l,u){return U.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=E0e(e.label,n||o);return[s].concat(u0e(a))};ti.parseViewBox=u$;ti.renderCallByParent=A0e;function T0e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var P0e=T0e;const C0e=Sn(P0e);function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}var O0e=["valueAccessor"],R0e=["data","dataKey","clockWise","id","textBreakAll"];function I0e(t){return k0e(t)||D0e(t)||N0e(t)||L0e()}function L0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N0e(t,e){if(t){if(typeof t=="string")return kA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kA(t,e)}}function D0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k0e(t){if(Array.isArray(t))return kA(t)}function kA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qx(){return Qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qx.apply(this,arguments)}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){U0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U0e(t,e,n){return e=F0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F0e(t){var e=B0e(t,"string");return km(e)=="symbol"?e:e+""}function B0e(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ok(t,e){if(t==null)return{};var n=z0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var j0e=function(e){return Array.isArray(e.value)?C0e(e.value):e.value};function El(t){var e=t.valueAccessor,n=e===void 0?j0e:e,r=Ok(t,O0e),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=Ok(r,R0e);return!i||!i.length?null:fe.createElement(Vn,{className:"recharts-label-list"},i.map(function(c,f){var d=Zt(o)?n(c,f):io(c&&c.payload,o),m=Zt(s)?{}:{id:"".concat(s,"-").concat(f)};return fe.createElement(ti,Qx({},Kt(c,!0),u,m,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:ti.parseViewBox(Zt(a)?c:Ck(Ck({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}El.displayName="LabelList";function V0e(t,e){return t?t===!0?fe.createElement(El,{key:"labelList-implicit",data:e}):fe.isValidElement(t)||Gt(t)?fe.createElement(El,{key:"labelList-implicit",data:e,content:t}):Kh(t)?fe.createElement(El,Qx({data:e},t,{key:"labelList-implicit"})):null:null}function H0e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=oa(r,El).map(function(a,s){return U.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=V0e(t.label,e);return[o].concat(I0e(i))}El.renderCallByParent=H0e;function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UA.apply(this,arguments)}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){$0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $0e(t,e,n){return e=W0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W0e(t){var e=G0e(t,"string");return Um(e)=="symbol"?e:e+""}function G0e(t,e){if(Um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X0e=function(e,n){var r=na(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},xy=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Jx,d=u?o:o+a*f,m=Fr(n,r,c,d),y=Fr(n,r,i,d),x=u?o-a*f:o,v=Fr(n,r,c*Math.cos(f*Jx),x);return{center:m,circleTangency:y,lineTangency:v,theta:f}},c$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=X0e(a,s),u=a+l,c=Fr(n,r,o,a),f=Fr(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Fr(n,r,i,a),y=Fr(n,r,i,u);d+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},q0e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=na(c-u),d=xy({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),m=d.circleTangency,y=d.lineTangency,x=d.theta,v=xy({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),g=v.circleTangency,_=v.lineTangency,S=v.theta,w=l?Math.abs(u-c):Math.abs(u-c)-x-S;if(w<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):c$({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var M="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var E=xy({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),T=E.circleTangency,O=E.lineTangency,N=E.theta,P=xy({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=P.circleTangency,j=P.lineTangency,Y=P.theta,F=l?Math.abs(u-c):Math.abs(u-c)-N-Y;if(F<0&&a===0)return"".concat(M,"L").concat(n,",").concat(r,"Z");M+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else M+="L".concat(n,",").concat(r,"Z");return M},Y0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},f$=function(e){var n=Ik(Ik({},Y0e),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(a<o||c===f)return null;var m=en("recharts-sector",d),y=a-o,x=fc(s,y,0,!0),v;return x>0&&Math.abs(c-f)<360?v=q0e({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(x,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):v=c$({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),fe.createElement("path",UA({},Kt(n,!0),{className:m,d:v,role:"img"}))};function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function FA(){return FA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FA.apply(this,arguments)}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){K0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K0e(t,e,n){return e=Z0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z0e(t){var e=J0e(t,"string");return Fm(e)=="symbol"?e:e+""}function J0e(t,e){if(Fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dk={curveBasisClosed:qie,curveBasisOpen:Yie,curveBasis:Xie,curveBumpX:Lie,curveBumpY:Nie,curveLinearClosed:Kie,curveLinear:y1,curveMonotoneX:Zie,curveMonotoneY:Jie,curveNatural:Qie,curveStep:eoe,curveStepAfter:noe,curveStepBefore:toe},_y=function(e){return e.x===+e.x&&e.y===+e.y},qd=function(e){return e.x},Yd=function(e){return e.y},Q0e=function(e,n){if(Gt(e))return e;var r="curve".concat(g1(e));return(r==="curveMonotone"||r==="curveBump")&&n?Dk["".concat(r).concat(n==="vertical"?"Y":"X")]:Dk[r]||y1},exe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Q0e(r,s),f=u?o.filter(function(x){return _y(x)}):o,d;if(Array.isArray(a)){var m=u?a.filter(function(x){return _y(x)}):a,y=f.map(function(x,v){return Nk(Nk({},x),{},{base:m[v]})});return s==="vertical"?d=cy().y(Yd).x1(qd).x0(function(x){return x.base.x}):d=cy().x(qd).y1(Yd).y0(function(x){return x.base.y}),d.defined(_y).curve(c),d(y)}return s==="vertical"&&Ze(a)?d=cy().y(Yd).x1(qd).x0(a):Ze(a)?d=cy().x(qd).y1(Yd).y0(a):d=dV().x(qd).y(Yd),d.defined(_y).curve(c),d(f)},Fp=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?exe(e):i;return U.createElement("path",FA({},Kt(e,!1),bx(e),{className:en("recharts-curve",n),d:a,ref:o}))},h$={exports:{}},txe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nxe=txe,rxe=nxe;function d$(){}function p$(){}p$.resetWarningCache=d$;var ixe=function(){function t(r,i,o,a,s,l){if(l!==rxe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:p$,resetWarningCache:d$};return n.PropTypes=n,n};h$.exports=ixe();var oxe=h$.exports;const un=Sn(oxe),{getOwnPropertyNames:axe,getOwnPropertySymbols:sxe}=Object,{hasOwnProperty:lxe}=Object.prototype;function Cw(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Sy(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function uxe(t){return t!=null?t[Symbol.toStringTag]:void 0}function kk(t){return axe(t).concat(sxe(t))}const cxe=Object.hasOwn||((t,e)=>lxe.call(t,e));function Ec(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const fxe="__v",hxe="__o",dxe="_owner",{getOwnPropertyDescriptor:Uk,keys:Fk}=Object;function pxe(t,e){return t.byteLength===e.byteLength&&e_(new Uint8Array(t),new Uint8Array(e))}function mxe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function gxe(t,e){return t.byteLength===e.byteLength&&e_(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function vxe(t,e){return Ec(t.getTime(),e.getTime())}function yxe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function xxe(t,e){return t===e}function Bk(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const d=a.value,m=s.value;if(n.equals(d[0],m[0],l,f,t,e,n)&&n.equals(d[1],m[1],d[0],m[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const _xe=Ec;function Sxe(t,e,n){const r=Fk(t);let i=r.length;if(Fk(e).length!==i)return!1;for(;i-- >0;)if(!m$(t,e,n,r[i]))return!1;return!0}function Kd(t,e,n){const r=kk(t);let i=r.length;if(kk(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!m$(t,e,n,o)||(a=Uk(t,o),s=Uk(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function bxe(t,e){return Ec(t.valueOf(),e.valueOf())}function wxe(t,e){return t.source===e.source&&t.flags===e.flags}function zk(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function e_(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Mxe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function m$(t,e,n,r){return(r===dxe||r===hxe||r===fxe)&&(t.$$typeof||e.$$typeof)?!0:cxe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Exe="[object ArrayBuffer]",Axe="[object Arguments]",Txe="[object Boolean]",Pxe="[object DataView]",Cxe="[object Date]",Oxe="[object Error]",Rxe="[object Map]",Ixe="[object Number]",Lxe="[object Object]",Nxe="[object RegExp]",Dxe="[object Set]",kxe="[object String]",Uxe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Fxe="[object URL]",Bxe=Object.prototype.toString;function zxe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:d,areUrlsEqual:m,unknownTagComparators:y}){return function(v,g,_){if(v===g)return!0;if(v==null||g==null)return!1;const S=typeof v;if(S!==typeof g)return!1;if(S!=="object")return S==="number"?s(v,g,_):S==="function"?o(v,g,_):!1;const w=v.constructor;if(w!==g.constructor)return!1;if(w===Object)return l(v,g,_);if(Array.isArray(v))return e(v,g,_);if(w===Date)return r(v,g,_);if(w===RegExp)return c(v,g,_);if(w===Map)return a(v,g,_);if(w===Set)return f(v,g,_);const M=Bxe.call(v);if(M===Cxe)return r(v,g,_);if(M===Nxe)return c(v,g,_);if(M===Rxe)return a(v,g,_);if(M===Dxe)return f(v,g,_);if(M===Lxe)return typeof v.then!="function"&&typeof g.then!="function"&&l(v,g,_);if(M===Fxe)return m(v,g,_);if(M===Oxe)return i(v,g,_);if(M===Axe)return l(v,g,_);if(Uxe[M])return d(v,g,_);if(M===Exe)return t(v,g,_);if(M===Pxe)return n(v,g,_);if(M===Txe||M===Ixe||M===kxe)return u(v,g,_);if(y){let E=y[M];if(!E){const T=uxe(v);T&&(E=y[T])}if(E)return E(v,g,_)}return!1}}function jxe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:pxe,areArraysEqual:n?Kd:mxe,areDataViewsEqual:gxe,areDatesEqual:vxe,areErrorsEqual:yxe,areFunctionsEqual:xxe,areMapsEqual:n?Cw(Bk,Kd):Bk,areNumbersEqual:_xe,areObjectsEqual:n?Kd:Sxe,arePrimitiveWrappersEqual:bxe,areRegExpsEqual:wxe,areSetsEqual:n?Cw(zk,Kd):zk,areTypedArraysEqual:n?Cw(e_,Kd):e_,areUrlsEqual:Mxe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Sy(r.areArraysEqual),o=Sy(r.areMapsEqual),a=Sy(r.areObjectsEqual),s=Sy(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function Vxe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Hxe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const $xe=$l();$l({strict:!0});$l({circular:!0});$l({circular:!0,strict:!0});$l({createInternalComparator:()=>Ec});$l({strict:!0,createInternalComparator:()=>Ec});$l({circular:!0,createInternalComparator:()=>Ec});$l({circular:!0,createInternalComparator:()=>Ec,strict:!0});function $l(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=jxe(t),a=zxe(o),s=n?n(a):Vxe(a);return Hxe({circular:e,comparator:a,createState:r,equals:s,strict:i})}function Wxe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function jk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Wxe(i)};requestAnimationFrame(r)}function BA(t){"@babel/helpers - typeof";return BA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BA(t)}function Gxe(t){return Kxe(t)||Yxe(t)||qxe(t)||Xxe()}function Xxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qxe(t,e){if(t){if(typeof t=="string")return Vk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vk(t,e)}}function Vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kxe(t){if(Array.isArray(t))return t}function Zxe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Gxe(a),l=s[0],u=s.slice(1);if(typeof l=="number"){jk(i.bind(null,u),l);return}i(l),jk(i.bind(null,u));return}BA(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){g$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g$(t,e,n){return e=Jxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jxe(t){var e=Qxe(t,"string");return Bm(e)==="symbol"?e:String(e)}function Qxe(t,e){if(Bm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e_e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},t_e=function(e){return e},n_e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Bp=function(e,n){return Object.keys(n).reduce(function(r,i){return $k($k({},r),{},g$({},i,e(i,n[i])))},{})},Wk=function(e,n,r){return e.map(function(i){return"".concat(n_e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function r_e(t,e){return a_e(t)||o_e(t,e)||v$(t,e)||i_e()}function i_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function a_e(t){if(Array.isArray(t))return t}function s_e(t){return c_e(t)||u_e(t)||v$(t)||l_e()}function l_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v$(t,e){if(t){if(typeof t=="string")return zA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zA(t,e)}}function u_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c_e(t){if(Array.isArray(t))return zA(t)}function zA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var t_=1e-4,y$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},x$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Gk=function(e,n){return function(r){var i=y$(e,n);return x$(i,r)}},f_e=function(e,n){return function(r){var i=y$(e,n),o=[].concat(s_e(i.map(function(a,s){return a*s}).slice(1)),[0]);return x$(o,r)}},Xk=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=r_e(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=Gk(i,a),d=Gk(o,s),m=f_e(i,a),y=function(g){return g>1?1:g<0?0:g},x=function(g){for(var _=g>1?1:g,S=_,w=0;w<8;++w){var M=f(S)-_,E=m(S);if(Math.abs(M-_)<t_||E<t_)return d(S);S=y(S-M/E)}return d(S)};return x.isStepper=!1,x},h_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,d){var m=-(c-f)*r,y=d*o,x=d+(m-y)*s/1e3,v=d*s/1e3+c;return Math.abs(v-f)<t_&&Math.abs(x)<t_?[f,0]:[v,x]};return l.isStepper=!0,l.dt=s,l},d_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Xk(i);case"spring":return h_e();default:if(i.split("(")[0]==="cubic-bezier")return Xk(i)}return typeof i=="function"?i:null};function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function qk(t){return g_e(t)||m_e(t)||_$(t)||p_e()}function p_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g_e(t){if(Array.isArray(t))return VA(t)}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){jA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jA(t,e,n){return e=v_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v_e(t){var e=y_e(t,"string");return zm(e)==="symbol"?e:String(e)}function y_e(t,e){if(zm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x_e(t,e){return b_e(t)||S_e(t,e)||_$(t,e)||__e()}function __e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _$(t,e){if(t){if(typeof t=="string")return VA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VA(t,e)}}function VA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function b_e(t){if(Array.isArray(t))return t}var n_=function(e,n,r){return e+(n-e)*r},HA=function(e){var n=e.from,r=e.to;return n!==r},w_e=function t(e,n,r){var i=Bp(function(o,a){if(HA(a)){var s=e(a.from,a.to,a.velocity),l=x_e(s,2),u=l[0],c=l[1];return Dr(Dr({},a),{},{from:u,velocity:c})}return a},n);return r<1?Bp(function(o,a){return HA(a)?Dr(Dr({},a),{},{velocity:n_(a.velocity,i[o].velocity,r),from:n_(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const M_e=function(t,e,n,r,i){var o=e_e(t,e),a=o.reduce(function(v,g){return Dr(Dr({},v),{},jA({},g,[t[g],e[g]]))},{}),s=o.reduce(function(v,g){return Dr(Dr({},v),{},jA({},g,{from:t[g],velocity:0,to:e[g]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return Bp(function(g,_){return _.from},s)},m=function(){return!Object.values(s).filter(HA).length},y=function(g){u||(u=g);var _=g-u,S=_/n.dt;s=w_e(n,s,S),i(Dr(Dr(Dr({},t),e),d())),u=g,m()||(l=requestAnimationFrame(f))},x=function(g){c||(c=g);var _=(g-c)/r,S=Bp(function(M,E){return n_.apply(void 0,qk(E).concat([n(_)]))},a);if(i(Dr(Dr(Dr({},t),e),S)),_<1)l=requestAnimationFrame(f);else{var w=Bp(function(M,E){return n_.apply(void 0,qk(E).concat([n(1)]))},a);i(Dr(Dr(Dr({},t),e),w))}};return f=n.isStepper?y:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}var E_e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function A_e(t,e){if(t==null)return{};var n=T_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ow(t){return R_e(t)||O_e(t)||C_e(t)||P_e()}function P_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C_e(t,e){if(t){if(typeof t=="string")return $A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $A(t,e)}}function O_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R_e(t){if(Array.isArray(t))return $A(t)}function $A(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){_p(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _p(t,e,n){return e=S$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S$(r.key),r)}}function N_e(t,e,n){return e&&L_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S$(t){var e=D_e(t,"string");return Mh(e)==="symbol"?e:String(e)}function D_e(t,e){if(Mh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WA(t,e)}function WA(t,e){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WA(t,e)}function U_e(t){var e=F_e();return function(){var r=r_(t),i;if(e){var o=r_(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return GA(this,i)}}function GA(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XA(t)}function XA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r_(t){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r_(t)}var As=function(t){k_e(n,t);var e=U_e(n);function n(r,i){var o;I_e(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,d=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(XA(o)),o.changeStyle=o.changeStyle.bind(XA(o)),!s||m<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),GA(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},GA(o);o.state={style:l?_p({},l,u):u}}else o.state={style:{}};return o}return N_e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(s){if(!a){var m={style:l?_p({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(m);return}if(!($xe(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=y||u?f:i.to;if(this.state&&d){var v={style:l?_p({},l,x):x};(l&&d[l]!==x||!l&&d!==x)&&this.setState(v)}this.runAnimation(Vo(Vo({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,m=M_e(a,s,d_e(u),l,this.changeStyle),y=function(){o.stopJSAnimation=m()};this.manager.start([d,c,y,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,d=f===void 0?0:f,m=function(x,v,g){if(g===0)return x;var _=v.duration,S=v.easing,w=S===void 0?"ease":S,M=v.style,E=v.properties,T=v.onAnimationEnd,O=g>0?a[g-1]:v,N=E||Object.keys(M);if(typeof w=="function"||w==="spring")return[].concat(Ow(x),[o.runJSAnimation.bind(o,{from:O.style,to:M,duration:_,easing:w}),_]);var P=Wk(N,_,w),R=Vo(Vo(Vo({},O.style),M),{},{transition:P});return[].concat(Ow(x),[R,_,T]).filter(t_e)};return this.manager.start([l].concat(Ow(a.reduce(m,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Zxe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var x=s?_p({},s,l):l,v=Wk(Object.keys(x),a,u);y.start([c,o,Vo(Vo({},x),{},{transition:v}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=A_e(i,E_e),u=U.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(m){var y=m.props,x=y.style,v=x===void 0?{}:x,g=y.className,_=U.cloneElement(m,Vo(Vo({},l),{},{style:Vo(Vo({},v),c),className:g}));return _};return u===1?f(U.Children.only(o)):fe.createElement("div",null,U.Children.map(o,function(d){return f(d)}))}}]),n}(U.PureComponent);As.displayName="Animate";As.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};As.propTypes={from:un.oneOfType([un.object,un.string]),to:un.oneOfType([un.object,un.string]),attributeName:un.string,duration:un.number,begin:un.number,easing:un.oneOfType([un.string,un.func]),steps:un.arrayOf(un.shape({duration:un.number.isRequired,style:un.object.isRequired,easing:un.oneOfType([un.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),un.func]),properties:un.arrayOf("string"),onAnimationEnd:un.func})),children:un.oneOfType([un.node,un.func]),isActive:un.bool,canBegin:un.bool,onAnimationEnd:un.func,shouldReAnimate:un.bool,onAnimationStart:un.func,onAnimationReStart:un.func};function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(null,arguments)}function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(this,arguments)}function B_e(t,e){return H_e(t)||V_e(t,e)||j_e(t,e)||z_e()}function z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j_e(t,e){if(t){if(typeof t=="string")return Zk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zk(t,e)}}function Zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function H_e(t){if(Array.isArray(t))return t}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){$_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $_e(t,e,n){return e=W_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W_e(t){var e=G_e(t,"string");return jm(e)=="symbol"?e:e+""}function G_e(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eU=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,m=4;d<m;d++)f[d]=o[d]>a?a:o[d];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var y=Math.min(a,o);c="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*y," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},X_e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),d=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},q_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},F2=function(e){var n=Qk(Qk({},q_e),e),r=U.useRef(),i=U.useState(-1),o=B_e(i,2),a=o[0],s=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,m=n.className,y=n.animationEasing,x=n.animationDuration,v=n.animationBegin,g=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var S=en("recharts-rectangle",m);return _?fe.createElement(As,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:x,animationEasing:y,isActive:_},function(w){var M=w.width,E=w.height,T=w.x,O=w.y;return fe.createElement(As,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,isActive:g,easing:y},fe.createElement("path",i_({},Kt(n,!0),{className:S,d:eU(T,O,M,E,d),ref:r})))}):fe.createElement("path",i_({},Kt(n,!0),{className:S,d:eU(l,u,c,f,d)}))};function qA(){return qA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qA.apply(this,arguments)}var B2=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=en("recharts-dot",o);return n===+n&&r===+r&&i===+i?U.createElement("circle",qA({},Kt(e,!1),bx(e),{className:a,cx:n,cy:r,r:i})):null};function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}var Y_e=["x","y","top","left","width","height","className"];function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YA.apply(this,arguments)}function tU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tU(Object(n),!0).forEach(function(r){Z_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z_e(t,e,n){return e=J_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J_e(t){var e=Q_e(t,"string");return Vm(e)=="symbol"?e:e+""}function Q_e(t,e){if(Vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e1e(t,e){if(t==null)return{};var n=t1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var n1e=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},r1e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,m=d===void 0?0:d,y=e.className,x=e1e(e,Y_e),v=K_e({x:r,y:o,top:s,left:u,width:f,height:m},x);return!Ze(r)||!Ze(o)||!Ze(f)||!Ze(m)||!Ze(s)||!Ze(u)?null:fe.createElement("path",YA({},Kt(v,!0),{className:en("recharts-cross",y),d:n1e(r,o,f,m,s,u)}))},i1e=UV,o1e=i1e(Object.getPrototypeOf,Object),a1e=o1e,s1e=Is,l1e=a1e,u1e=Ls,c1e="[object Object]",f1e=Function.prototype,h1e=Object.prototype,b$=f1e.toString,d1e=h1e.hasOwnProperty,p1e=b$.call(Object);function m1e(t){if(!u1e(t)||s1e(t)!=c1e)return!1;var e=l1e(t);if(e===null)return!0;var n=d1e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&b$.call(n)==p1e}var g1e=m1e;const v1e=Sn(g1e);var y1e=Is,x1e=Ls,_1e="[object Boolean]";function S1e(t){return t===!0||t===!1||x1e(t)&&y1e(t)==_1e}var b1e=S1e;const w1e=Sn(b1e);function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function o_(){return o_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o_.apply(this,arguments)}function M1e(t,e){return P1e(t)||T1e(t,e)||A1e(t,e)||E1e()}function E1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A1e(t,e){if(t){if(typeof t=="string")return nU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nU(t,e)}}function nU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function P1e(t){if(Array.isArray(t))return t}function rU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rU(Object(n),!0).forEach(function(r){C1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C1e(t,e,n){return e=O1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O1e(t){var e=R1e(t,"string");return Hm(e)=="symbol"?e:e+""}function R1e(t,e){if(Hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oU=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},I1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},L1e=function(e){var n=iU(iU({},I1e),e),r=U.useRef(),i=U.useState(-1),o=M1e(i,2),a=o[0],s=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,m=n.className,y=n.animationEasing,x=n.animationDuration,v=n.animationBegin,g=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var _=en("recharts-trapezoid",m);return g?fe.createElement(As,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:x,animationEasing:y,isActive:g},function(S){var w=S.upperWidth,M=S.lowerWidth,E=S.height,T=S.x,O=S.y;return fe.createElement(As,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,easing:y},fe.createElement("path",o_({},Kt(n,!0),{className:_,d:oU(T,O,w,M,E),ref:r})))}):fe.createElement("g",null,fe.createElement("path",o_({},Kt(n,!0),{className:_,d:oU(l,u,c,f,d)})))},N1e=["option","shapeType","propTransformer","activeClassName","isActive"];function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function D1e(t,e){if(t==null)return{};var n=k1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aU(Object(n),!0).forEach(function(r){U1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U1e(t,e,n){return e=F1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F1e(t){var e=B1e(t,"string");return $m(e)=="symbol"?e:e+""}function B1e(t,e){if($m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z1e(t,e){return a_(a_({},e),t)}function j1e(t,e){return t==="symbols"}function sU(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return fe.createElement(F2,n);case"trapezoid":return fe.createElement(L1e,n);case"sector":return fe.createElement(f$,n);case"symbols":if(j1e(e))return fe.createElement(n2,n);break;default:return null}}function V1e(t){return U.isValidElement(t)?t.props:t}function H1e(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?z1e:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=D1e(t,N1e),u;if(U.isValidElement(e))u=U.cloneElement(e,a_(a_({},l),V1e(e)));else if(Gt(e))u=e(l);else if(v1e(e)&&!w1e(e)){var c=i(e,l);u=fe.createElement(sU,{shapeType:n,elementProps:c})}else{var f=l;u=fe.createElement(sU,{shapeType:n,elementProps:f})}return s?fe.createElement(Vn,{className:a},u):u}function L1(t,e){return e!=null&&"trapezoids"in t.props}function N1(t,e){return e!=null&&"sectors"in t.props}function Wm(t,e){return e!=null&&"points"in t.props}function $1e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function W1e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function G1e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function X1e(t,e){var n;return L1(t,e)?n=$1e:N1(t,e)?n=W1e:Wm(t,e)&&(n=G1e),n}function q1e(t,e){var n;return L1(t,e)?n="trapezoids":N1(t,e)?n="sectors":Wm(t,e)&&(n="points"),n}function Y1e(t,e){if(L1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(N1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Wm(t,e)?e.payload:{}}function K1e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=q1e(n,e),o=Y1e(n,e),a=r.filter(function(l,u){var c=Pm(o,l),f=n.props[i].filter(function(y){var x=X1e(n,e);return x(y,e)}),d=n.props[i].indexOf(f[f.length-1]),m=u===d;return c&&m}),s=r.indexOf(a[a.length-1]);return s}var Z1e=Math.ceil,J1e=Math.max;function Q1e(t,e,n,r){for(var i=-1,o=J1e(Z1e((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var eSe=Q1e,tSe=tH,lU=1/0,nSe=17976931348623157e292;function rSe(t){if(!t)return t===0?t:0;if(t=tSe(t),t===lU||t===-lU){var e=t<0?-1:1;return e*nSe}return t===t?t:0}var iSe=rSe,oSe=eSe,aSe=b1,Rw=iSe;function sSe(t){return function(e,n,r){return r&&typeof r!="number"&&aSe(e,n,r)&&(n=r=void 0),e=Rw(e),n===void 0?(n=e,e=0):n=Rw(n),r=r===void 0?e<n?1:-1:Rw(r),oSe(e,n,r,t)}}var lSe=sSe,uSe=lSe,cSe=uSe(),fSe=cSe;const s_=Sn(fSe);function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}function uU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uU(Object(n),!0).forEach(function(r){w$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w$(t,e,n){return e=hSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hSe(t){var e=dSe(t,"string");return Gm(e)=="symbol"?e:e+""}function dSe(t,e){if(Gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pSe=["Webkit","Moz","O","ms"],mSe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=pSe.reduce(function(o,a){return cU(cU({},o),{},w$({},a+r,n))},{});return i[e]=n,i};function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l_.apply(this,arguments)}function fU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fU(Object(n),!0).forEach(function(r){Gi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E$(r.key),r)}}function vSe(t,e,n){return e&&hU(t.prototype,e),n&&hU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ySe(t,e,n){return e=u_(e),xSe(t,M$()?Reflect.construct(e,n||[],u_(t).constructor):e.apply(t,n))}function xSe(t,e){if(e&&(Eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Se(t)}function _Se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M$=function(){return!!t})()}function u_(t){return u_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u_(t)}function SSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KA(t,e)}function KA(t,e){return KA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KA(t,e)}function Gi(t,e,n){return e=E$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E$(t){var e=bSe(t,"string");return Eh(e)=="symbol"?e:e+""}function bSe(t,e){if(Eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wSe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=kp().domain(s_(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},dU=function(e){return e.changedTouches&&!!e.changedTouches.length},Ah=function(t){function e(n){var r;return gSe(this,e),r=ySe(this,e,[n]),Gi(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Gi(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Gi(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Gi(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Gi(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Gi(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Gi(r,"handleSlideDragStart",function(i){var o=dU(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return SSe(e,t),vSe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),d=Math.max(i,o),m=e.getIndexInRange(a,f),y=e.getIndexInRange(a,d);return{startIndex:m-m%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=io(o[r],s,r);return Gt(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,m=l.endIndex,y=l.onChange,x=r.pageX-o;x>0?x=Math.min(x,u+c-f-s,u+c-f-a):x<0&&(x=Math.max(x,u-a,u-s));var v=this.getIndex({startX:a+x,endX:s+x});(v.startIndex!==d||v.endIndex!==m)&&y&&y(v),this.setState({startX:a+x,endX:s+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=dU(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,d=c.width,m=c.travellerWidth,y=c.onChange,x=c.gap,v=c.data,g={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+d-m-u):_<0&&(_=Math.max(_,f-u)),g[a]=u+_;var S=this.getIndex(g),w=S.startIndex,M=S.endIndex,E=function(){var O=v.length-1;return a==="startX"&&(s>l?w%x===0:M%x===0)||s<l&&M===O||a==="endX"&&(s>l?M%x===0:w%x===0)||s>l&&M===O};this.setState(Gi(Gi({},a,u+_),"brushMoveStartX",r.pageX),function(){y&&E()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var m=s[d];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Gi({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return fe.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=U.Children.only(u);return f?fe.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,m=l.ariaLabel,y=l.data,x=l.startIndex,v=l.endIndex,g=Math.max(r,this.props.x),_=Iw(Iw({},Kt(this.props,!1)),{},{x:g,y:u,width:c,height:f}),S=m||"Min value: ".concat((o=y[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=y[v])===null||a===void 0?void 0:a.name);return fe.createElement(Vn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(M){["ArrowLeft","ArrowRight"].includes(M.key)&&(M.preventDefault(),M.stopPropagation(),s.handleTravellerMoveKeyboard(M.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return fe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,m=5,y={pointerEvents:"none",fill:u};return fe.createElement(Vn,{className:"recharts-brush-texts"},fe.createElement(Ux,l_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-m,y:a+s/2},y),this.getTextOfTick(i)),fe.createElement(Ux,l_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+m,y:a+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,m=d.startX,y=d.endX,x=d.isTextActive,v=d.isSlideMoving,g=d.isTravellerMoving,_=d.isTravellerFocused;if(!i||!i.length||!Ze(s)||!Ze(l)||!Ze(u)||!Ze(c)||u<=0||c<=0)return null;var S=en("recharts-brush",o),w=fe.Children.count(a)===1,M=mSe("userSelect","none");return fe.createElement(Vn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:M},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(x||v||g||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return fe.createElement(fe.Fragment,null,fe.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),fe.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),fe.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return fe.isValidElement(r)?o=fe.cloneElement(r,i):Gt(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Iw({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?wSe({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(U.PureComponent);Gi(Ah,"displayName","Brush");Gi(Ah,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var MSe=c2;function ESe(t,e){var n;return MSe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var ASe=ESe,TSe=CV,PSe=id,CSe=ASe,OSe=Fi,RSe=b1;function ISe(t,e,n){var r=OSe(t)?TSe:CSe;return n&&RSe(t,e,n)&&(e=void 0),r(t,PSe(e))}var LSe=ISe;const NSe=Sn(LSe);var La=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},pU=KV;function DSe(t,e,n){e=="__proto__"&&pU?pU(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var kSe=DSe,USe=kSe,FSe=qV,BSe=id;function zSe(t,e){var n={};return e=BSe(e),FSe(t,function(r,i,o){USe(n,i,e(r,i,o))}),n}var jSe=zSe;const VSe=Sn(jSe);function HSe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var $Se=HSe,WSe=c2;function GSe(t,e){var n=!0;return WSe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var XSe=GSe,qSe=$Se,YSe=XSe,KSe=id,ZSe=Fi,JSe=b1;function QSe(t,e,n){var r=ZSe(t)?qSe:YSe;return n&&JSe(t,e,n)&&(e=void 0),r(t,KSe(e))}var ebe=QSe;const tbe=Sn(ebe);var nbe=["x","y"];function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function ZA(){return ZA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZA.apply(this,arguments)}function mU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mU(Object(n),!0).forEach(function(r){rbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rbe(t,e,n){return e=ibe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ibe(t){var e=obe(t,"string");return Xm(e)=="symbol"?e:e+""}function obe(t,e){if(Xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function abe(t,e){if(t==null)return{};var n=sbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lbe(t,e){var n=t.x,r=t.y,i=abe(t,nbe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return Zd(Zd(Zd(Zd(Zd({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function gU(t){return fe.createElement(H1e,ZA({shapeType:"rectangle",propTransformer:lbe,activeClassName:"recharts-active-bar"},t))}var ube=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Ze(r)||yre(r);return o?e(r,i):(o||dc(),n)}},cbe=["value","background"],A$;function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function fbe(t,e){if(t==null)return{};var n=hbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function vU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vU(Object(n),!0).forEach(function(r){dl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P$(r.key),r)}}function pbe(t,e,n){return e&&yU(t.prototype,e),n&&yU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mbe(t,e,n){return e=f_(e),gbe(t,T$()?Reflect.construct(e,n||[],f_(t).constructor):e.apply(t,n))}function gbe(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vbe(t)}function vbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T$=function(){return!!t})()}function f_(t){return f_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f_(t)}function ybe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JA(t,e)}function JA(t,e){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JA(t,e)}function dl(t,e,n){return e=P$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P$(t){var e=xbe(t,"string");return Th(e)=="symbol"?e:e+""}function xbe(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kg=function(t){function e(){var n;dbe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=mbe(this,e,[].concat(i)),dl(n,"state",{isAnimationFinished:!1}),dl(n,"id",Rg("recharts-bar-")),dl(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),dl(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return ybe(e,t),pbe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Kt(this.props,!1);return r&&r.map(function(f,d){var m=d===l,y=m?u:a,x=fr(fr(fr({},c),f),{},{isActive:m,option:y,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return fe.createElement(Vn,c_({className:"recharts-bar-rectangle"},wx(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),fe.createElement(gU,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return fe.createElement(As,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,x=o.map(function(v,g){var _=d&&d[g];if(_){var S=Po(_.x,v.x),w=Po(_.y,v.y),M=Po(_.width,v.width),E=Po(_.height,v.height);return fr(fr({},v),{},{x:S(y),y:w(y),width:M(y),height:E(y)})}if(a==="horizontal"){var T=Po(0,v.height),O=T(y);return fr(fr({},v),{},{y:v.y+v.height-O,height:O})}var N=Po(0,v.width),P=N(y);return fr(fr({},v),{},{width:P})});return fe.createElement(Vn,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Pm(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Kt(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,d=fbe(u,cbe);if(!f)return null;var m=fr(fr(fr(fr(fr({},d),{},{fill:"#eee"},f),l),wx(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return fe.createElement(gU,c_({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=oa(c,I1);if(!f)return null;var d=u==="vertical"?a[0].height/2:a[0].width/2,m=function(v,g){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:io(v,g)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return fe.createElement(Vn,y,f.map(function(x){return fe.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,m=r.isAnimationActive,y=r.background,x=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,g=en("recharts-bar",a),_=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,w=_||S,M=Zt(x)?this.id:x;return fe.createElement(Vn,{className:g},_||S?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(M)},fe.createElement("rect",{x:_?u:u-f/2,y:S?c:c-d/2,width:_?f:f*2,height:S?d:d*2}))):null,fe.createElement(Vn,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(M,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,M),(!m||v)&&El.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(U.PureComponent);A$=kg;dl(kg,"displayName","Bar");dl(kg,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!od.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});dl(kg,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,m=Hye(r,n);if(!m)return null;var y=e.layout,x=n.type.defaultProps,v=x!==void 0?fr(fr({},x),n.props):n.props,g=v.dataKey,_=v.children,S=v.minPointSize,w=y==="horizontal"?a:o,M=u?w.scale.domain():null,E=Zye({numericAxis:w}),T=oa(_,rH),O=f.map(function(N,P){var R,j,Y,F,G,$;u?R=$ye(u[c+P],M):(R=io(N,g),Array.isArray(R)||(R=[E,R]));var te=ube(S,A$.defaultProps.minPointSize)(R[1],P);if(y==="horizontal"){var B,q=[a.scale(R[0]),a.scale(R[1])],Z=q[0],oe=q[1];j=_k({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:N,index:P}),Y=(B=oe??Z)!==null&&B!==void 0?B:void 0,F=m.size;var re=Z-oe;if(G=Number.isNaN(re)?0:re,$={x:j,y:a.y,width:F,height:a.height},Math.abs(te)>0&&Math.abs(G)<Math.abs(te)){var me=na(G||te)*(Math.abs(te)-Math.abs(G));Y-=me,G+=me}}else{var le=[o.scale(R[0]),o.scale(R[1])],pe=le[0],we=le[1];if(j=pe,Y=_k({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:N,index:P}),F=we-pe,G=m.size,$={x:o.x,y:Y,width:o.width,height:G},Math.abs(te)>0&&Math.abs(F)<Math.abs(te)){var ze=na(F||te)*(Math.abs(te)-Math.abs(F));F+=ze}}return fr(fr(fr({},N),{},{x:j,y:Y,width:F,height:G,value:u?R:R[1],payload:N,background:$},T&&T[P]&&T[P].props),{},{tooltipPayload:[l$(n,N)],tooltipPosition:{x:j+F/2,y:Y+G/2}})});return fr({data:O,layout:y},d)});function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function _be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C$(r.key),r)}}function Sbe(t,e,n){return e&&xU(t.prototype,e),n&&xU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_U(Object(n),!0).forEach(function(r){D1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_U(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D1(t,e,n){return e=C$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C$(t){var e=bbe(t,"string");return qm(e)=="symbol"?e:e+""}function bbe(t,e){if(qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wbe=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!qi(u,kg);return c.reduce(function(m,y){var x=n[y],v=x.orientation,g=x.domain,_=x.padding,S=_===void 0?{}:_,w=x.mirror,M=x.reversed,E="".concat(v).concat(w?"Mirror":""),T,O,N,P,R;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var j=g[1]-g[0],Y=1/0,F=x.categoricalDomain.sort(Sre);if(F.forEach(function(le,pe){pe>0&&(Y=Math.min((le||0)-(F[pe-1]||0),Y))}),Number.isFinite(Y)){var G=Y/j,$=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(T=G*$/2),x.padding==="no-gap"){var te=fc(e.barCategoryGap,G*$),B=G*$/2;T=B-te-(B-te)/$*te}}}i==="xAxis"?O=[r.left+(S.left||0)+(T||0),r.left+r.width-(S.right||0)-(T||0)]:i==="yAxis"?O=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(T||0),r.top+r.height-(S.bottom||0)-(T||0)]:O=x.range,M&&(O=[O[1],O[0]]);var q=jye(x,o,d),Z=q.scale,oe=q.realScaleType;Z.domain(g).range(O),Vye(Z);var re=Kye(Z,Zo(Zo({},x),{},{realScaleType:oe}));i==="xAxis"?(R=v==="top"&&!w||v==="bottom"&&w,N=r.left,P=f[E]-R*x.height):i==="yAxis"&&(R=v==="left"&&!w||v==="right"&&w,N=f[E]-R*x.width,P=r.top);var me=Zo(Zo(Zo({},x),re),{},{realScaleType:oe,x:N,y:P,scale:Z,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return me.bandSize=Zx(me,re),!x.hide&&i==="xAxis"?f[E]+=(R?-1:1)*me.height:x.hide||(f[E]+=(R?-1:1)*me.width),Zo(Zo({},m),{},D1({},y,me))},{})},O$=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Mbe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return O$({x:n,y:r},{x:i,y:o})},R$=function(){function t(e){_be(this,t),this.scale=e}return Sbe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();D1(R$,"EPS",1e-4);var z2=function(e){var n=Object.keys(e).reduce(function(r,i){return Zo(Zo({},r),{},D1({},i,R$.create(e[i])))},{});return Zo(Zo({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return VSe(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return tbe(i,function(o,a){return n[a].isInRange(o)})}})};function Ebe(t){return(t%180+180)%180}var Abe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Ebe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Tbe=Mne(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),I$=U.createContext(void 0),L$=U.createContext(void 0),N$=U.createContext(void 0),Pbe=U.createContext({}),D$=U.createContext(void 0),k$=U.createContext(0),U$=U.createContext(0),SU=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Tbe(o);return fe.createElement(I$.Provider,{value:r},fe.createElement(L$.Provider,{value:i},fe.createElement(Pbe.Provider,{value:o},fe.createElement(N$.Provider,{value:c},fe.createElement(D$.Provider,{value:a},fe.createElement(k$.Provider,{value:u},fe.createElement(U$.Provider,{value:l},s)))))))},Cbe=function(){return U.useContext(D$)},F$=function(e){var n=U.useContext(I$);n==null&&dc();var r=n[e];return r==null&&dc(),r},B$=function(e){var n=U.useContext(L$);n==null&&dc();var r=n[e];return r==null&&dc(),r},Obe=function(){var e=U.useContext(N$);return e},z$=function(){return U.useContext(U$)},j$=function(){return U.useContext(k$)};function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function Rbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ibe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H$(r.key),r)}}function Lbe(t,e,n){return e&&Ibe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nbe(t,e,n){return e=h_(e),Dbe(t,V$()?Reflect.construct(e,n||[],h_(t).constructor):e.apply(t,n))}function Dbe(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kbe(t)}function kbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V$=function(){return!!t})()}function h_(t){return h_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h_(t)}function Ube(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QA(t,e)}function QA(t,e){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QA(t,e)}function bU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bU(Object(n),!0).forEach(function(r){j2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j2(t,e,n){return e=H$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H$(t){var e=Fbe(t,"string");return Ph(e)=="symbol"?e:e+""}function Fbe(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Bbe(t,e){return Hbe(t)||Vbe(t,e)||jbe(t,e)||zbe()}function zbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jbe(t,e){if(t){if(typeof t=="string")return MU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MU(t,e)}}function MU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Hbe(t){if(Array.isArray(t))return t}function eT(){return eT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eT.apply(this,arguments)}var $be=function(e,n){var r;return fe.isValidElement(e)?r=fe.cloneElement(e,n):Gt(e)?r=e(n):r=fe.createElement("line",eT({},n,{className:"recharts-reference-line-line"})),r},Wbe=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,d=o.width,m=o.height;if(r){var y=u.y,x=e.y.apply(y,{position:a});if(La(u,"discard")&&!e.y.isInRange(x))return null;var v=[{x:c+d,y:x},{x:c,y:x}];return l==="left"?v.reverse():v}if(n){var g=u.x,_=e.x.apply(g,{position:a});if(La(u,"discard")&&!e.x.isInRange(_))return null;var S=[{x:_,y:f+m},{x:_,y:f}];return s==="top"?S.reverse():S}if(i){var w=u.segment,M=w.map(function(E){return e.apply(E,{position:a})});return La(u,"discard")&&NSe(M,function(E){return!e.isInRange(E)})?null:M}return null};function Gbe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Cbe(),c=F$(i),f=B$(o),d=Obe();if(!u||!d)return null;Ku(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=z2({x:c.scale,y:f.scale}),y=Sr(e),x=Sr(n),v=r&&r.length===2,g=Wbe(m,y,x,v,d,t.position,c.orientation,f.orientation,t);if(!g)return null;var _=Bbe(g,2),S=_[0],w=S.x,M=S.y,E=_[1],T=E.x,O=E.y,N=La(t,"hidden")?"url(#".concat(u,")"):void 0,P=wU(wU({clipPath:N},Kt(t,!0)),{},{x1:w,y1:M,x2:T,y2:O});return fe.createElement(Vn,{className:en("recharts-reference-line",s)},$be(a,P),ti.renderCallByParent(t,Mbe({x1:w,y1:M,x2:T,y2:O})))}var V2=function(t){function e(){return Rbe(this,e),Nbe(this,e,arguments)}return Ube(e,t),Lbe(e,[{key:"render",value:function(){return fe.createElement(Gbe,this.props)}}])}(fe.Component);j2(V2,"displayName","ReferenceLine");j2(V2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function tT(){return tT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tT.apply(this,arguments)}function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function EU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EU(Object(n),!0).forEach(function(r){k1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W$(r.key),r)}}function Ybe(t,e,n){return e&&qbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kbe(t,e,n){return e=d_(e),Zbe(t,$$()?Reflect.construct(e,n||[],d_(t).constructor):e.apply(t,n))}function Zbe(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jbe(t)}function Jbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($$=function(){return!!t})()}function d_(t){return d_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d_(t)}function Qbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nT(t,e)}function nT(t,e){return nT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nT(t,e)}function k1(t,e,n){return e=W$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W$(t){var e=ewe(t,"string");return Ch(e)=="symbol"?e:e+""}function ewe(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var twe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=z2({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return La(e,"discard")&&!a.isInRange(s)?null:s},U1=function(t){function e(){return Xbe(this,e),Kbe(this,e,arguments)}return Qbe(e,t),Ybe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Sr(i),c=Sr(o);if(Ku(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=twe(this.props);if(!f)return null;var d=f.x,m=f.y,y=this.props,x=y.shape,v=y.className,g=La(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=AU(AU({clipPath:g},Kt(this.props,!0)),{},{cx:d,cy:m});return fe.createElement(Vn,{className:en("recharts-reference-dot",v)},e.renderDot(x,_),ti.renderCallByParent(this.props,{x:d-a,y:m-a,width:2*a,height:2*a}))}}])}(fe.Component);k1(U1,"displayName","ReferenceDot");k1(U1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});k1(U1,"renderDot",function(t,e){var n;return fe.isValidElement(t)?n=fe.cloneElement(t,e):Gt(t)?n=t(e):n=fe.createElement(B2,tT({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rT.apply(this,arguments)}function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function TU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TU(Object(n),!0).forEach(function(r){F1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X$(r.key),r)}}function iwe(t,e,n){return e&&rwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function owe(t,e,n){return e=p_(e),awe(t,G$()?Reflect.construct(e,n||[],p_(t).constructor):e.apply(t,n))}function awe(t,e){if(e&&(Oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return swe(t)}function swe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G$=function(){return!!t})()}function p_(t){return p_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p_(t)}function lwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iT(t,e)}function iT(t,e){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iT(t,e)}function F1(t,e,n){return e=X$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X$(t){var e=uwe(t,"string");return Oh(e)=="symbol"?e:e+""}function uwe(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cwe=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=z2({x:c.scale,y:f.scale}),m={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},y={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return La(o,"discard")&&(!d.isInRange(m)||!d.isInRange(y))?null:O$(m,y)},B1=function(t){function e(){return nwe(this,e),owe(this,e,arguments)}return lwe(e,t),iwe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ku(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Sr(i),d=Sr(o),m=Sr(a),y=Sr(s),x=this.props.shape;if(!f&&!d&&!m&&!y&&!x)return null;var v=cwe(f,d,m,y,this.props);if(!v&&!x)return null;var g=La(this.props,"hidden")?"url(#".concat(c,")"):void 0;return fe.createElement(Vn,{className:en("recharts-reference-area",l)},e.renderRect(x,PU(PU({clipPath:g},Kt(this.props,!0)),v)),ti.renderCallByParent(this.props,v))}}])}(fe.Component);F1(B1,"displayName","ReferenceArea");F1(B1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});F1(B1,"renderRect",function(t,e){var n;return fe.isValidElement(t)?n=fe.cloneElement(t,e):Gt(t)?n=t(e):n=fe.createElement(F2,rT({},e,{className:"recharts-reference-area-rect"})),n});function q$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function fwe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Abe(r,n)}function hwe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function m_(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function dwe(t,e){return q$(t,e+1)}function pwe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:q$(r,u)};var x=l,v,g=function(){return v===void 0&&(v=n(y,x)),v},_=y.coordinate,S=l===0||m_(t,_,g,c,s);S||(l=0,c=a,u+=1),S&&(c=_+t*(g()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function CU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CU(Object(n),!0).forEach(function(r){mwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mwe(t,e,n){return e=gwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gwe(t){var e=vwe(t,"string");return Ym(e)=="symbol"?e:e+""}function vwe(t,e){if(Ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ywe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(d){var m=o[d],y,x=function(){return y===void 0&&(y=n(m,d)),y};if(d===a-1){var v=t*(m.coordinate+t*x()/2-l);o[d]=m=Jr(Jr({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else o[d]=m=Jr(Jr({},m),{},{tickCoord:m.coordinate});var g=m_(t,m.tickCoord,x,s,l);g&&(l=m.tickCoord-t*(x()/2+i),o[d]=Jr(Jr({},m),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function xwe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),d=t*(c.coordinate+t*f/2-u);a[s-1]=c=Jr(Jr({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var m=m_(t,c.tickCoord,function(){return f},l,u);m&&(u=c.tickCoord-t*(f/2+i),a[s-1]=Jr(Jr({},c),{},{isShow:!0}))}for(var y=o?s-1:s,x=function(_){var S=a[_],w,M=function(){return w===void 0&&(w=n(S,_)),w};if(_===0){var E=t*(S.coordinate-t*M()/2-l);a[_]=S=Jr(Jr({},S),{},{tickCoord:E<0?S.coordinate-E*t:S.coordinate})}else a[_]=S=Jr(Jr({},S),{},{tickCoord:S.coordinate});var T=m_(t,S.tickCoord,M,l,u);T&&(l=S.tickCoord+t*(M()/2+i),a[_]=Jr(Jr({},S),{},{isShow:!0}))},v=0;v<y;v++)x(v);return a}function _we(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Ze(l)||od.isSsr)return dwe(i,typeof l=="number"&&Ze(l)?l:0);var d=[],m=s==="top"||s==="bottom"?"width":"height",y=c&&m==="width"?Dp(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(S,w){var M=Gt(u)?u(S.value,w):S.value;return m==="width"?fwe(Dp(M,{fontSize:e,letterSpacing:n}),y,f):Dp(M,{fontSize:e,letterSpacing:n})[m]},v=i.length>=2?na(i[1].coordinate-i[0].coordinate):1,g=hwe(o,v,m);return l==="equidistantPreserveStart"?pwe(v,g,x,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=xwe(v,g,x,i,a,l==="preserveStartEnd"):d=ywe(v,g,x,i,a),d.filter(function(_){return _.isShow}))}var Swe=["viewBox"],bwe=["viewBox"],wwe=["ticks"];function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bf.apply(this,arguments)}function OU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OU(Object(n),!0).forEach(function(r){H2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lw(t,e){if(t==null)return{};var n=Mwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ewe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K$(r.key),r)}}function Awe(t,e,n){return e&&RU(t.prototype,e),n&&RU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Twe(t,e,n){return e=g_(e),Pwe(t,Y$()?Reflect.construct(e,n||[],g_(t).constructor):e.apply(t,n))}function Pwe(t,e){if(e&&(Rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cwe(t)}function Cwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y$=function(){return!!t})()}function g_(t){return g_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g_(t)}function Owe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oT(t,e)}function oT(t,e){return oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oT(t,e)}function H2(t,e,n){return e=K$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K$(t){var e=Rwe(t,"string");return Rh(e)=="symbol"?e:e+""}function Rwe(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z1=function(t){function e(n){var r;return Ewe(this,e),r=Twe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Owe(e,t),Awe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Lw(r,Swe),s=this.props,l=s.viewBox,u=Lw(s,bwe);return!Qf(o,l)||!Qf(a,u)||!Qf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,m,y,x,v,g,_,S=f?-1:1,w=r.tickSize||c,M=Ze(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=y=r.coordinate,v=a+ +!f*l,x=v-S*w,_=x-S*d,g=M;break;case"left":x=v=r.coordinate,y=o+ +!f*s,m=y-S*w,g=m-S*d,_=M;break;case"right":x=v=r.coordinate,y=o+ +f*s,m=y+S*w,g=m+S*d,_=M;break;default:m=y=r.coordinate,v=a+ +f*l,x=v+S*w,_=x+S*d,g=M;break}return{line:{x1:m,y1:x,x2:y,y2:v},tick:{x:g,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=gr(gr(gr({},Kt(this.props,!1)),Kt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=gr(gr({},f),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=gr(gr({},f),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return fe.createElement("line",Bf({},f,{className:en("recharts-cartesian-axis-line",Lo(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,d=s.unit,m=_we(gr(gr({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),v=Kt(this.props,!1),g=Kt(c,!1),_=gr(gr({},v),{},{fill:"none"},Kt(l,!1)),S=m.map(function(w,M){var E=a.getTickLineCoord(w),T=E.line,O=E.tick,N=gr(gr(gr(gr({textAnchor:y,verticalAnchor:x},v),{},{stroke:"none",fill:u},g),O),{},{index:M,payload:w,visibleTicksCount:m.length,tickFormatter:f});return fe.createElement(Vn,Bf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},wx(a.props,w,M)),l&&fe.createElement("line",Bf({},_,T,{className:en("recharts-cartesian-axis-tick-line",Lo(l,"className"))})),c&&e.renderTickItem(c,N,"".concat(Gt(f)?f(w.value,M):w.value).concat(d||"")))});return fe.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,m=Lw(f,wwe),y=d;return Gt(l)&&(y=d&&d.length>0?l(this.props):l(m)),a<=0||s<=0||!y||!y.length?null:fe.createElement(Vn,{className:en("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),ti.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=en(i.className,"recharts-cartesian-axis-tick-value");return fe.isValidElement(r)?a=fe.cloneElement(r,gr(gr({},i),{},{className:s})):Gt(r)?a=r(gr(gr({},i),{},{className:s})):a=fe.createElement(Ux,Bf({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(U.Component);H2(z1,"displayName","CartesianAxis");H2(z1,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Iwe=["layout","type","stroke","connectNulls","isRange","ref"],Lwe=["key"],Z$;function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function J$(t,e){if(t==null)return{};var n=Nwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zu.apply(this,arguments)}function IU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IU(Object(n),!0).forEach(function(r){Ea(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e6(r.key),r)}}function kwe(t,e,n){return e&&LU(t.prototype,e),n&&LU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uwe(t,e,n){return e=v_(e),Fwe(t,Q$()?Reflect.construct(e,n||[],v_(t).constructor):e.apply(t,n))}function Fwe(t,e){if(e&&(Ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bwe(t)}function Bwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q$=function(){return!!t})()}function v_(t){return v_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v_(t)}function zwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aT(t,e)}function aT(t,e){return aT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aT(t,e)}function Ea(t,e,n){return e=e6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e6(t){var e=jwe(t,"string");return Ih(e)=="symbol"?e:e+""}function jwe(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wl=function(t){function e(){var n;Dwe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Uwe(this,e,[].concat(i)),Ea(n,"state",{isAnimationFinished:!0}),Ea(n,"id",Rg("recharts-area-")),Ea(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Gt(a)&&a()}),Ea(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Gt(a)&&a()}),n}return zwe(e,t),kwe(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,d=Kt(this.props,!1),m=Kt(u,!0),y=c.map(function(v,g){var _=nl(nl(nl({key:"dot-".concat(g),r:3},d),m),{},{index:g,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:c});return e.renderDotItem(u,_)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return fe.createElement(Vn,zu({className:"recharts-area-dots"},x),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,c=r*Math.abs(l-u),f=hl(a.map(function(d){return d.y||0}));return Ze(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(hl(o.map(function(d){return d.y||0})),f)),Ze(f)?fe.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,c=r*Math.abs(l-u),f=hl(a.map(function(d){return d.x||0}));return Ze(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(hl(o.map(function(d){return d.x||0})),f)),Ze(f)?fe.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,u=s.type,c=s.stroke,f=s.connectNulls,d=s.isRange;s.ref;var m=J$(s,Iwe);return fe.createElement(Vn,{clipPath:o?"url(#clipPath-".concat(a,")"):null},fe.createElement(Fp,zu({},Kt(m,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&fe.createElement(Fp,zu({},Kt(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&d&&fe.createElement(Fp,zu({},Kt(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,d=a.animationEasing,m=a.animationId,y=this.state,x=y.prevPoints,v=y.prevBaseLine;return fe.createElement(As,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var _=g.t;if(x){var S=x.length/s.length,w=s.map(function(O,N){var P=Math.floor(N*S);if(x[P]){var R=x[P],j=Po(R.x,O.x),Y=Po(R.y,O.y);return nl(nl({},O),{},{x:j(_),y:Y(_)})}return O}),M;if(Ze(l)&&typeof l=="number"){var E=Po(v,l);M=E(_)}else if(Zt(l)||ed(l)){var T=Po(v,0);M=T(_)}else M=l.map(function(O,N){var P=Math.floor(N*S);if(v[P]){var R=v[P],j=Po(R.x,O.x),Y=Po(R.y,O.y);return nl(nl({},O),{},{x:j(_),y:Y(_)})}return O});return o.renderAreaStatically(w,M,r,i)}return fe.createElement(Vn,null,fe.createElement("defs",null,fe.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(_))),fe.createElement(Vn,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,d=u.totalLength;return l&&a&&a.length&&(!c&&d>0||!Pm(c,a)||!Pm(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,d=i.yAxis,m=i.width,y=i.height,x=i.isAnimationActive,v=i.id;if(o||!s||!s.length)return null;var g=this.state.isAnimationFinished,_=s.length===1,S=en("recharts-area",l),w=f&&f.allowDataOverflow,M=d&&d.allowDataOverflow,E=w||M,T=Zt(v)?this.id:v,O=(r=Kt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=O.r,P=N===void 0?3:N,R=O.strokeWidth,j=R===void 0?2:R,Y=Ore(a)?a:{},F=Y.clipDot,G=F===void 0?!0:F,$=P*2+j;return fe.createElement(Vn,{className:S},w||M?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(T)},fe.createElement("rect",{x:w?c:c-m/2,y:M?u:u-y/2,width:w?m:m*2,height:M?y:y*2})),!G&&fe.createElement("clipPath",{id:"clipPath-dots-".concat(T)},fe.createElement("rect",{x:c-$/2,y:u-$/2,width:m+$,height:y+$}))):null,_?null:this.renderArea(E,T),(a||_)&&this.renderDots(E,G,T),(!x||g)&&El.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(U.PureComponent);Z$=Wl;Ea(Wl,"displayName","Area");Ea(Wl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!od.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ea(Wl,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(Ze(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Ea(Wl,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,m=e.layout,y=u&&u.length,x=Z$.getBaseValue(e,n,r,i),v=m==="horizontal",g=!1,_=f.map(function(w,M){var E;y?E=u[c+M]:(E=io(w,l),Array.isArray(E)?g=!0:E=[x,E]);var T=E[1]==null||y&&io(w,l)==null;return v?{x:xk({axis:r,ticks:o,bandSize:s,entry:w,index:M}),y:T?null:i.scale(E[1]),value:E,payload:w}:{x:T?null:r.scale(E[1]),y:xk({axis:i,ticks:a,bandSize:s,entry:w,index:M}),value:E,payload:w}}),S;return y||g?S=_.map(function(w){var M=Array.isArray(w.value)?w.value[0]:null;return v?{x:w.x,y:M!=null&&w.y!=null?i.scale(M):null}:{x:M!=null?r.scale(M):null,y:w.y}}):S=v?i.scale(x):r.scale(x),nl({points:_,baseLine:S,layout:m,isRange:g},d)});Ea(Wl,"renderDotItem",function(t,e){var n;if(fe.isValidElement(t))n=fe.cloneElement(t,e);else if(Gt(t))n=t(e);else{var r=en("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=J$(e,Lwe);n=fe.createElement(B2,zu({},o,{key:i,className:r}))}return n});function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function Vwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r6(r.key),r)}}function $we(t,e,n){return e&&Hwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wwe(t,e,n){return e=y_(e),Gwe(t,t6()?Reflect.construct(e,n||[],y_(t).constructor):e.apply(t,n))}function Gwe(t,e){if(e&&(Lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xwe(t)}function Xwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t6=function(){return!!t})()}function y_(t){return y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y_(t)}function qwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sT(t,e)}function sT(t,e){return sT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sT(t,e)}function n6(t,e,n){return e=r6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r6(t){var e=Ywe(t,"string");return Lh(e)=="symbol"?e:e+""}function Ywe(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lT(){return lT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lT.apply(this,arguments)}function Kwe(t){var e=t.xAxisId,n=z$(),r=j$(),i=F$(e);return i==null?null:U.createElement(z1,lT({},i,{className:en("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Bu(a,!0)}}))}var j1=function(t){function e(){return Vwe(this,e),Wwe(this,e,arguments)}return qwe(e,t),$we(e,[{key:"render",value:function(){return U.createElement(Kwe,this.props)}}])}(U.Component);n6(j1,"displayName","XAxis");n6(j1,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function Zwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a6(r.key),r)}}function Qwe(t,e,n){return e&&Jwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eMe(t,e,n){return e=x_(e),tMe(t,i6()?Reflect.construct(e,n||[],x_(t).constructor):e.apply(t,n))}function tMe(t,e){if(e&&(Nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nMe(t)}function nMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i6=function(){return!!t})()}function x_(t){return x_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x_(t)}function rMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uT(t,e)}function uT(t,e){return uT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uT(t,e)}function o6(t,e,n){return e=a6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a6(t){var e=iMe(t,"string");return Nh(e)=="symbol"?e:e+""}function iMe(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cT(){return cT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cT.apply(this,arguments)}var oMe=function(e){var n=e.yAxisId,r=z$(),i=j$(),o=B$(n);return o==null?null:U.createElement(z1,cT({},o,{className:en("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Bu(s,!0)}}))},V1=function(t){function e(){return Zwe(this,e),eMe(this,e,arguments)}return rMe(e,t),Qwe(e,[{key:"render",value:function(){return U.createElement(oMe,this.props)}}])}(U.Component);o6(V1,"displayName","YAxis");o6(V1,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function NU(t){return uMe(t)||lMe(t)||sMe(t)||aMe()}function aMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sMe(t,e){if(t){if(typeof t=="string")return fT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fT(t,e)}}function lMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uMe(t){if(Array.isArray(t))return fT(t)}function fT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hT=function(e,n,r,i,o){var a=oa(e,V2),s=oa(e,U1),l=[].concat(NU(a),NU(s)),u=oa(e,B1),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(x,v){if(v.props[c]===r&&La(v.props,"extendDomain")&&Ze(v.props[f])){var g=v.props[f];return[Math.min(x[0],g),Math.max(x[1],g)]}return x},d)),u.length){var m="".concat(f,"1"),y="".concat(f,"2");d=u.reduce(function(x,v){if(v.props[c]===r&&La(v.props,"extendDomain")&&Ze(v.props[m])&&Ze(v.props[y])){var g=v.props[m],_=v.props[y];return[Math.min(x[0],g,_),Math.max(x[1],g,_)]}return x},d)}return o&&o.length&&(d=o.reduce(function(x,v){return Ze(v)?[Math.min(x[0],v),Math.max(x[1],v)]:x},d)),d},s6={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,d),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,m=f.length,y=new Array(m);d<m;d++)y[d]=f[d].fn;return y},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,m,y){var x=n?n+u:u;if(!this._events[x])return!1;var v=this._events[x],g=arguments.length,_,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,f),!0;case 4:return v.fn.call(v.context,c,f,d),!0;case 5:return v.fn.call(v.context,c,f,d,m),!0;case 6:return v.fn.call(v.context,c,f,d,m,y),!0}for(S=1,_=new Array(g-1);S<g;S++)_[S-1]=arguments[S];v.fn.apply(v.context,_)}else{var w=v.length,M;for(S=0;S<w;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),g){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,c);break;case 3:v[S].fn.call(v[S].context,c,f);break;case 4:v[S].fn.call(v[S].context,c,f,d);break;default:if(!_)for(M=1,_=new Array(g-1);M<g;M++)_[M-1]=arguments[M];v[S].fn.apply(v[S].context,_)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return a(this,m),this;var y=this._events[m];if(y.fn)y.fn===c&&(!d||y.once)&&(!f||y.context===f)&&a(this,m);else{for(var x=0,v=[],g=y.length;x<g;x++)(y[x].fn!==c||d&&!y[x].once||f&&y[x].context!==f)&&v.push(y[x]);v.length?this._events[m]=v.length===1?v[0]:v:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(s6);var cMe=s6.exports;const fMe=Sn(cMe);var Nw=new fMe,Dw="recharts.syncMouseEvents";function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function hMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l6(r.key),r)}}function pMe(t,e,n){return e&&dMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kw(t,e,n){return e=l6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l6(t){var e=mMe(t,"string");return Km(e)=="symbol"?e:e+""}function mMe(t,e){if(Km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gMe=function(){function t(){hMe(this,t),kw(this,"activeIndex",0),kw(this,"coordinateList",[]),kw(this,"layout","horizontal")}return pMe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,m=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function vMe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ze(r)&&Ze(i))return!0}return!1}function yMe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function u6(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Fr(e,n,r,i),s=Fr(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function xMe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=Fr(s,l,u,f),m=Fr(s,l,c,f);r=d.x,i=d.y,o=m.x,a=m.y}else return u6(e);return[{x:r,y:i},{x:o,y:a}]}function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function DU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function by(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DU(Object(n),!0).forEach(function(r){_Me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Me(t,e,n){return e=SMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SMe(t){var e=bMe(t,"string");return Zm(e)=="symbol"?e:e+""}function bMe(t,e){if(Zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wMe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var y,x=Fp;if(d==="ScatterChart")y=a,x=r1e;else if(d==="BarChart")y=yMe(f,a,l,c),x=F2;else if(f==="radial"){var v=u6(a),g=v.cx,_=v.cy,S=v.radius,w=v.startAngle,M=v.endAngle;y={cx:g,cy:_,startAngle:w,endAngle:M,innerRadius:S,outerRadius:S},x=f$}else y={points:xMe(f,a,l)},x=Fp;var E=by(by(by(by({stroke:"#ccc",pointerEvents:"none"},l),y),Kt(m,!1)),{},{payload:s,payloadIndex:u,className:en("recharts-tooltip-cursor",m.className)});return U.isValidElement(m)?U.cloneElement(m,E):U.createElement(x,E)}var MMe=["item"],EMe=["children","className","width","height","style","compact","title","desc"];function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zf.apply(this,arguments)}function kU(t,e){return PMe(t)||TMe(t,e)||f6(t,e)||AMe()}function AMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function PMe(t){if(Array.isArray(t))return t}function UU(t,e){if(t==null)return{};var n=CMe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h6(r.key),r)}}function IMe(t,e,n){return e&&RMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LMe(t,e,n){return e=__(e),NMe(t,c6()?Reflect.construct(e,n||[],__(t).constructor):e.apply(t,n))}function NMe(t,e){if(e&&(Dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DMe(t)}function DMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c6=function(){return!!t})()}function __(t){return __=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},__(t)}function kMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dT(t,e)}function dT(t,e){return dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dT(t,e)}function kh(t){return BMe(t)||FMe(t)||f6(t)||UMe()}function UMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f6(t,e){if(t){if(typeof t=="string")return pT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pT(t,e)}}function FMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BMe(t){if(Array.isArray(t))return pT(t)}function pT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(n),!0).forEach(function(r){At(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function At(t,e,n){return e=h6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h6(t){var e=zMe(t,"string");return Dh(e)=="symbol"?e:e+""}function zMe(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jMe={xAxis:["bottom","top"],yAxis:["left","right"]},VMe={width:"100%",height:"100%"},d6={x:0,y:0};function wy(t){return t}var HMe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},$Me=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return Te(Te(Te({},i),Fr(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return Te(Te(Te({},i),Fr(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return d6},H1=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(kh(s),kh(u)):s},[]);return a.length>0?a:e&&e.length&&Ze(i)&&Ze(o)?e.slice(i,o+1):[]};function p6(t){return t==="number"?[0,"auto"]:void 0}var mT=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=H1(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var m=f===void 0?s:f;d=Sx(m,a.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(kh(l),[l$(u,d)]):l},[])},BU=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=HMe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Dye(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=mT(e,n,c,f),m=$Me(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:m}}return null},WMe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,m=a$(c,o);return r.reduce(function(y,x){var v,g=x.type.defaultProps!==void 0?Te(Te({},x.type.defaultProps),x.props):x.props,_=g.type,S=g.dataKey,w=g.allowDataOverflow,M=g.allowDuplicatedCategory,E=g.scale,T=g.ticks,O=g.includeHidden,N=g[a];if(y[N])return y;var P=H1(e.data,{graphicalItems:i.filter(function(re){var me,le=a in re.props?re.props[a]:(me=re.type.defaultProps)===null||me===void 0?void 0:me[a];return le===N}),dataStartIndex:l,dataEndIndex:u}),R=P.length,j,Y,F;vMe(g.domain,w,_)&&(j=NA(g.domain,null,w),m&&(_==="number"||E!=="auto")&&(F=Up(P,S,"category")));var G=p6(_);if(!j||j.length===0){var $,te=($=g.domain)!==null&&$!==void 0?$:G;if(S){if(j=Up(P,S,_),_==="category"&&m){var B=_re(j);M&&B?(Y=j,j=s_(0,R)):M||(j=wk(te,j,x).reduce(function(re,me){return re.indexOf(me)>=0?re:[].concat(kh(re),[me])},[]))}else if(_==="category")M?j=j.filter(function(re){return re!==""&&!Zt(re)}):j=wk(te,j,x).reduce(function(re,me){return re.indexOf(me)>=0||me===""||Zt(me)?re:[].concat(kh(re),[me])},[]);else if(_==="number"){var q=zye(P,i.filter(function(re){var me,le,pe=a in re.props?re.props[a]:(me=re.type.defaultProps)===null||me===void 0?void 0:me[a],we="hide"in re.props?re.props.hide:(le=re.type.defaultProps)===null||le===void 0?void 0:le.hide;return pe===N&&(O||!we)}),S,o,c);q&&(j=q)}m&&(_==="number"||E!=="auto")&&(F=Up(P,S,"category"))}else m?j=s_(0,R):s&&s[N]&&s[N].hasStack&&_==="number"?j=d==="expand"?[0,1]:s$(s[N].stackGroups,l,u):j=o$(P,i.filter(function(re){var me=a in re.props?re.props[a]:re.type.defaultProps[a],le="hide"in re.props?re.props.hide:re.type.defaultProps.hide;return me===N&&(O||!le)}),_,c,!0);if(_==="number")j=hT(f,j,N,o,T),te&&(j=NA(te,j,w));else if(_==="category"&&te){var Z=te,oe=j.every(function(re){return Z.indexOf(re)>=0});oe&&(j=Z)}}return Te(Te({},y),{},At({},N,Te(Te({},g),{},{axisType:o,domain:j,categoricalDomain:F,duplicateDomain:Y,originalDomain:(v=g.domain)!==null&&v!==void 0?v:G,isCategorical:m,layout:c})))},{})},GMe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=H1(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=d.length,y=a$(c,o),x=-1;return r.reduce(function(v,g){var _=g.type.defaultProps!==void 0?Te(Te({},g.type.defaultProps),g.props):g.props,S=_[a],w=p6("number");if(!v[S]){x++;var M;return y?M=s_(0,m):s&&s[S]&&s[S].hasStack?(M=s$(s[S].stackGroups,l,u),M=hT(f,M,S,o)):(M=NA(w,o$(d,r.filter(function(E){var T,O,N=a in E.props?E.props[a]:(T=E.type.defaultProps)===null||T===void 0?void 0:T[a],P="hide"in E.props?E.props.hide:(O=E.type.defaultProps)===null||O===void 0?void 0:O.hide;return N===S&&!P}),"number",c),i.defaultProps.allowDataOverflow),M=hT(f,M,S,o)),Te(Te({},v),{},At({},S,Te(Te({axisType:o},i.defaultProps),{},{hide:!0,orientation:Lo(jMe,"".concat(o,".").concat(x%2),null),domain:M,originalDomain:w,isCategorical:y,layout:c})))}return v},{})},XMe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=oa(c,o),m={};return d&&d.length?m=WMe(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(m=GMe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},qMe=function(e){var n=yf(e),r=Bu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:f2(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Zx(n,r)}},zU=function(e){var n=e.children,r=e.defaultShowTooltip,i=qi(n,Ah),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},YMe=function(e){return!e||!e.length?!1:e.some(function(n){var r=ms(n&&n.type);return r&&r.indexOf("Bar")>=0})},jU=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},KMe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,d=r.margin||{},m=qi(f,Ah),y=qi(f,eh),x=Object.keys(l).reduce(function(M,E){var T=l[E],O=T.orientation;return!T.mirror&&!T.hide?Te(Te({},M),{},At({},O,M[O]+T.width)):M},{left:d.left||0,right:d.right||0}),v=Object.keys(a).reduce(function(M,E){var T=a[E],O=T.orientation;return!T.mirror&&!T.hide?Te(Te({},M),{},At({},O,Lo(M,"".concat(O))+T.height)):M},{top:d.top||0,bottom:d.bottom||0}),g=Te(Te({},v),x),_=g.bottom;m&&(g.bottom+=m.props.height||Ah.defaultProps.height),y&&n&&(g=Fye(g,i,r,n));var S=u-g.left-g.right,w=c-g.top-g.bottom;return Te(Te({brushBottom:_},g),{},{width:Math.max(S,0),height:Math.max(w,0)})},ZMe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},JMe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(g,_){var S=_.graphicalItems,w=_.stackGroups,M=_.offset,E=_.updateId,T=_.dataStartIndex,O=_.dataEndIndex,N=g.barSize,P=g.layout,R=g.barGap,j=g.barCategoryGap,Y=g.maxBarSize,F=jU(P),G=F.numericAxisName,$=F.cateAxisName,te=YMe(S),B=[];return S.forEach(function(q,Z){var oe=H1(g.data,{graphicalItems:[q],dataStartIndex:T,dataEndIndex:O}),re=q.type.defaultProps!==void 0?Te(Te({},q.type.defaultProps),q.props):q.props,me=re.dataKey,le=re.maxBarSize,pe=re["".concat(G,"Id")],we=re["".concat($,"Id")],ze={},Xe=l.reduce(function(he,Ne){var Le=_["".concat(Ne.axisType,"Map")],Oe=re["".concat(Ne.axisType,"Id")];Le&&Le[Oe]||Ne.axisType==="zAxis"||dc();var nt=Le[Oe];return Te(Te({},he),{},At(At({},Ne.axisType,nt),"".concat(Ne.axisType,"Ticks"),Bu(nt)))},ze),xe=Xe[$],Ve=Xe["".concat($,"Ticks")],De=w&&w[pe]&&w[pe].hasStack&&Jye(q,w[pe].stackGroups),V=ms(q.type).indexOf("Bar")>=0,Ae=Zx(xe,Ve),de=[],Re=te&&kye({barSize:N,stackGroups:w,totalSize:ZMe(Xe,$)});if(V){var _e,Je,Ge=Zt(le)?Y:le,W=(_e=(Je=Zx(xe,Ve,!0))!==null&&Je!==void 0?Je:Ge)!==null&&_e!==void 0?_e:0;de=Uye({barGap:R,barCategoryGap:j,bandSize:W!==Ae?W:Ae,sizeList:Re[we],maxBarSize:Ge}),W!==Ae&&(de=de.map(function(he){return Te(Te({},he),{},{position:Te(Te({},he.position),{},{offset:he.position.offset-W/2})})}))}var z=q&&q.type&&q.type.getComposedData;z&&B.push({props:Te(Te({},z(Te(Te({},Xe),{},{displayedData:oe,props:g,dataKey:me,item:q,bandSize:Ae,barPosition:de,offset:M,stackedData:De,layout:P,dataStartIndex:T,dataEndIndex:O}))),{},At(At(At({key:q.key||"item-".concat(Z)},G,Xe[G]),$,Xe[$]),"animationId",E)),childIndex:Lre(q,g.children),item:q})}),B},m=function(g,_){var S=g.props,w=g.dataStartIndex,M=g.dataEndIndex,E=g.updateId;if(!g3({props:S}))return null;var T=S.children,O=S.layout,N=S.stackOffset,P=S.data,R=S.reverseStackOrder,j=jU(O),Y=j.numericAxisName,F=j.cateAxisName,G=oa(T,r),$=Yye(P,G,"".concat(Y,"Id"),"".concat(F,"Id"),N,R),te=l.reduce(function(re,me){var le="".concat(me.axisType,"Map");return Te(Te({},re),{},At({},le,XMe(S,Te(Te({},me),{},{graphicalItems:G,stackGroups:me.axisType===Y&&$,dataStartIndex:w,dataEndIndex:M}))))},{}),B=KMe(Te(Te({},te),{},{props:S,graphicalItems:G}),_==null?void 0:_.legendBBox);Object.keys(te).forEach(function(re){te[re]=c(S,te[re],B,re.replace("Map",""),n)});var q=te["".concat(F,"Map")],Z=qMe(q),oe=d(S,Te(Te({},te),{},{dataStartIndex:w,dataEndIndex:M,updateId:E,graphicalItems:G,stackGroups:$,offset:B}));return Te(Te({formattedGraphicalItems:oe,graphicalItems:G,offset:B,stackGroups:$},Z),te)},y=function(v){function g(_){var S,w,M;return OMe(this,g),M=LMe(this,g,[_]),At(M,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),At(M,"accessibilityManager",new gMe),At(M,"handleLegendBBoxUpdate",function(E){if(E){var T=M.state,O=T.dataStartIndex,N=T.dataEndIndex,P=T.updateId;M.setState(Te({legendBBox:E},m({props:M.props,dataStartIndex:O,dataEndIndex:N,updateId:P},Te(Te({},M.state),{},{legendBBox:E}))))}}),At(M,"handleReceiveSyncEvent",function(E,T,O){if(M.props.syncId===E){if(O===M.eventEmitterSymbol&&typeof M.props.syncMethod!="function")return;M.applySyncEvent(T)}}),At(M,"handleBrushChange",function(E){var T=E.startIndex,O=E.endIndex;if(T!==M.state.dataStartIndex||O!==M.state.dataEndIndex){var N=M.state.updateId;M.setState(function(){return Te({dataStartIndex:T,dataEndIndex:O},m({props:M.props,dataStartIndex:T,dataEndIndex:O,updateId:N},M.state))}),M.triggerSyncEvent({dataStartIndex:T,dataEndIndex:O})}}),At(M,"handleMouseEnter",function(E){var T=M.getMouseInfo(E);if(T){var O=Te(Te({},T),{},{isTooltipActive:!0});M.setState(O),M.triggerSyncEvent(O);var N=M.props.onMouseEnter;Gt(N)&&N(O,E)}}),At(M,"triggeredAfterMouseMove",function(E){var T=M.getMouseInfo(E),O=T?Te(Te({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};M.setState(O),M.triggerSyncEvent(O);var N=M.props.onMouseMove;Gt(N)&&N(O,E)}),At(M,"handleItemMouseEnter",function(E){M.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),At(M,"handleItemMouseLeave",function(){M.setState(function(){return{isTooltipActive:!1}})}),At(M,"handleMouseMove",function(E){E.persist(),M.throttleTriggeredAfterMouseMove(E)}),At(M,"handleMouseLeave",function(E){M.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};M.setState(T),M.triggerSyncEvent(T);var O=M.props.onMouseLeave;Gt(O)&&O(T,E)}),At(M,"handleOuterEvent",function(E){var T=Ire(E),O=Lo(M.props,"".concat(T));if(T&&Gt(O)){var N,P;/.*touch.*/i.test(T)?P=M.getMouseInfo(E.changedTouches[0]):P=M.getMouseInfo(E),O((N=P)!==null&&N!==void 0?N:{},E)}}),At(M,"handleClick",function(E){var T=M.getMouseInfo(E);if(T){var O=Te(Te({},T),{},{isTooltipActive:!0});M.setState(O),M.triggerSyncEvent(O);var N=M.props.onClick;Gt(N)&&N(O,E)}}),At(M,"handleMouseDown",function(E){var T=M.props.onMouseDown;if(Gt(T)){var O=M.getMouseInfo(E);T(O,E)}}),At(M,"handleMouseUp",function(E){var T=M.props.onMouseUp;if(Gt(T)){var O=M.getMouseInfo(E);T(O,E)}}),At(M,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&M.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),At(M,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&M.handleMouseDown(E.changedTouches[0])}),At(M,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&M.handleMouseUp(E.changedTouches[0])}),At(M,"handleDoubleClick",function(E){var T=M.props.onDoubleClick;if(Gt(T)){var O=M.getMouseInfo(E);T(O,E)}}),At(M,"handleContextMenu",function(E){var T=M.props.onContextMenu;if(Gt(T)){var O=M.getMouseInfo(E);T(O,E)}}),At(M,"triggerSyncEvent",function(E){M.props.syncId!==void 0&&Nw.emit(Dw,M.props.syncId,E,M.eventEmitterSymbol)}),At(M,"applySyncEvent",function(E){var T=M.props,O=T.layout,N=T.syncMethod,P=M.state.updateId,R=E.dataStartIndex,j=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)M.setState(Te({dataStartIndex:R,dataEndIndex:j},m({props:M.props,dataStartIndex:R,dataEndIndex:j,updateId:P},M.state)));else if(E.activeTooltipIndex!==void 0){var Y=E.chartX,F=E.chartY,G=E.activeTooltipIndex,$=M.state,te=$.offset,B=$.tooltipTicks;if(!te)return;if(typeof N=="function")G=N(B,E);else if(N==="value"){G=-1;for(var q=0;q<B.length;q++)if(B[q].value===E.activeLabel){G=q;break}}var Z=Te(Te({},te),{},{x:te.left,y:te.top}),oe=Math.min(Y,Z.x+Z.width),re=Math.min(F,Z.y+Z.height),me=B[G]&&B[G].value,le=mT(M.state,M.props.data,G),pe=B[G]?{x:O==="horizontal"?B[G].coordinate:oe,y:O==="horizontal"?re:B[G].coordinate}:d6;M.setState(Te(Te({},E),{},{activeLabel:me,activeCoordinate:pe,activePayload:le,activeTooltipIndex:G}))}else M.setState(E)}),At(M,"renderCursor",function(E){var T,O=M.state,N=O.isTooltipActive,P=O.activeCoordinate,R=O.activePayload,j=O.offset,Y=O.activeTooltipIndex,F=O.tooltipAxisBandSize,G=M.getTooltipEventType(),$=(T=E.props.active)!==null&&T!==void 0?T:N,te=M.props.layout,B=E.key||"_recharts-cursor";return fe.createElement(wMe,{key:B,activeCoordinate:P,activePayload:R,activeTooltipIndex:Y,chartName:n,element:E,isActive:$,layout:te,offset:j,tooltipAxisBandSize:F,tooltipEventType:G})}),At(M,"renderPolarAxis",function(E,T,O){var N=Lo(E,"type.axisType"),P=Lo(M.state,"".concat(N,"Map")),R=E.type.defaultProps,j=R!==void 0?Te(Te({},R),E.props):E.props,Y=P&&P[j["".concat(N,"Id")]];return U.cloneElement(E,Te(Te({},Y),{},{className:en(N,Y.className),key:E.key||"".concat(T,"-").concat(O),ticks:Bu(Y,!0)}))}),At(M,"renderPolarGrid",function(E){var T=E.props,O=T.radialLines,N=T.polarAngles,P=T.polarRadius,R=M.state,j=R.radiusAxisMap,Y=R.angleAxisMap,F=yf(j),G=yf(Y),$=G.cx,te=G.cy,B=G.innerRadius,q=G.outerRadius;return U.cloneElement(E,{polarAngles:Array.isArray(N)?N:Bu(G,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(P)?P:Bu(F,!0).map(function(Z){return Z.coordinate}),cx:$,cy:te,innerRadius:B,outerRadius:q,key:E.key||"polar-grid",radialLines:O})}),At(M,"renderLegend",function(){var E=M.state.formattedGraphicalItems,T=M.props,O=T.children,N=T.width,P=T.height,R=M.props.margin||{},j=N-(R.left||0)-(R.right||0),Y=r$({children:O,formattedGraphicalItems:E,legendWidth:j,legendContent:u});if(!Y)return null;var F=Y.item,G=UU(Y,MMe);return U.cloneElement(F,Te(Te({},G),{},{chartWidth:N,chartHeight:P,margin:R,onBBoxUpdate:M.handleLegendBBoxUpdate}))}),At(M,"renderTooltip",function(){var E,T=M.props,O=T.children,N=T.accessibilityLayer,P=qi(O,Sa);if(!P)return null;var R=M.state,j=R.isTooltipActive,Y=R.activeCoordinate,F=R.activePayload,G=R.activeLabel,$=R.offset,te=(E=P.props.active)!==null&&E!==void 0?E:j;return U.cloneElement(P,{viewBox:Te(Te({},$),{},{x:$.left,y:$.top}),active:te,label:G,payload:te?F:[],coordinate:Y,accessibilityLayer:N})}),At(M,"renderBrush",function(E){var T=M.props,O=T.margin,N=T.data,P=M.state,R=P.offset,j=P.dataStartIndex,Y=P.dataEndIndex,F=P.updateId;return U.cloneElement(E,{key:E.key||"_recharts-brush",onChange:yy(M.handleBrushChange,E.props.onChange),data:N,x:Ze(E.props.x)?E.props.x:R.left,y:Ze(E.props.y)?E.props.y:R.top+R.height+R.brushBottom-(O.bottom||0),width:Ze(E.props.width)?E.props.width:R.width,startIndex:j,endIndex:Y,updateId:"brush-".concat(F)})}),At(M,"renderReferenceElement",function(E,T,O){if(!E)return null;var N=M,P=N.clipPathId,R=M.state,j=R.xAxisMap,Y=R.yAxisMap,F=R.offset,G=E.type.defaultProps||{},$=E.props,te=$.xAxisId,B=te===void 0?G.xAxisId:te,q=$.yAxisId,Z=q===void 0?G.yAxisId:q;return U.cloneElement(E,{key:E.key||"".concat(T,"-").concat(O),xAxis:j[B],yAxis:Y[Z],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:P})}),At(M,"renderActivePoints",function(E){var T=E.item,O=E.activePoint,N=E.basePoint,P=E.childIndex,R=E.isRange,j=[],Y=T.props.key,F=T.item.type.defaultProps!==void 0?Te(Te({},T.item.type.defaultProps),T.item.props):T.item.props,G=F.activeDot,$=F.dataKey,te=Te(Te({index:P,dataKey:$,cx:O.x,cy:O.y,r:4,fill:U2(T.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Kt(G,!1)),bx(G));return j.push(g.renderActiveDot(G,te,"".concat(Y,"-activePoint-").concat(P))),N?j.push(g.renderActiveDot(G,Te(Te({},te),{},{cx:N.x,cy:N.y}),"".concat(Y,"-basePoint-").concat(P))):R&&j.push(null),j}),At(M,"renderGraphicChild",function(E,T,O){var N=M.filterFormatItem(E,T,O);if(!N)return null;var P=M.getTooltipEventType(),R=M.state,j=R.isTooltipActive,Y=R.tooltipAxis,F=R.activeTooltipIndex,G=R.activeLabel,$=M.props.children,te=qi($,Sa),B=N.props,q=B.points,Z=B.isRange,oe=B.baseLine,re=N.item.type.defaultProps!==void 0?Te(Te({},N.item.type.defaultProps),N.item.props):N.item.props,me=re.activeDot,le=re.hide,pe=re.activeBar,we=re.activeShape,ze=!!(!le&&j&&te&&(me||pe||we)),Xe={};P!=="axis"&&te&&te.props.trigger==="click"?Xe={onClick:yy(M.handleItemMouseEnter,E.props.onClick)}:P!=="axis"&&(Xe={onMouseLeave:yy(M.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:yy(M.handleItemMouseEnter,E.props.onMouseEnter)});var xe=U.cloneElement(E,Te(Te({},N.props),Xe));function Ve(Ne){return typeof Y.dataKey=="function"?Y.dataKey(Ne.payload):null}if(ze)if(F>=0){var De,V;if(Y.dataKey&&!Y.allowDuplicatedCategory){var Ae=typeof Y.dataKey=="function"?Ve:"payload.".concat(Y.dataKey.toString());De=Sx(q,Ae,G),V=Z&&oe&&Sx(oe,Ae,G)}else De=q==null?void 0:q[F],V=Z&&oe&&oe[F];if(we||pe){var de=E.props.activeIndex!==void 0?E.props.activeIndex:F;return[U.cloneElement(E,Te(Te(Te({},N.props),Xe),{},{activeIndex:de})),null,null]}if(!Zt(De))return[xe].concat(kh(M.renderActivePoints({item:N,activePoint:De,basePoint:V,childIndex:F,isRange:Z})))}else{var Re,_e=(Re=M.getItemByXY(M.state.activeCoordinate))!==null&&Re!==void 0?Re:{graphicalItem:xe},Je=_e.graphicalItem,Ge=Je.item,W=Ge===void 0?E:Ge,z=Je.childIndex,he=Te(Te(Te({},N.props),Xe),{},{activeIndex:z});return[U.cloneElement(W,he),null,null]}return Z?[xe,null,null]:[xe,null]}),At(M,"renderCustomized",function(E,T,O){return U.cloneElement(E,Te(Te({key:"recharts-customized-".concat(O)},M.props),M.state))}),At(M,"renderMap",{CartesianGrid:{handler:wy,once:!0},ReferenceArea:{handler:M.renderReferenceElement},ReferenceLine:{handler:wy},ReferenceDot:{handler:M.renderReferenceElement},XAxis:{handler:wy},YAxis:{handler:wy},Brush:{handler:M.renderBrush,once:!0},Bar:{handler:M.renderGraphicChild},Line:{handler:M.renderGraphicChild},Area:{handler:M.renderGraphicChild},Radar:{handler:M.renderGraphicChild},RadialBar:{handler:M.renderGraphicChild},Scatter:{handler:M.renderGraphicChild},Pie:{handler:M.renderGraphicChild},Funnel:{handler:M.renderGraphicChild},Tooltip:{handler:M.renderCursor,once:!0},PolarGrid:{handler:M.renderPolarGrid,once:!0},PolarAngleAxis:{handler:M.renderPolarAxis},PolarRadiusAxis:{handler:M.renderPolarAxis},Customized:{handler:M.renderCustomized}}),M.clipPathId="".concat((S=_.id)!==null&&S!==void 0?S:Rg("recharts"),"-clip"),M.throttleTriggeredAfterMouseMove=nH(M.triggeredAfterMouseMove,(w=_.throttleDelay)!==null&&w!==void 0?w:1e3/60),M.state={},M}return kMe(g,v),IMe(g,[{key:"componentDidMount",value:function(){var S,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,w=S.children,M=S.data,E=S.height,T=S.layout,O=qi(w,Sa);if(O){var N=O.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,R=mT(this.state,M,N,P),j=this.state.tooltipTicks[N].coordinate,Y=(this.state.offset.top+E)/2,F=T==="horizontal",G=F?{x:j,y:Y}:{y:j,x:Y},$=this.state.formattedGraphicalItems.find(function(B){var q=B.item;return q.type.name==="Scatter"});$&&(G=Te(Te({},G),$.props.points[N].tooltipPosition),R=$.props.points[N].tooltipPayload);var te={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:P,activePayload:R,activeCoordinate:G};this.setState(te),this.renderCursor(O),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var M,E;this.accessibilityManager.setDetails({offset:{left:(M=this.props.margin.left)!==null&&M!==void 0?M:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(S){YE([qi(S.children,Sa)],[qi(this.props.children,Sa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=qi(this.props.children,Sa);if(S&&typeof S.props.shared=="boolean"){var w=S.props.shared?"axis":"item";return s.indexOf(w)>=0?w:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var w=this.container,M=w.getBoundingClientRect(),E=spe(M),T={chartX:Math.round(S.pageX-E.left),chartY:Math.round(S.pageY-E.top)},O=M.width/w.offsetWidth||1,N=this.inRange(T.chartX,T.chartY,O);if(!N)return null;var P=this.state,R=P.xAxisMap,j=P.yAxisMap,Y=this.getTooltipEventType(),F=BU(this.state,this.props.data,this.props.layout,N);if(Y!=="axis"&&R&&j){var G=yf(R).scale,$=yf(j).scale,te=G&&G.invert?G.invert(T.chartX):null,B=$&&$.invert?$.invert(T.chartY):null;return Te(Te({},T),{},{xValue:te,yValue:B},F)}return F?Te(Te({},T),F):null}},{key:"inRange",value:function(S,w){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,T=S/M,O=w/M;if(E==="horizontal"||E==="vertical"){var N=this.state.offset,P=T>=N.left&&T<=N.left+N.width&&O>=N.top&&O<=N.top+N.height;return P?{x:T,y:O}:null}var R=this.state,j=R.angleAxisMap,Y=R.radiusAxisMap;if(j&&Y){var F=yf(j);return Ak({x:T,y:O},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,w=this.getTooltipEventType(),M=qi(S,Sa),E={};M&&w==="axis"&&(M.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=bx(this.props,this.handleOuterEvent);return Te(Te({},T),E)}},{key:"addListener",value:function(){Nw.on(Dw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Nw.removeListener(Dw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,w,M){for(var E=this.state.formattedGraphicalItems,T=0,O=E.length;T<O;T++){var N=E[T];if(N.item===S||N.props.key===S.key||w===ms(N.item.type)&&M===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,w=this.state.offset,M=w.left,E=w.top,T=w.height,O=w.width;return fe.createElement("defs",null,fe.createElement("clipPath",{id:S},fe.createElement("rect",{x:M,y:E,height:T,width:O})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(w,M){var E=kU(M,2),T=E[0],O=E[1];return Te(Te({},w),{},At({},T,O.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(w,M){var E=kU(M,2),T=E[0],O=E[1];return Te(Te({},w),{},At({},T,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[S])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(S){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[S])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(S){var w=this.state,M=w.formattedGraphicalItems,E=w.activeItem;if(M&&M.length)for(var T=0,O=M.length;T<O;T++){var N=M[T],P=N.props,R=N.item,j=R.type.defaultProps!==void 0?Te(Te({},R.type.defaultProps),R.props):R.props,Y=ms(R.type);if(Y==="Bar"){var F=(P.data||[]).find(function(B){return X_e(S,B)});if(F)return{graphicalItem:N,payload:F}}else if(Y==="RadialBar"){var G=(P.data||[]).find(function(B){return Ak(S,B)});if(G)return{graphicalItem:N,payload:G}}else if(L1(N,E)||N1(N,E)||Wm(N,E)){var $=K1e({graphicalItem:N,activeTooltipItem:E,itemData:j.data}),te=j.activeIndex===void 0?$:j.activeIndex;return{graphicalItem:Te(Te({},N),{},{childIndex:te}),payload:Wm(N,E)?j.data[$]:N.props.data[$]}}}return null}},{key:"render",value:function(){var S=this;if(!g3(this))return null;var w=this.props,M=w.children,E=w.className,T=w.width,O=w.height,N=w.style,P=w.compact,R=w.title,j=w.desc,Y=UU(w,EMe),F=Kt(Y,!1);if(P)return fe.createElement(SU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement(ZE,zf({},F,{width:T,height:O,title:R,desc:j}),this.renderClipPath(),y3(M,this.renderMap)));if(this.props.accessibilityLayer){var G,$;F.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,F.role=($=this.props.role)!==null&&$!==void 0?$:"application",F.onKeyDown=function(B){S.accessibilityManager.keyboardEvent(B)},F.onFocus=function(){S.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return fe.createElement(SU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement("div",zf({className:en("recharts-wrapper",E),style:Te({position:"relative",cursor:"default",width:T,height:O},N)},te,{ref:function(q){S.container=q}}),fe.createElement(ZE,zf({},F,{width:T,height:O,title:R,desc:j,style:VMe}),this.renderClipPath(),y3(M,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);At(y,"displayName",n),At(y,"defaultProps",Te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),At(y,"getDerivedStateFromProps",function(v,g){var _=v.dataKey,S=v.data,w=v.children,M=v.width,E=v.height,T=v.layout,O=v.stackOffset,N=v.margin,P=g.dataStartIndex,R=g.dataEndIndex;if(g.updateId===void 0){var j=zU(v);return Te(Te(Te({},j),{},{updateId:0},m(Te(Te({props:v},j),{},{updateId:0}),g)),{},{prevDataKey:_,prevData:S,prevWidth:M,prevHeight:E,prevLayout:T,prevStackOffset:O,prevMargin:N,prevChildren:w})}if(_!==g.prevDataKey||S!==g.prevData||M!==g.prevWidth||E!==g.prevHeight||T!==g.prevLayout||O!==g.prevStackOffset||!Qf(N,g.prevMargin)){var Y=zU(v),F={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},G=Te(Te({},BU(g,S,T)),{},{updateId:g.updateId+1}),$=Te(Te(Te({},Y),F),G);return Te(Te(Te({},$),m(Te({props:v},$),g)),{},{prevDataKey:_,prevData:S,prevWidth:M,prevHeight:E,prevLayout:T,prevStackOffset:O,prevMargin:N,prevChildren:w})}if(!YE(w,g.prevChildren)){var te,B,q,Z,oe=qi(w,Ah),re=oe&&(te=(B=oe.props)===null||B===void 0?void 0:B.startIndex)!==null&&te!==void 0?te:P,me=oe&&(q=(Z=oe.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&q!==void 0?q:R,le=re!==P||me!==R,pe=!Zt(S),we=pe&&!le?g.updateId:g.updateId+1;return Te(Te({updateId:we},m(Te(Te({props:v},g),{},{updateId:we,dataStartIndex:re,dataEndIndex:me}),g)),{},{prevChildren:w,dataStartIndex:re,dataEndIndex:me})}return null}),At(y,"renderActiveDot",function(v,g,_){var S;return U.isValidElement(v)?S=U.cloneElement(v,g):Gt(v)?S=v(g):S=fe.createElement(B2,g),fe.createElement(Vn,{className:"recharts-active-dot",key:_},S)});var x=U.forwardRef(function(g,_){return fe.createElement(y,zf({},g,{ref:_}))});return x.displayName=y.displayName,x},QMe=JMe({chartName:"AreaChart",GraphicalChild:Wl,axisComponents:[{axisType:"xAxis",AxisComp:j1},{axisType:"yAxis",AxisComp:V1}],formatAxisMap:wbe});function eEe({data:t}){return k.jsx(epe,{width:"100%",height:"100%",children:k.jsxs(QMe,{data:t,margin:{top:10,right:20,left:0,bottom:0},children:[k.jsx("defs",{children:k.jsxs("linearGradient",{id:"timeFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[k.jsx("stop",{offset:"0%",stopColor:"rgb(var(--blob1))",stopOpacity:.55}),k.jsx("stop",{offset:"100%",stopColor:"rgb(var(--blob1))",stopOpacity:.05})]})}),k.jsx(j1,{dataKey:"day",stroke:"currentColor",tick:{fontSize:12,fill:"currentColor"}}),k.jsx(V1,{allowDecimals:!1,stroke:"currentColor",tick:{fontSize:12,fill:"currentColor"}}),k.jsx(Sa,{cursor:{stroke:"rgba(255,255,255,0.15)"},contentStyle:{background:"rgb(var(--panel))",border:"none",borderRadius:12,boxShadow:"0 12px 30px rgba(0,0,0,.25)",color:"rgb(var(--text-main))",fontSize:12},labelStyle:{color:"rgb(var(--text-muted))",marginBottom:4},itemStyle:{color:"rgb(var(--text-main))"}}),k.jsx(Wl,{type:"monotone",dataKey:"minutes",stroke:"rgb(var(--blob1))",strokeWidth:3,fill:"url(#timeFill)",dot:{r:4,fill:"rgb(var(--blob1))"},activeDot:{r:6},animationDuration:900,animationEasing:"ease-out"})]})})}function tEe(){const[t,e]=U.useState(null),[n,r]=U.useState(!0),i=Bl();return U.useEffect(()=>{const o=localStorage.getItem("token");if(!o){console.warn(" No token found"),i("/login");return}BQ(o).then(a=>{console.log(" Auth OK:",a),e(a.auth)}).catch(a=>{console.error(" Auth failed:",a.message),localStorage.removeItem("token"),i("/login")}).finally(()=>{r(!1)})},[i]),n?k.jsx("div",{className:"flex items-center justify-center h-full text-lg opacity-70",children:"Loading overview"}):k.jsxs(zC,{children:[k.jsxs("div",{className:"flex items-start justify-between gap-4",children:[k.jsxs("div",{children:[k.jsx("h1",{className:"text-3xl font-extrabold tracking-tight",children:"Parent Overview"}),k.jsx("p",{className:"opacity-75 mt-1",children:"Time, progress patterns, mastery, and support signals."})]}),k.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[k.jsxs(wa,{tone:"purple",children:[k.jsx(Fj,{className:"h-3.5 w-3.5"})," ADHD-friendly"]}),k.jsxs(wa,{tone:"green",children:[k.jsx(Uj,{className:"h-3.5 w-3.5"})," Micro-sessions"]}),k.jsxs(wa,{tone:"orange",children:[k.jsx(vQ,{className:"h-3.5 w-3.5"})," Interventions"]})]})]}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[k.jsx(ei,{title:"Today Focus Minutes",children:k.jsxs("div",{className:"flex items-end gap-2",children:[k.jsx("span",{className:"text-5xl font-black text-emerald-400",children:k.jsx(n3,{value:e3.todayFocusMinutes})}),k.jsx("span",{className:"pb-2 opacity-70",children:"min"})]})}),k.jsx(ei,{title:"Weekly Progress",children:k.jsxs("div",{className:"flex items-end gap-2",children:[k.jsx("span",{className:"text-5xl font-black text-purple-400",children:k.jsx(n3,{value:e3.weeklyProgressPct})}),k.jsx("span",{className:"pb-2 opacity-70",children:"%"})]})}),k.jsx(ei,{title:"Parent Insight",right:k.jsxs(wa,{tone:"blue",children:["Mode: ",N0.focusMode]}),children:k.jsxs("p",{className:"text-sm opacity-80",children:["Predictable, short sessions improve regulation. Adjust routines in ",k.jsx("b",{children:"Time Control"}),"."]})})]}),k.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[k.jsx(ei,{title:"Learning Time Trend (7 Days)",children:k.jsx("div",{className:"h-[260px]",children:k.jsx(eEe,{data:jj})})}),k.jsx(ei,{title:"Support Areas",children:k.jsx("div",{className:"space-y-3",children:WE.map(o=>k.jsxs(Ua.div,{whileHover:{x:4},className:`rounded-xl p-3bg-black/5 dark:bg-white/10\r
`,children:[k.jsxs("div",{className:"flex justify-between",children:[k.jsx("span",{className:"font-semibold",children:o.subject}),k.jsx("span",{className:"text-xs font-bold text-orange-400",children:o.severity})]}),k.jsx("div",{className:"text-sm opacity-75 mt-1",children:o.note})]},o.subject))})})]}),k.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:k.jsx(ei,{title:"Recent Activity",children:k.jsx("div",{className:"space-y-3",children:GE.map(o=>k.jsxs("div",{className:`rounded-xl p-3bg-black/5 dark:bg-white/10\r
`,children:[k.jsxs("div",{className:"flex justify-between",children:[k.jsx("span",{className:"font-semibold",children:o.game}),k.jsx("span",{className:"text-xs opacity-70",children:o.time})]}),k.jsx("div",{className:"text-sm opacity-80 mt-1",children:o.outcome})]},o.id))})})})]})}function Jd(t,e,n){return Math.max(e,Math.min(n,t))}function Uw({label:t,value:e,min:n,max:r,step:i=1,onChange:o,accent:a="var(--blob1)"}){const s=(e-n)/(r-n)*100;return k.jsxs("div",{children:[k.jsxs("div",{className:"flex items-center justify-between text-sm",children:[k.jsx("div",{className:"font-semibold",children:t}),k.jsxs("div",{className:"opacity-80",children:[e," min"]})]}),k.jsxs("div",{className:"mt-3",children:[k.jsx("div",{className:"h-3 rounded-full bg-black/10 dark:bg-white/10 overflow-hidden",children:k.jsx(Ua.div,{initial:{width:0},animate:{width:`${s}%`},transition:{duration:.6,ease:"easeOut"},className:"h-full rounded-full",style:{background:`linear-gradient(90deg, rgb(${a}), rgba(var(--blob3),.55))`}})}),k.jsx("input",{className:"mt-3 w-full accent-emerald-400",type:"range",min:n,max:r,step:i,value:e,onChange:l=>o(Number(l.target.value))})]})]})}function nEe(){const[t,e]=U.useState(DQ),n=U.useMemo(()=>{const r=String(t.bedtimeHour).padStart(2,"0"),i=String(t.bedtimeMinute).padStart(2,"0");return`${r}:${i}`},[t.bedtimeHour,t.bedtimeMinute]);return k.jsxs("div",{className:"space-y-5",children:[k.jsxs("div",{className:"flex items-start justify-between gap-4",children:[k.jsxs("div",{children:[k.jsx("div",{className:"text-3xl font-extrabold tracking-tight",children:"Time Control"}),k.jsx("div",{className:"opacity-75 mt-1",children:"Use Case 04  Set Playtime Limits (daily + session + breaks + bedtime rules)."})]}),k.jsxs("div",{className:"hidden md:flex gap-2",children:[k.jsxs(wa,{tone:"green",children:[k.jsx(EQ,{className:"h-3.5 w-3.5"})," Safety"]}),k.jsxs(wa,{tone:"orange",children:[k.jsx(Uj,{className:"h-3.5 w-3.5"})," Routine"]}),k.jsxs(wa,{tone:"purple",children:[k.jsx(nQ,{className:"h-3.5 w-3.5"})," Sleep"]})]})]}),k.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 md:gap-5",children:[k.jsx(ei,{title:"Limits",subtitle:"Set consistent boundaries (ADHD-friendly)",children:k.jsxs("div",{className:"space-y-6",children:[k.jsx(Uw,{label:"Daily minutes limit",min:30,max:180,value:t.dailyMinutesLimit,onChange:r=>e(i=>({...i,dailyMinutesLimit:Jd(r,30,180)})),accent:"var(--blob1)"}),k.jsx(Uw,{label:"Session limit",min:10,max:60,value:t.sessionMinutesLimit,onChange:r=>e(i=>({...i,sessionMinutesLimit:Jd(r,10,60)})),accent:"var(--blob4)"}),k.jsx(Uw,{label:"Break length",min:3,max:20,value:t.breakMinutes,onChange:r=>e(i=>({...i,breakMinutes:Jd(r,3,20)})),accent:"var(--blob3)"})]})}),k.jsxs(ei,{title:"Bedtime Rule",subtitle:"Block access after bedtime",children:[k.jsxs("div",{className:"flex items-center justify-between gap-4",children:[k.jsxs("div",{children:[k.jsx("div",{className:"text-sm opacity-80",children:"Bedtime"}),k.jsx("div",{className:"text-4xl font-black mt-1",children:n})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("button",{className:"rounded-xl px-4 py-2 border border-white/15 bg-white/10 hover:bg-white/20 font-semibold",onClick:()=>e(r=>({...r,bedtimeHour:Jd(r.bedtimeHour-1,0,23)})),children:"-1h"}),k.jsx("button",{className:"rounded-xl px-4 py-2 border border-white/15 bg-white/10 hover:bg-white/20 font-semibold",onClick:()=>e(r=>({...r,bedtimeHour:Jd(r.bedtimeHour+1,0,23)})),children:"+1h"})]})]}),k.jsxs("div",{className:"mt-6 flex items-center justify-between gap-3",children:[k.jsx("div",{className:"text-sm font-semibold",children:"Block after bedtime"}),k.jsx("button",{onClick:()=>e(r=>({...r,blockAfterBedtime:!r.blockAfterBedtime})),className:"rounded-full px-4 py-2 border font-extrabold "+(t.blockAfterBedtime?"bg-emerald-400/25 border-emerald-400/30 text-emerald-100":"bg-white/10 border-white/15"),children:t.blockAfterBedtime?"ON":"OFF"})]}),k.jsxs("div",{className:"mt-6 rounded-2xl p-4 border border-white/10 bg-white/10 dark:bg-white/5",children:[k.jsx("div",{className:"text-sm font-semibold",children:"Preview"}),k.jsxs("div",{className:"text-sm opacity-80 mt-1",children:["If a session starts after ",k.jsx("span",{className:"font-semibold",children:n}),", access will be"," ",k.jsx("span",{className:"font-semibold",children:t.blockAfterBedtime?"blocked":"allowed"}),"."]})]})]})]})]})}function rEe(t,e){const n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=t,i.click(),URL.revokeObjectURL(r)}function iEe(){const t={generatedAt:new Date().toISOString(),masteryBySubject:t3,weakAreas:WE,recentSessions:GE,weeklyMinutes:jj};return k.jsxs("div",{className:"space-y-5",children:[k.jsxs("div",{className:"flex items-start justify-between gap-4",children:[k.jsxs("div",{children:[k.jsx("div",{className:"text-3xl font-extrabold tracking-tight",children:"Reports"}),k.jsx("div",{className:"opacity-75 mt-1",children:"Parent summary report for printing and exporting (Use Case 03  Parent views dashboard analytics)."})]}),k.jsxs("div",{className:"hidden md:flex gap-2",children:[k.jsx(wa,{tone:"blue",children:"Printable"}),k.jsx(wa,{tone:"purple",children:"Exportable"})]})]}),k.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 md:gap-5",children:[k.jsx(ei,{title:"Quick Actions",subtitle:"Print or export the report",right:k.jsxs("div",{className:"flex gap-2",children:[k.jsxs("button",{onClick:()=>window.print(),className:"rounded-xl px-4 py-2 border border-white/15 bg-white/10 hover:bg-white/20 font-semibold flex items-center gap-2",children:[k.jsx(wQ,{className:"h-4 w-4"})," Print"]}),k.jsxs("button",{onClick:()=>rEe("edugalaxy-report.json",t),className:"rounded-xl px-4 py-2 border border-white/15 bg-white/10 hover:bg-white/20 font-semibold flex items-center gap-2",children:[k.jsx(fQ,{className:"h-4 w-4"})," Export JSON"]})]}),children:k.jsx("div",{className:"text-sm opacity-80",children:"Printing is optimized with minimal UI. Export includes mastery, weak areas, sessions, and weekly minutes."})}),k.jsx(ei,{title:"Weak Areas Summary",subtitle:"Actionable next steps",children:k.jsx("ul",{className:"space-y-2 text-sm",children:WE.map(e=>k.jsxs("li",{className:"rounded-xl px-3 py-2 bg-white/10 dark:bg-white/5 border border-white/10",children:[k.jsx("div",{className:"font-semibold",children:e.subject}),k.jsx("div",{className:"opacity-80",children:e.note})]},e.subject))})})]}),k.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 md:gap-5",children:[k.jsx(ei,{title:"Subject Mastery",subtitle:"Snapshot",children:k.jsx("div",{className:"space-y-2 text-sm",children:t3.map(e=>k.jsxs("div",{className:"flex items-center justify-between rounded-xl px-3 py-2 bg-white/10 dark:bg-white/5 border border-white/10",children:[k.jsx("div",{className:"font-semibold",children:e.subject}),k.jsxs("div",{className:"font-extrabold",children:[e.mastery,"%"]})]},e.subject))})}),k.jsx(ei,{title:"Recent Sessions",subtitle:"Last activities recorded",children:k.jsx("div",{className:"space-y-2 text-sm",children:GE.map(e=>k.jsxs("div",{className:"rounded-xl px-3 py-2 bg-white/10 dark:bg-white/5 border border-white/10",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("div",{className:"font-semibold",children:e.game}),k.jsx("div",{className:"opacity-70 text-xs",children:e.time})]}),k.jsx("div",{className:"opacity-80",children:e.outcome}),k.jsxs("div",{className:"opacity-70 text-xs mt-1",children:["Duration: ",e.duration," min"]})]},e.id))})})]})]})}const VU=[{q:"How can I support fractions at home?",a:"Try short 5-minute micro-practice: use pizza slices, money, or measuring cups. Praise effort, not speed. Keep sessions predictable: same time, same routine."},{q:"What does 'focus minutes' mean?",a:"It counts active learning time in games (movement + answers). Breaks are excluded. For ADHD, short bursts with breaks tend to work better than long sessions."},{q:"How should I set playtime limits?",a:"Start with a daily limit and a session limit. Example: 60 min/day, 25 min/session + 7 min break. Consistency matters more than strictness."}];function oEe(t){return t?"bg-gradient-to-r from-emerald-400/25 via-yellow-300/20 to-purple-400/25 border-white/20":"bg-white/15 dark:bg-white/10 border-white/15"}function aEe(){const[t,e]=U.useState([{role:"assistant",text:"Hi! Im your EduGalaxy AI helper. Ask me about limits, progress, or weak areas."}]),[n,r]=U.useState(""),i=U.useRef(null),o=U.useMemo(()=>VU.map(l=>l.q),[]);function a(){const l=i.current;l&&requestAnimationFrame(()=>l.scrollTop=l.scrollHeight)}function s(l){const u=l.trim();u&&(e(c=>[...c,{role:"user",text:u}]),r(""),setTimeout(()=>{const c=VU.find(d=>d.q.toLowerCase()===u.toLowerCase()),f=(c==null?void 0:c.a)||"I can help. Tell me what you want to improve: time control, weak areas, or motivation routines.";e(d=>[...d,{role:"assistant",text:f}]),a()},450),a())}return k.jsxs("div",{className:"panel stroke rounded-2xl overflow-hidden",children:[k.jsxs("div",{className:"px-5 py-4 border-b border-white/10 flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(Fj,{className:"h-5 w-5 opacity-85"}),k.jsx("div",{className:"font-extrabold",children:"AI Helper"})]}),k.jsx("div",{className:"text-xs opacity-70",children:"Use Case 05  AI Chat Interaction"})]}),k.jsx("div",{ref:i,className:"h-[360px] overflow-auto p-4 space-y-3",children:t.map((l,u)=>{const c=l.role==="user";return k.jsx(Ua.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25},className:c?"flex justify-end":"flex justify-start",children:k.jsx("div",{className:"max-w-[78%] rounded-2xl px-4 py-3 border "+oEe(c),children:k.jsx("div",{className:"text-sm leading-relaxed",children:l.text})})},u)})}),k.jsxs("div",{className:"p-4 border-t border-white/10",children:[k.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:o.map(l=>k.jsx("button",{onClick:()=>s(l),className:"text-xs px-3 py-1.5 rounded-full border border-white/15 bg-white/10 hover:bg-white/20",children:l},l))}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("input",{value:n,onChange:l=>r(l.target.value),onKeyDown:l=>l.key==="Enter"&&s(n),className:"flex-1 rounded-xl px-4 py-3 bg-white/10 border border-white/15 outline-none focus:ring-2 focus:ring-emerald-400/30",placeholder:"Ask a question..."}),k.jsx("button",{onClick:()=>s(n),className:"rounded-xl px-4 py-3 font-extrabold bg-gradient-to-r from-emerald-400/40 via-yellow-300/30 to-purple-400/40 border border-white/20 hover:brightness-110",children:"Send"})]})]})]})}function sEe(){return k.jsxs("div",{className:"space-y-5",children:[k.jsxs("div",{children:[k.jsx("div",{className:"text-3xl font-extrabold tracking-tight",children:"AI Helper"}),k.jsx("div",{className:"opacity-75 mt-1"})]}),k.jsx(aEe,{})]})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ud="161",Au={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Tu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},m6=0,gT=1,g6=2,lEe=3,v6=0,$1=1,zp=2,Yo=3,Ts=0,xi=1,ta=2,vs=0,Qu=1,S_=2,vT=3,yT=4,y6=5,ll=100,x6=101,_6=102,xT=103,_T=104,S6=200,b6=201,w6=202,M6=203,b_=204,w_=205,E6=206,A6=207,T6=208,P6=209,C6=210,O6=211,R6=212,I6=213,L6=214,N6=0,D6=1,k6=2,Jm=3,U6=4,F6=5,B6=6,z6=7,Ug=0,j6=1,V6=2,Na=0,H6=1,$6=2,W6=3,$2=4,G6=5,X6=6,ST="attached",q6="detached",W1=300,Ba=301,Nl=302,Uh=303,Qm=304,cd=306,eg=1e3,ni=1001,tg=1002,or=1003,M_=1004,uEe=1004,Ou=1005,cEe=1005,xn=1006,jp=1007,fEe=1007,Aa=1008,hEe=1008,Da=1009,Y6=1010,K6=1011,G1=1012,W2=1013,cs=1014,Rr=1015,vi=1016,G2=1017,X2=1018,Al=1020,Z6=1021,ri=1023,J6=1024,Q6=1025,Tl=1026,mc=1027,q2=1028,Y2=1029,e8=1030,K2=1031,Z2=1033,D0=33776,k0=33777,U0=33778,F0=33779,bT=35840,wT=35841,MT=35842,ET=35843,J2=36196,AT=37492,TT=37496,PT=37808,CT=37809,OT=37810,RT=37811,IT=37812,LT=37813,NT=37814,DT=37815,kT=37816,UT=37817,FT=37818,BT=37819,zT=37820,jT=37821,B0=36492,VT=36494,HT=36495,t8=36283,$T=36284,WT=36285,GT=36286,n8=2200,r8=2201,i8=2202,ng=2300,rg=2301,z0=2302,ju=2400,Vu=2401,ig=2402,X1=2500,Q2=2501,dEe=0,pEe=1,mEe=2,eO=3e3,Pl=3001,o8=3200,a8=3201,Gl=0,s8=1,Ki="",xr="srgb",za="srgb-linear",q1="display-p3",Fg="display-p3-linear",og="linear",wn="srgb",ag="rec709",sg="p3",gEe=0,Pu=7680,vEe=7681,yEe=7682,xEe=7683,_Ee=34055,SEe=34056,bEe=5386,wEe=512,MEe=513,EEe=514,AEe=515,TEe=516,PEe=517,CEe=518,XT=519,l8=512,u8=513,c8=514,tO=515,f8=516,h8=517,d8=518,p8=519,lg=35044,OEe=35048,REe=35040,IEe=35045,LEe=35049,NEe=35041,DEe=35046,kEe=35050,UEe=35042,FEe="100",qT="300 es",E_=1035,Ta=2e3,ug=2001;let Ds=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}};const qr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let HU=1234567;const ec=Math.PI/180,Fh=180/Math.PI;function to(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(qr[t&255]+qr[t>>8&255]+qr[t>>16&255]+qr[t>>24&255]+"-"+qr[e&255]+qr[e>>8&255]+"-"+qr[e>>16&15|64]+qr[e>>24&255]+"-"+qr[n&63|128]+qr[n>>8&255]+"-"+qr[n>>16&255]+qr[n>>24&255]+qr[r&255]+qr[r>>8&255]+qr[r>>16&255]+qr[r>>24&255]).toLowerCase()}function er(t,e,n){return Math.max(e,Math.min(n,t))}function nO(t,e){return(t%e+e)%e}function BEe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function zEe(t,e,n){return t!==e?(n-t)/(e-t):0}function Vp(t,e,n){return(1-n)*t+n*e}function jEe(t,e,n,r){return Vp(t,e,1-Math.exp(-n*r))}function VEe(t,e=1){return e-Math.abs(nO(t,e*2)-e)}function HEe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function $Ee(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function WEe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function GEe(t,e){return t+Math.random()*(e-t)}function XEe(t){return t*(.5-Math.random())}function qEe(t){t!==void 0&&(HU=t);let e=HU+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function YEe(t){return t*ec}function KEe(t){return t*Fh}function YT(t){return(t&t-1)===0&&t!==0}function ZEe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function A_(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function JEe(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),u=o((e+r)/2),c=a((e+r)/2),f=o((e-r)/2),d=a((e-r)/2),m=o((r-e)/2),y=a((r-e)/2);switch(i){case"XYX":t.set(s*c,l*f,l*d,s*u);break;case"YZY":t.set(l*d,s*c,l*f,s*u);break;case"ZXZ":t.set(l*f,l*d,s*c,s*u);break;case"XZX":t.set(s*c,l*y,l*m,s*u);break;case"YXY":t.set(l*m,s*c,l*y,s*u);break;case"ZYZ":t.set(l*y,l*m,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function mi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ut(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const m8={DEG2RAD:ec,RAD2DEG:Fh,generateUUID:to,clamp:er,euclideanModulo:nO,mapLinear:BEe,inverseLerp:zEe,lerp:Vp,damp:jEe,pingpong:VEe,smoothstep:HEe,smootherstep:$Ee,randInt:WEe,randFloat:GEe,randFloatSpread:XEe,seededRandom:qEe,degToRad:YEe,radToDeg:KEe,isPowerOfTwo:YT,ceilPowerOfTwo:ZEe,floorPowerOfTwo:A_,setQuaternionFromProperEuler:JEe,normalize:Ut,denormalize:mi};class Ce{constructor(e=0,n=0){Ce.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(er(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class jt{constructor(e,n,r,i,o,a,s,l,u){jt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,u)}set(e,n,r,i,o,a,s,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=n,c[4]=o,c[5]=l,c[6]=r,c[7]=a,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],u=r[1],c=r[4],f=r[7],d=r[2],m=r[5],y=r[8],x=i[0],v=i[3],g=i[6],_=i[1],S=i[4],w=i[7],M=i[2],E=i[5],T=i[8];return o[0]=a*x+s*_+l*M,o[3]=a*v+s*S+l*E,o[6]=a*g+s*w+l*T,o[1]=u*x+c*_+f*M,o[4]=u*v+c*S+f*E,o[7]=u*g+c*w+f*T,o[2]=d*x+m*_+y*M,o[5]=d*v+m*S+y*E,o[8]=d*g+m*w+y*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return n*a*c-n*s*u-r*o*c+r*s*l+i*o*u-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*a-s*u,d=s*l-c*o,m=u*o-a*l,y=n*f+r*d+i*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/y;return e[0]=f*x,e[1]=(i*u-c*r)*x,e[2]=(s*r-i*a)*x,e[3]=d*x,e[4]=(c*n-i*l)*x,e[5]=(i*o-s*n)*x,e[6]=m*x,e[7]=(r*l-u*n)*x,e[8]=(a*n-r*o)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),u=Math.sin(o);return this.set(r*l,r*u,-r*(l*a+u*s)+a+e,-i*u,i*l,-i*(-u*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(Fw.makeScale(e,n)),this}rotate(e){return this.premultiply(Fw.makeRotation(-e)),this}translate(e,n){return this.premultiply(Fw.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Fw=new jt;function g8(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const QEe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function jf(t,e){return new QEe[t](e)}function cg(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function v8(){const t=cg("canvas");return t.style.display="block",t}const $U={};function tc(t){t in $U||($U[t]=!0,console.warn(t))}const WU=new jt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),GU=new jt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),My={[za]:{transfer:og,primaries:ag,toReference:t=>t,fromReference:t=>t},[xr]:{transfer:wn,primaries:ag,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Fg]:{transfer:og,primaries:sg,toReference:t=>t.applyMatrix3(GU),fromReference:t=>t.applyMatrix3(WU)},[q1]:{transfer:wn,primaries:sg,toReference:t=>t.convertSRGBToLinear().applyMatrix3(GU),fromReference:t=>t.applyMatrix3(WU).convertLinearToSRGB()}},eAe=new Set([za,Fg]),fn={enabled:!0,_workingColorSpace:za,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!eAe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=My[e].toReference,i=My[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return My[t].primaries},getTransfer:function(t){return t===Ki?og:My[t].transfer}};function rh(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Bw(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let qc;class rO{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{qc===void 0&&(qc=cg("canvas")),qc.width=e.width,qc.height=e.height;const r=qc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=qc}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=cg("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=rh(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(rh(n[r]/255)*255):n[r]=rh(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let tAe=0;class Hu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:tAe++}),this.uuid=to(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(zw(i[a].image)):o.push(zw(i[a]))}else o=zw(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function zw(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?rO.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let nAe=0;class Gn extends Ds{constructor(e=Gn.DEFAULT_IMAGE,n=Gn.DEFAULT_MAPPING,r=ni,i=ni,o=xn,a=Aa,s=ri,l=Da,u=Gn.DEFAULT_ANISOTROPY,c=Ki){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:nAe++}),this.uuid=to(),this.name="",this.source=new Hu(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Ce(0,0),this.repeat=new Ce(1,1),this.center=new Ce(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new jt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(tc("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===Pl?xr:Ki),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==W1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case eg:e.x=e.x-Math.floor(e.x);break;case ni:e.x=e.x<0?0:1;break;case tg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case eg:e.y=e.y-Math.floor(e.y);break;case ni:e.y=e.y<0?0:1;break;case tg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return tc("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===xr?Pl:eO}set encoding(e){tc("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Pl?xr:Ki}}Gn.DEFAULT_IMAGE=null;Gn.DEFAULT_MAPPING=W1;Gn.DEFAULT_ANISOTROPY=1;class hn{constructor(e=0,n=0,r=0,i=1){hn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,u=l[0],c=l[4],f=l[8],d=l[1],m=l[5],y=l[9],x=l[2],v=l[6],g=l[10];if(Math.abs(c-d)<.01&&Math.abs(f-x)<.01&&Math.abs(y-v)<.01){if(Math.abs(c+d)<.1&&Math.abs(f+x)<.1&&Math.abs(y+v)<.1&&Math.abs(u+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(u+1)/2,w=(m+1)/2,M=(g+1)/2,E=(c+d)/4,T=(f+x)/4,O=(y+v)/4;return S>w&&S>M?S<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(S),i=E/r,o=T/r):w>M?w<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(w),r=E/i,o=O/i):M<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(M),r=T/o,i=O/o),this.set(r,i,o,n),this}let _=Math.sqrt((v-y)*(v-y)+(f-x)*(f-x)+(d-c)*(d-c));return Math.abs(_)<.001&&(_=1),this.x=(v-y)/_,this.y=(f-x)/_,this.z=(d-c)/_,this.w=Math.acos((u+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class y8 extends Ds{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new hn(0,0,e,n),this.scissorTest=!1,this.viewport=new hn(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(tc("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Pl?xr:Ki),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:xn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new Gn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Hu(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class oo extends y8{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class Y1 extends Gn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=or,this.minFilter=or,this.wrapR=ni,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class rAe extends oo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Y1(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class iO extends Gn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=or,this.minFilter=or,this.wrapR=ni,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class iAe extends oo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new iO(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class oAe extends oo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=o.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class oi{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const d=o[a+0],m=o[a+1],y=o[a+2],x=o[a+3];if(s===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(s===1){e[n+0]=d,e[n+1]=m,e[n+2]=y,e[n+3]=x;return}if(f!==x||l!==d||u!==m||c!==y){let v=1-s;const g=l*d+u*m+c*y+f*x,_=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){const M=Math.sqrt(S),E=Math.atan2(M,g*_);v=Math.sin(v*E)/M,s=Math.sin(s*E)/M}const w=s*_;if(l=l*v+d*w,u=u*v+m*w,c=c*v+y*w,f=f*v+x*w,v===1-s){const M=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=M,u*=M,c*=M,f*=M}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=o[a],d=o[a+1],m=o[a+2],y=o[a+3];return e[n]=s*y+c*f+l*m-u*d,e[n+1]=l*y+c*d+u*f-s*m,e[n+2]=u*y+c*m+s*d-l*f,e[n+3]=c*y-s*f-l*d-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,u=s(r/2),c=s(i/2),f=s(o/2),d=l(r/2),m=l(i/2),y=l(o/2);switch(a){case"XYZ":this._x=d*c*f+u*m*y,this._y=u*m*f-d*c*y,this._z=u*c*y+d*m*f,this._w=u*c*f-d*m*y;break;case"YXZ":this._x=d*c*f+u*m*y,this._y=u*m*f-d*c*y,this._z=u*c*y-d*m*f,this._w=u*c*f+d*m*y;break;case"ZXY":this._x=d*c*f-u*m*y,this._y=u*m*f+d*c*y,this._z=u*c*y+d*m*f,this._w=u*c*f-d*m*y;break;case"ZYX":this._x=d*c*f-u*m*y,this._y=u*m*f+d*c*y,this._z=u*c*y-d*m*f,this._w=u*c*f+d*m*y;break;case"YZX":this._x=d*c*f+u*m*y,this._y=u*m*f+d*c*y,this._z=u*c*y-d*m*f,this._w=u*c*f-d*m*y;break;case"XZY":this._x=d*c*f-u*m*y,this._y=u*m*f-d*c*y,this._z=u*c*y+d*m*f,this._w=u*c*f+d*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],u=n[2],c=n[6],f=n[10],d=r+s+f;if(d>0){const m=.5/Math.sqrt(d+1);this._w=.25/m,this._x=(c-l)*m,this._y=(o-u)*m,this._z=(a-i)*m}else if(r>s&&r>f){const m=2*Math.sqrt(1+r-s-f);this._w=(c-l)/m,this._x=.25*m,this._y=(i+a)/m,this._z=(o+u)/m}else if(s>f){const m=2*Math.sqrt(1+s-r-f);this._w=(o-u)/m,this._x=(i+a)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+f-r-s);this._w=(a-i)/m,this._x=(o+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(er(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+a*s+i*u-o*l,this._y=i*c+a*l+o*s-r*u,this._z=o*c+a*u+r*l-i*s,this._w=a*c-r*s-i*l-o*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*e._w+r*e._x+i*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const m=1-n;return this._w=m*a+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*o+n*this._z,this.normalize(),this}const u=Math.sqrt(l),c=Math.atan2(u,s),f=Math.sin((1-n)*c)/u,d=Math.sin(n*c)/u;return this._w=a*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=o*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(o),r*Math.cos(o),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class K{constructor(e=0,n=0,r=0){K.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(XU.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(XU.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,u=2*(a*i-s*r),c=2*(s*n-o*i),f=2*(o*r-a*n);return this.x=n+l*u+a*f-s*c,this.y=r+l*c+s*u-o*f,this.z=i+l*f+o*c-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return jw.copy(this).projectOnVector(e),this.sub(jw)}reflect(e){return this.sub(jw.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(er(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const jw=new K,XU=new oi;class _i{constructor(e=new K(1/0,1/0,1/0),n=new K(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ho.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ho.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ho.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,Ho):Ho.fromBufferAttribute(o,a),Ho.applyMatrix4(e.matrixWorld),this.expandByPoint(Ho);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Ey.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Ey.copy(r.boundingBox)),Ey.applyMatrix4(e.matrixWorld),this.union(Ey)}const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ho),Ho.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Qd),Ay.subVectors(this.max,Qd),Yc.subVectors(e.a,Qd),Kc.subVectors(e.b,Qd),Zc.subVectors(e.c,Qd),Gs.subVectors(Kc,Yc),Xs.subVectors(Zc,Kc),uu.subVectors(Yc,Zc);let n=[0,-Gs.z,Gs.y,0,-Xs.z,Xs.y,0,-uu.z,uu.y,Gs.z,0,-Gs.x,Xs.z,0,-Xs.x,uu.z,0,-uu.x,-Gs.y,Gs.x,0,-Xs.y,Xs.x,0,-uu.y,uu.x,0];return!Vw(n,Yc,Kc,Zc,Ay)||(n=[1,0,0,0,1,0,0,0,1],!Vw(n,Yc,Kc,Zc,Ay))?!1:(Ty.crossVectors(Gs,Xs),n=[Ty.x,Ty.y,Ty.z],Vw(n,Yc,Kc,Zc,Ay))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ho).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ho).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ka[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ka[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ka[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ka[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ka[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ka[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ka[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ka[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ka),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ka=[new K,new K,new K,new K,new K,new K,new K,new K],Ho=new K,Ey=new _i,Yc=new K,Kc=new K,Zc=new K,Gs=new K,Xs=new K,uu=new K,Qd=new K,Ay=new K,Ty=new K,cu=new K;function Vw(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){cu.fromArray(t,o);const s=i.x*Math.abs(cu.x)+i.y*Math.abs(cu.y)+i.z*Math.abs(cu.z),l=e.dot(cu),u=n.dot(cu),c=r.dot(cu);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}const aAe=new _i,ep=new K,Hw=new K;class ai{constructor(e=new K,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):aAe.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ep.subVectors(e,this.center);const n=ep.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(ep,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Hw.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ep.copy(e.center).add(Hw)),this.expandByPoint(ep.copy(e.center).sub(Hw))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Za=new K,$w=new K,Py=new K,qs=new K,Ww=new K,Cy=new K,Gw=new K;class Ac{constructor(e=new K,n=new K(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Za)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Za.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Za.copy(this.origin).addScaledVector(this.direction,n),Za.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){$w.copy(e).add(n).multiplyScalar(.5),Py.copy(n).sub(e).normalize(),qs.copy(this.origin).sub($w);const o=e.distanceTo(n)*.5,a=-this.direction.dot(Py),s=qs.dot(this.direction),l=-qs.dot(Py),u=qs.lengthSq(),c=Math.abs(1-a*a);let f,d,m,y;if(c>0)if(f=a*l-s,d=a*s-l,y=o*c,f>=0)if(d>=-y)if(d<=y){const x=1/c;f*=x,d*=x,m=f*(f+a*d+2*s)+d*(a*f+d+2*l)+u}else d=o,f=Math.max(0,-(a*d+s)),m=-f*f+d*(d+2*l)+u;else d=-o,f=Math.max(0,-(a*d+s)),m=-f*f+d*(d+2*l)+u;else d<=-y?(f=Math.max(0,-(-a*o+s)),d=f>0?-o:Math.min(Math.max(-o,-l),o),m=-f*f+d*(d+2*l)+u):d<=y?(f=0,d=Math.min(Math.max(-o,-l),o),m=d*(d+2*l)+u):(f=Math.max(0,-(a*o+s)),d=f>0?o:Math.min(Math.max(-o,-l),o),m=-f*f+d*(d+2*l)+u);else d=a>0?-o:o,f=Math.max(0,-(a*d+s)),m=-f*f+d*(d+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy($w).addScaledVector(Py,d),m}intersectSphere(e,n){Za.subVectors(e.center,this.origin);const r=Za.dot(this.direction),i=Za.dot(Za)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,d=this.origin;return u>=0?(r=(e.min.x-d.x)*u,i=(e.max.x-d.x)*u):(r=(e.max.x-d.x)*u,i=(e.min.x-d.x)*u),c>=0?(o=(e.min.y-d.y)*c,a=(e.max.y-d.y)*c):(o=(e.max.y-d.y)*c,a=(e.min.y-d.y)*c),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),f>=0?(s=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(s=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Za)!==null}intersectTriangle(e,n,r,i,o){Ww.subVectors(n,e),Cy.subVectors(r,e),Gw.crossVectors(Ww,Cy);let a=this.direction.dot(Gw),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;qs.subVectors(this.origin,e);const l=s*this.direction.dot(Cy.crossVectors(qs,Cy));if(l<0)return null;const u=s*this.direction.dot(Ww.cross(qs));if(u<0||l+u>a)return null;const c=-s*qs.dot(Gw);return c<0?null:this.at(c/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ct{constructor(e,n,r,i,o,a,s,l,u,c,f,d,m,y,x,v){Ct.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,u,c,f,d,m,y,x,v)}set(e,n,r,i,o,a,s,l,u,c,f,d,m,y,x,v){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=o,g[5]=a,g[9]=s,g[13]=l,g[2]=u,g[6]=c,g[10]=f,g[14]=d,g[3]=m,g[7]=y,g[11]=x,g[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ct().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Jc.setFromMatrixColumn(e,0).length(),o=1/Jc.setFromMatrixColumn(e,1).length(),a=1/Jc.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const d=a*c,m=a*f,y=s*c,x=s*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=m+y*u,n[5]=d-x*u,n[9]=-s*l,n[2]=x-d*u,n[6]=y+m*u,n[10]=a*l}else if(e.order==="YXZ"){const d=l*c,m=l*f,y=u*c,x=u*f;n[0]=d+x*s,n[4]=y*s-m,n[8]=a*u,n[1]=a*f,n[5]=a*c,n[9]=-s,n[2]=m*s-y,n[6]=x+d*s,n[10]=a*l}else if(e.order==="ZXY"){const d=l*c,m=l*f,y=u*c,x=u*f;n[0]=d-x*s,n[4]=-a*f,n[8]=y+m*s,n[1]=m+y*s,n[5]=a*c,n[9]=x-d*s,n[2]=-a*u,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const d=a*c,m=a*f,y=s*c,x=s*f;n[0]=l*c,n[4]=y*u-m,n[8]=d*u+x,n[1]=l*f,n[5]=x*u+d,n[9]=m*u-y,n[2]=-u,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const d=a*l,m=a*u,y=s*l,x=s*u;n[0]=l*c,n[4]=x-d*f,n[8]=y*f+m,n[1]=f,n[5]=a*c,n[9]=-s*c,n[2]=-u*c,n[6]=m*f+y,n[10]=d-x*f}else if(e.order==="XZY"){const d=a*l,m=a*u,y=s*l,x=s*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=d*f+x,n[5]=a*c,n[9]=m*f-y,n[2]=y*f-m,n[6]=s*c,n[10]=x*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(sAe,e,lAe)}lookAt(e,n,r){const i=this.elements;return $i.subVectors(e,n),$i.lengthSq()===0&&($i.z=1),$i.normalize(),Ys.crossVectors(r,$i),Ys.lengthSq()===0&&(Math.abs(r.z)===1?$i.x+=1e-4:$i.z+=1e-4,$i.normalize(),Ys.crossVectors(r,$i)),Ys.normalize(),Oy.crossVectors($i,Ys),i[0]=Ys.x,i[4]=Oy.x,i[8]=$i.x,i[1]=Ys.y,i[5]=Oy.y,i[9]=$i.y,i[2]=Ys.z,i[6]=Oy.z,i[10]=$i.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],u=r[12],c=r[1],f=r[5],d=r[9],m=r[13],y=r[2],x=r[6],v=r[10],g=r[14],_=r[3],S=r[7],w=r[11],M=r[15],E=i[0],T=i[4],O=i[8],N=i[12],P=i[1],R=i[5],j=i[9],Y=i[13],F=i[2],G=i[6],$=i[10],te=i[14],B=i[3],q=i[7],Z=i[11],oe=i[15];return o[0]=a*E+s*P+l*F+u*B,o[4]=a*T+s*R+l*G+u*q,o[8]=a*O+s*j+l*$+u*Z,o[12]=a*N+s*Y+l*te+u*oe,o[1]=c*E+f*P+d*F+m*B,o[5]=c*T+f*R+d*G+m*q,o[9]=c*O+f*j+d*$+m*Z,o[13]=c*N+f*Y+d*te+m*oe,o[2]=y*E+x*P+v*F+g*B,o[6]=y*T+x*R+v*G+g*q,o[10]=y*O+x*j+v*$+g*Z,o[14]=y*N+x*Y+v*te+g*oe,o[3]=_*E+S*P+w*F+M*B,o[7]=_*T+S*R+w*G+M*q,o[11]=_*O+S*j+w*$+M*Z,o[15]=_*N+S*Y+w*te+M*oe,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],u=e[13],c=e[2],f=e[6],d=e[10],m=e[14],y=e[3],x=e[7],v=e[11],g=e[15];return y*(+o*l*f-i*u*f-o*s*d+r*u*d+i*s*m-r*l*m)+x*(+n*l*m-n*u*d+o*a*d-i*a*m+i*u*c-o*l*c)+v*(+n*u*f-n*s*m-o*a*f+r*a*m+o*s*c-r*u*c)+g*(-i*s*c-n*l*f+n*s*d+i*a*f-r*a*d+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],d=e[10],m=e[11],y=e[12],x=e[13],v=e[14],g=e[15],_=f*v*u-x*d*u+x*l*m-s*v*m-f*l*g+s*d*g,S=y*d*u-c*v*u-y*l*m+a*v*m+c*l*g-a*d*g,w=c*x*u-y*f*u+y*s*m-a*x*m-c*s*g+a*f*g,M=y*f*l-c*x*l-y*s*d+a*x*d+c*s*v-a*f*v,E=n*_+r*S+i*w+o*M;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/E;return e[0]=_*T,e[1]=(x*d*o-f*v*o-x*i*m+r*v*m+f*i*g-r*d*g)*T,e[2]=(s*v*o-x*l*o+x*i*u-r*v*u-s*i*g+r*l*g)*T,e[3]=(f*l*o-s*d*o-f*i*u+r*d*u+s*i*m-r*l*m)*T,e[4]=S*T,e[5]=(c*v*o-y*d*o+y*i*m-n*v*m-c*i*g+n*d*g)*T,e[6]=(y*l*o-a*v*o-y*i*u+n*v*u+a*i*g-n*l*g)*T,e[7]=(a*d*o-c*l*o+c*i*u-n*d*u-a*i*m+n*l*m)*T,e[8]=w*T,e[9]=(y*f*o-c*x*o-y*r*m+n*x*m+c*r*g-n*f*g)*T,e[10]=(a*x*o-y*s*o+y*r*u-n*x*u-a*r*g+n*s*g)*T,e[11]=(c*s*o-a*f*o-c*r*u+n*f*u+a*r*m-n*s*m)*T,e[12]=M*T,e[13]=(c*x*i-y*f*i+y*r*d-n*x*d-c*r*v+n*f*v)*T,e[14]=(y*s*i-a*x*i-y*r*l+n*x*l+a*r*v-n*s*v)*T,e[15]=(a*f*i-c*s*i+c*r*l-n*f*l-a*r*d+n*s*d)*T,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,u=o*a,c=o*s;return this.set(u*a+r,u*s-i*l,u*l+i*s,0,u*s+i*l,c*s+r,c*l-i*a,0,u*l-i*s,c*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,u=o+o,c=a+a,f=s+s,d=o*u,m=o*c,y=o*f,x=a*c,v=a*f,g=s*f,_=l*u,S=l*c,w=l*f,M=r.x,E=r.y,T=r.z;return i[0]=(1-(x+g))*M,i[1]=(m+w)*M,i[2]=(y-S)*M,i[3]=0,i[4]=(m-w)*E,i[5]=(1-(d+g))*E,i[6]=(v+_)*E,i[7]=0,i[8]=(y+S)*T,i[9]=(v-_)*T,i[10]=(1-(d+x))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=Jc.set(i[0],i[1],i[2]).length();const a=Jc.set(i[4],i[5],i[6]).length(),s=Jc.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],$o.copy(this);const u=1/o,c=1/a,f=1/s;return $o.elements[0]*=u,$o.elements[1]*=u,$o.elements[2]*=u,$o.elements[4]*=c,$o.elements[5]*=c,$o.elements[6]*=c,$o.elements[8]*=f,$o.elements[9]*=f,$o.elements[10]*=f,n.setFromRotationMatrix($o),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=Ta){const l=this.elements,u=2*o/(n-e),c=2*o/(r-i),f=(n+e)/(n-e),d=(r+i)/(r-i);let m,y;if(s===Ta)m=-(a+o)/(a-o),y=-2*a*o/(a-o);else if(s===ug)m=-a/(a-o),y=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=u,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=c,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=Ta){const l=this.elements,u=1/(n-e),c=1/(r-i),f=1/(a-o),d=(n+e)*u,m=(r+i)*c;let y,x;if(s===Ta)y=(a+o)*f,x=-2*f;else if(s===ug)y=o*f,x=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Jc=new K,$o=new Ct,sAe=new K(0,0,0),lAe=new K(1,1,1),Ys=new K,Oy=new K,$i=new K,qU=new Ct,YU=new oi;class Bg{constructor(e=0,n=0,r=0,i=Bg.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],u=i[5],c=i[9],f=i[2],d=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(er(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-er(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(er(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-er(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,m),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(er(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,m));break;case"XZY":this._z=Math.asin(-er(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return qU.makeRotationFromQuaternion(e),this.setFromRotationMatrix(qU,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return YU.setFromEuler(this),this.setFromQuaternion(YU,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Bg.DEFAULT_ORDER="XYZ";class nc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let uAe=0;const KU=new K,Qc=new oi,Ja=new Ct,Ry=new K,tp=new K,cAe=new K,fAe=new oi,ZU=new K(1,0,0),JU=new K(0,1,0),QU=new K(0,0,1),hAe={type:"added"},dAe={type:"removed"};class sn extends Ds{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:uAe++}),this.uuid=to(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=sn.DEFAULT_UP.clone();const e=new K,n=new Bg,r=new oi,i=new K(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ct},normalMatrix:{value:new jt}}),this.matrix=new Ct,this.matrixWorld=new Ct,this.matrixAutoUpdate=sn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=sn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new nc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Qc.setFromAxisAngle(e,n),this.quaternion.multiply(Qc),this}rotateOnWorldAxis(e,n){return Qc.setFromAxisAngle(e,n),this.quaternion.premultiply(Qc),this}rotateX(e){return this.rotateOnAxis(ZU,e)}rotateY(e){return this.rotateOnAxis(JU,e)}rotateZ(e){return this.rotateOnAxis(QU,e)}translateOnAxis(e,n){return KU.copy(e).applyQuaternion(this.quaternion),this.position.add(KU.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(ZU,e)}translateY(e){return this.translateOnAxis(JU,e)}translateZ(e){return this.translateOnAxis(QU,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ja.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Ry.copy(e):Ry.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),tp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ja.lookAt(tp,Ry,this.up):Ja.lookAt(Ry,tp,this.up),this.quaternion.setFromRotationMatrix(Ja),i&&(Ja.extractRotation(i.matrixWorld),Qc.setFromRotationMatrix(Ja),this.quaternion.premultiply(Qc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(hAe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(dAe)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ja.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ja.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ja),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tp,e,cAe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tp,fAe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++){const s=i[o];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];o(e.shapes,f)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),u=a(e.textures),c=a(e.images),f=a(e.shapes),d=a(e.skeletons),m=a(e.animations),y=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),m.length>0&&(r.animations=m),y.length>0&&(r.nodes=y)}return r.object=i,r;function a(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}sn.DEFAULT_UP=new K(0,1,0);sn.DEFAULT_MATRIX_AUTO_UPDATE=!0;sn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Wo=new K,Qa=new K,Xw=new K,es=new K,ef=new K,tf=new K,eF=new K,qw=new K,Yw=new K,Kw=new K;class Zi{constructor(e=new K,n=new K,r=new K){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Wo.subVectors(e,n),i.cross(Wo);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Wo.subVectors(i,n),Qa.subVectors(r,n),Xw.subVectors(e,n);const a=Wo.dot(Wo),s=Wo.dot(Qa),l=Wo.dot(Xw),u=Qa.dot(Qa),c=Qa.dot(Xw),f=a*u-s*s;if(f===0)return o.set(0,0,0),null;const d=1/f,m=(u*l-s*c)*d,y=(a*c-s*l)*d;return o.set(1-m-y,y,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,es)===null?!1:es.x>=0&&es.y>=0&&es.x+es.y<=1}static getInterpolation(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,es)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,es.x),l.addScaledVector(a,es.y),l.addScaledVector(s,es.z),l)}static isFrontFacing(e,n,r,i){return Wo.subVectors(r,n),Qa.subVectors(e,n),Wo.cross(Qa).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Wo.subVectors(this.c,this.b),Qa.subVectors(this.a,this.b),Wo.cross(Qa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Zi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Zi.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return Zi.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return Zi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Zi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;ef.subVectors(i,r),tf.subVectors(o,r),qw.subVectors(e,r);const l=ef.dot(qw),u=tf.dot(qw);if(l<=0&&u<=0)return n.copy(r);Yw.subVectors(e,i);const c=ef.dot(Yw),f=tf.dot(Yw);if(c>=0&&f<=c)return n.copy(i);const d=l*f-c*u;if(d<=0&&l>=0&&c<=0)return a=l/(l-c),n.copy(r).addScaledVector(ef,a);Kw.subVectors(e,o);const m=ef.dot(Kw),y=tf.dot(Kw);if(y>=0&&m<=y)return n.copy(o);const x=m*u-l*y;if(x<=0&&u>=0&&y<=0)return s=u/(u-y),n.copy(r).addScaledVector(tf,s);const v=c*y-m*f;if(v<=0&&f-c>=0&&m-y>=0)return eF.subVectors(o,i),s=(f-c)/(f-c+(m-y)),n.copy(i).addScaledVector(eF,s);const g=1/(v+x+d);return a=x*g,s=d*g,n.copy(r).addScaledVector(ef,a).addScaledVector(tf,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const x8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ks={h:0,s:0,l:0},Iy={h:0,s:0,l:0};function Zw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class ot{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=xr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,fn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=fn.workingColorSpace){return this.r=e,this.g=n,this.b=r,fn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=fn.workingColorSpace){if(e=nO(e,1),n=er(n,0,1),r=er(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=Zw(a,o,e+1/3),this.g=Zw(a,o,e),this.b=Zw(a,o,e-1/3)}return fn.toWorkingColorSpace(this,i),this}setStyle(e,n=xr){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=xr){const r=x8[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=rh(e.r),this.g=rh(e.g),this.b=rh(e.b),this}copyLinearToSRGB(e){return this.r=Bw(e.r),this.g=Bw(e.g),this.b=Bw(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=xr){return fn.fromWorkingColorSpace(Yr.copy(this),e),Math.round(er(Yr.r*255,0,255))*65536+Math.round(er(Yr.g*255,0,255))*256+Math.round(er(Yr.b*255,0,255))}getHexString(e=xr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=fn.workingColorSpace){fn.fromWorkingColorSpace(Yr.copy(this),n);const r=Yr.r,i=Yr.g,o=Yr.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,u;const c=(s+a)/2;if(s===a)l=0,u=0;else{const f=a-s;switch(u=c<=.5?f/(a+s):f/(2-a-s),a){case r:l=(i-o)/f+(i<o?6:0);break;case i:l=(o-r)/f+2;break;case o:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=fn.workingColorSpace){return fn.fromWorkingColorSpace(Yr.copy(this),n),e.r=Yr.r,e.g=Yr.g,e.b=Yr.b,e}getStyle(e=xr){fn.fromWorkingColorSpace(Yr.copy(this),e);const n=Yr.r,r=Yr.g,i=Yr.b;return e!==xr?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Ks),this.setHSL(Ks.h+e,Ks.s+n,Ks.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ks),e.getHSL(Iy);const r=Vp(Ks.h,Iy.h,n),i=Vp(Ks.s,Iy.s,n),o=Vp(Ks.l,Iy.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Yr=new ot;ot.NAMES=x8;let pAe=0;class jr extends Ds{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:pAe++}),this.uuid=to(),this.name="",this.type="Material",this.blending=Qu,this.side=Ts,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=b_,this.blendDst=w_,this.blendEquation=ll,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ot(0,0,0),this.blendAlpha=0,this.depthFunc=Jm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=XT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Pu,this.stencilZFail=Pu,this.stencilZPass=Pu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Qu&&(r.blending=this.blending),this.side!==Ts&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==b_&&(r.blendSrc=this.blendSrc),this.blendDst!==w_&&(r.blendDst=this.blendDst),this.blendEquation!==ll&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Jm&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==XT&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Pu&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Pu&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Pu&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Xl extends jr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ug,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const os=mAe();function mAe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,o[l]=u|c}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function Oi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=er(t,-65504,65504),os.floatView[0]=t;const e=os.uint32View[0],n=e>>23&511;return os.baseTable[n]+((e&8388607)>>os.shiftTable[n])}function Sp(t){const e=t>>10;return os.uint32View[0]=os.mantissaTable[os.offsetTable[e]+(t&1023)]+os.exponentTable[e],os.floatView[0]}const $u={toHalfFloat:Oi,fromHalfFloat:Sp},cr=new K,Ly=new Ce;class pn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=lg,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Rr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return tc("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Ly.fromBufferAttribute(this,n),Ly.applyMatrix3(e),this.setXY(n,Ly.x,Ly.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)cr.fromBufferAttribute(this,n),cr.applyMatrix3(e),this.setXYZ(n,cr.x,cr.y,cr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)cr.fromBufferAttribute(this,n),cr.applyMatrix4(e),this.setXYZ(n,cr.x,cr.y,cr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)cr.fromBufferAttribute(this,n),cr.applyNormalMatrix(e),this.setXYZ(n,cr.x,cr.y,cr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)cr.fromBufferAttribute(this,n),cr.transformDirection(e),this.setXYZ(n,cr.x,cr.y,cr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=mi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ut(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=mi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=mi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=mi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=mi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array),o=Ut(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==lg&&(e.usage=this.usage),e}}class gAe extends pn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class vAe extends pn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class yAe extends pn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class xAe extends pn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class oO extends pn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class _Ae extends pn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class aO extends pn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class SAe extends pn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Sp(this.array[e*this.itemSize]);return this.normalized&&(n=mi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize]=Oi(n),this}getY(e){let n=Sp(this.array[e*this.itemSize+1]);return this.normalized&&(n=mi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+1]=Oi(n),this}getZ(e){let n=Sp(this.array[e*this.itemSize+2]);return this.normalized&&(n=mi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+2]=Oi(n),this}getW(e){let n=Sp(this.array[e*this.itemSize+3]);return this.normalized&&(n=mi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+3]=Oi(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array)),this.array[e+0]=Oi(n),this.array[e+1]=Oi(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array)),this.array[e+0]=Oi(n),this.array[e+1]=Oi(r),this.array[e+2]=Oi(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array),o=Ut(o,this.array)),this.array[e+0]=Oi(n),this.array[e+1]=Oi(r),this.array[e+2]=Oi(i),this.array[e+3]=Oi(o),this}}class mt extends pn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class bAe extends pn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let wAe=0;const wo=new Ct,Jw=new sn,nf=new K,Wi=new _i,np=new _i,Pr=new K;class Bt extends Ds{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:wAe++}),this.uuid=to(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(g8(e)?aO:oO)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new jt().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return wo.makeRotationFromQuaternion(e),this.applyMatrix4(wo),this}rotateX(e){return wo.makeRotationX(e),this.applyMatrix4(wo),this}rotateY(e){return wo.makeRotationY(e),this.applyMatrix4(wo),this}rotateZ(e){return wo.makeRotationZ(e),this.applyMatrix4(wo),this}translate(e,n,r){return wo.makeTranslation(e,n,r),this.applyMatrix4(wo),this}scale(e,n,r){return wo.makeScale(e,n,r),this.applyMatrix4(wo),this}lookAt(e){return Jw.lookAt(e),Jw.updateMatrix(),this.applyMatrix4(Jw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(nf).negate(),this.translate(nf.x,nf.y,nf.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new mt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _i);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new K(-1/0,-1/0,-1/0),new K(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Wi.setFromBufferAttribute(o),this.morphTargetsRelative?(Pr.addVectors(this.boundingBox.min,Wi.min),this.boundingBox.expandByPoint(Pr),Pr.addVectors(this.boundingBox.max,Wi.max),this.boundingBox.expandByPoint(Pr)):(this.boundingBox.expandByPoint(Wi.min),this.boundingBox.expandByPoint(Wi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ai);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new K,1/0);return}if(e){const r=this.boundingSphere.center;if(Wi.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];np.setFromBufferAttribute(s),this.morphTargetsRelative?(Pr.addVectors(Wi.min,np.min),Wi.expandByPoint(Pr),Pr.addVectors(Wi.max,np.max),Wi.expandByPoint(Pr)):(Wi.expandByPoint(np.min),Wi.expandByPoint(np.max))}Wi.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)Pr.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Pr));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let u=0,c=s.count;u<c;u++)Pr.fromBufferAttribute(s,u),l&&(nf.fromBufferAttribute(e,u),Pr.add(nf)),i=Math.max(i,r.distanceToSquared(Pr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,o=n.normal.array,a=n.uv.array,s=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new pn(new Float32Array(4*s),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let P=0;P<s;P++)u[P]=new K,c[P]=new K;const f=new K,d=new K,m=new K,y=new Ce,x=new Ce,v=new Ce,g=new K,_=new K;function S(P,R,j){f.fromArray(i,P*3),d.fromArray(i,R*3),m.fromArray(i,j*3),y.fromArray(a,P*2),x.fromArray(a,R*2),v.fromArray(a,j*2),d.sub(f),m.sub(f),x.sub(y),v.sub(y);const Y=1/(x.x*v.y-v.x*x.y);isFinite(Y)&&(g.copy(d).multiplyScalar(v.y).addScaledVector(m,-x.y).multiplyScalar(Y),_.copy(m).multiplyScalar(x.x).addScaledVector(d,-v.x).multiplyScalar(Y),u[P].add(g),u[R].add(g),u[j].add(g),c[P].add(_),c[R].add(_),c[j].add(_))}let w=this.groups;w.length===0&&(w=[{start:0,count:r.length}]);for(let P=0,R=w.length;P<R;++P){const j=w[P],Y=j.start,F=j.count;for(let G=Y,$=Y+F;G<$;G+=3)S(r[G+0],r[G+1],r[G+2])}const M=new K,E=new K,T=new K,O=new K;function N(P){T.fromArray(o,P*3),O.copy(T);const R=u[P];M.copy(R),M.sub(T.multiplyScalar(T.dot(R))).normalize(),E.crossVectors(O,R);const Y=E.dot(c[P])<0?-1:1;l[P*4]=M.x,l[P*4+1]=M.y,l[P*4+2]=M.z,l[P*4+3]=Y}for(let P=0,R=w.length;P<R;++P){const j=w[P],Y=j.start,F=j.count;for(let G=Y,$=Y+F;G<$;G+=3)N(r[G+0]),N(r[G+1]),N(r[G+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new pn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,m=r.count;d<m;d++)r.setXYZ(d,0,0,0);const i=new K,o=new K,a=new K,s=new K,l=new K,u=new K,c=new K,f=new K;if(e)for(let d=0,m=e.count;d<m;d+=3){const y=e.getX(d+0),x=e.getX(d+1),v=e.getX(d+2);i.fromBufferAttribute(n,y),o.fromBufferAttribute(n,x),a.fromBufferAttribute(n,v),c.subVectors(a,o),f.subVectors(i,o),c.cross(f),s.fromBufferAttribute(r,y),l.fromBufferAttribute(r,x),u.fromBufferAttribute(r,v),s.add(c),l.add(c),u.add(c),r.setXYZ(y,s.x,s.y,s.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(v,u.x,u.y,u.z)}else for(let d=0,m=n.count;d<m;d+=3)i.fromBufferAttribute(n,d+0),o.fromBufferAttribute(n,d+1),a.fromBufferAttribute(n,d+2),c.subVectors(a,o),f.subVectors(i,o),c.cross(f),r.setXYZ(d+0,c.x,c.y,c.z),r.setXYZ(d+1,c.x,c.y,c.z),r.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Pr.fromBufferAttribute(e,n),Pr.normalize(),e.setXYZ(n,Pr.x,Pr.y,Pr.z)}toNonIndexed(){function e(s,l){const u=s.array,c=s.itemSize,f=s.normalized,d=new u.constructor(l.length*c);let m=0,y=0;for(let x=0,v=l.length;x<v;x++){s.isInterleavedBufferAttribute?m=l[x]*s.data.stride+s.offset:m=l[x]*c;for(let g=0;g<c;g++)d[y++]=u[m++]}return new pn(d,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Bt,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],u=e(l,r);n.setAttribute(s,u)}const o=this.morphAttributes;for(const s in o){const l=[],u=o[s];for(let c=0,f=u.length;c<f;c++){const d=u[c],m=e(d,r);l.push(m)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const u=a[s];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,d=u.length;f<d;f++){const m=u[f];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const o=e.morphAttributes;for(const u in o){const c=[],f=o[u];for(let d=0,m=f.length;d<m;d++)c.push(f[d].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,c=a.length;u<c;u++){const f=a[u];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const tF=new Ct,fu=new Ac,Ny=new ai,nF=new K,rf=new K,of=new K,af=new K,Qw=new K,Dy=new K,ky=new Ce,Uy=new Ce,Fy=new Ce,rF=new K,iF=new K,oF=new K,By=new K,zy=new K;class tr extends sn{constructor(e=new Bt,n=new Xl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){Dy.set(0,0,0);for(let l=0,u=o.length;l<u;l++){const c=s[l],f=o[l];c!==0&&(Qw.fromBufferAttribute(f,e),a?Dy.addScaledVector(Qw,c):Dy.addScaledVector(Qw.sub(n),c))}n.add(Dy)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Ny.copy(r.boundingSphere),Ny.applyMatrix4(o),fu.copy(e.ray).recast(e.near),!(Ny.containsPoint(fu.origin)===!1&&(fu.intersectSphere(Ny,nF)===null||fu.origin.distanceToSquared(nF)>(e.far-e.near)**2))&&(tF.copy(o).invert(),fu.copy(e.ray).applyMatrix4(tF),!(r.boundingBox!==null&&fu.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,fu)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,u=o.attributes.uv,c=o.attributes.uv1,f=o.attributes.normal,d=o.groups,m=o.drawRange;if(s!==null)if(Array.isArray(a))for(let y=0,x=d.length;y<x;y++){const v=d[y],g=a[v.materialIndex],_=Math.max(v.start,m.start),S=Math.min(s.count,Math.min(v.start+v.count,m.start+m.count));for(let w=_,M=S;w<M;w+=3){const E=s.getX(w),T=s.getX(w+1),O=s.getX(w+2);i=jy(this,g,e,r,u,c,f,E,T,O),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const y=Math.max(0,m.start),x=Math.min(s.count,m.start+m.count);for(let v=y,g=x;v<g;v+=3){const _=s.getX(v),S=s.getX(v+1),w=s.getX(v+2);i=jy(this,a,e,r,u,c,f,_,S,w),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let y=0,x=d.length;y<x;y++){const v=d[y],g=a[v.materialIndex],_=Math.max(v.start,m.start),S=Math.min(l.count,Math.min(v.start+v.count,m.start+m.count));for(let w=_,M=S;w<M;w+=3){const E=w,T=w+1,O=w+2;i=jy(this,g,e,r,u,c,f,E,T,O),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const y=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let v=y,g=x;v<g;v+=3){const _=v,S=v+1,w=v+2;i=jy(this,a,e,r,u,c,f,_,S,w),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}}}function MAe(t,e,n,r,i,o,a,s){let l;if(e.side===xi?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side===Ts,s),l===null)return null;zy.copy(s),zy.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(zy);return u<n.near||u>n.far?null:{distance:u,point:zy.clone(),object:t}}function jy(t,e,n,r,i,o,a,s,l,u){t.getVertexPosition(s,rf),t.getVertexPosition(l,of),t.getVertexPosition(u,af);const c=MAe(t,e,n,r,rf,of,af,By);if(c){i&&(ky.fromBufferAttribute(i,s),Uy.fromBufferAttribute(i,l),Fy.fromBufferAttribute(i,u),c.uv=Zi.getInterpolation(By,rf,of,af,ky,Uy,Fy,new Ce)),o&&(ky.fromBufferAttribute(o,s),Uy.fromBufferAttribute(o,l),Fy.fromBufferAttribute(o,u),c.uv1=Zi.getInterpolation(By,rf,of,af,ky,Uy,Fy,new Ce),c.uv2=c.uv1),a&&(rF.fromBufferAttribute(a,s),iF.fromBufferAttribute(a,l),oF.fromBufferAttribute(a,u),c.normal=Zi.getInterpolation(By,rf,of,af,rF,iF,oF,new K),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const f={a:s,b:l,c:u,normal:new K,materialIndex:0};Zi.getNormal(rf,of,af,f.normal),c.face=f}return c}class Tc extends Bt{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],u=[],c=[],f=[];let d=0,m=0;y("z","y","x",-1,-1,r,n,e,a,o,0),y("z","y","x",1,-1,r,n,-e,a,o,1),y("x","z","y",1,1,e,r,n,i,a,2),y("x","z","y",1,-1,e,r,-n,i,a,3),y("x","y","z",1,-1,e,n,r,i,o,4),y("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new mt(u,3)),this.setAttribute("normal",new mt(c,3)),this.setAttribute("uv",new mt(f,2));function y(x,v,g,_,S,w,M,E,T,O,N){const P=w/T,R=M/O,j=w/2,Y=M/2,F=E/2,G=T+1,$=O+1;let te=0,B=0;const q=new K;for(let Z=0;Z<$;Z++){const oe=Z*R-Y;for(let re=0;re<G;re++){const me=re*P-j;q[x]=me*_,q[v]=oe*S,q[g]=F,u.push(q.x,q.y,q.z),q[x]=0,q[v]=0,q[g]=E>0?1:-1,c.push(q.x,q.y,q.z),f.push(re/T),f.push(1-Z/O),te+=1}}for(let Z=0;Z<O;Z++)for(let oe=0;oe<T;oe++){const re=d+oe+G*Z,me=d+oe+G*(Z+1),le=d+(oe+1)+G*(Z+1),pe=d+(oe+1)+G*Z;l.push(re,me,pe),l.push(me,le,pe),B+=6}s.addGroup(m,B,N),m+=B,d+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Bh(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function di(t){const e={};for(let n=0;n<t.length;n++){const r=Bh(t[n]);for(const i in r)e[i]=r[i]}return e}function EAe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function _8(t){return t.getRenderTarget()===null?t.outputColorSpace:fn.workingColorSpace}const S8={clone:Bh,merge:di};var AAe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,TAe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Si extends jr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=AAe,this.fragmentShader=TAe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Bh(e.uniforms),this.uniformsGroups=EAe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class zg extends sn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ct,this.projectionMatrix=new Ct,this.projectionMatrixInverse=new Ct,this.coordinateSystem=Ta}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Zs=new K,aF=new Ce,sF=new Ce;class sr extends zg{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Fh*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ec*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Fh*2*Math.atan(Math.tan(ec*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Zs.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Zs.x,Zs.y).multiplyScalar(-e/Zs.z),Zs.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Zs.x,Zs.y).multiplyScalar(-e/Zs.z)}getViewSize(e,n){return this.getViewBounds(e,aF,sF),n.subVectors(sF,aF)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(ec*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/u,i*=a.width/l,r*=a.height/u}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const sf=-90,lf=1;class b8 extends sn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new sr(sf,lf,e,n);i.layers=this.layers,this.add(i);const o=new sr(sf,lf,e,n);o.layers=this.layers,this.add(o);const a=new sr(sf,lf,e,n);a.layers=this.layers,this.add(a);const s=new sr(sf,lf,e,n);s.layers=this.layers,this.add(s);const l=new sr(sf,lf,e,n);l.layers=this.layers,this.add(l);const u=new sr(sf,lf,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,l]=n;for(const u of n)this.remove(u);if(e===Ta)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===ug)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,u,c]=this.children,f=e.getRenderTarget(),d=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,c),e.setRenderTarget(f,d,m),e.xr.enabled=y,r.texture.needsPMREMUpdate=!0}}class jg extends Gn{constructor(e,n,r,i,o,a,s,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:Ba,super(e,n,r,i,o,a,s,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class sO extends oo{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(tc("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Pl?xr:Ki),this.texture=new jg(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:xn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Tc(5,5,5),o=new Si({name:"CubemapFromEquirect",uniforms:Bh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:xi,blending:vs});o.uniforms.tEquirect.value=n;const a=new tr(i,o),s=n.minFilter;return n.minFilter===Aa&&(n.minFilter=xn),new b8(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}const eM=new K,PAe=new K,CAe=new jt;class is{constructor(e=new K(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=eM.subVectors(r,n).cross(PAe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(eM),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||CAe.getNormalMatrix(e),i=this.coplanarPoint(eM).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const hu=new ai,Vy=new K;class Vg{constructor(e=new is,n=new is,r=new is,i=new is,o=new is,a=new is){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ta){const r=this.planes,i=e.elements,o=i[0],a=i[1],s=i[2],l=i[3],u=i[4],c=i[5],f=i[6],d=i[7],m=i[8],y=i[9],x=i[10],v=i[11],g=i[12],_=i[13],S=i[14],w=i[15];if(r[0].setComponents(l-o,d-u,v-m,w-g).normalize(),r[1].setComponents(l+o,d+u,v+m,w+g).normalize(),r[2].setComponents(l+a,d+c,v+y,w+_).normalize(),r[3].setComponents(l-a,d-c,v-y,w-_).normalize(),r[4].setComponents(l-s,d-f,v-x,w-S).normalize(),n===Ta)r[5].setComponents(l+s,d+f,v+x,w+S).normalize();else if(n===ug)r[5].setComponents(s,f,x,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),hu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),hu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(hu)}intersectsSprite(e){return hu.center.set(0,0,0),hu.radius=.7071067811865476,hu.applyMatrix4(e.matrixWorld),this.intersectsSphere(hu)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Vy.x=i.normal.x>0?e.max.x:e.min.x,Vy.y=i.normal.y>0?e.max.y:e.min.y,Vy.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Vy)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function w8(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function OAe(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,d=u.usage,m=f.byteLength,y=t.createBuffer();t.bindBuffer(c,y),t.bufferData(c,f,d),u.onUploadCallback();let x;if(f instanceof Float32Array)x=t.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)x=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else x=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)x=t.SHORT;else if(f instanceof Uint32Array)x=t.UNSIGNED_INT;else if(f instanceof Int32Array)x=t.INT;else if(f instanceof Int8Array)x=t.BYTE;else if(f instanceof Uint8Array)x=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)x=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:y,type:x,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version,size:m}}function o(u,c,f){const d=c.array,m=c._updateRange,y=c.updateRanges;if(t.bindBuffer(f,u),m.count===-1&&y.length===0&&t.bufferSubData(f,0,d),y.length!==0){for(let x=0,v=y.length;x<v;x++){const g=y[x];n?t.bufferSubData(f,g.start*d.BYTES_PER_ELEMENT,d,g.start,g.count):t.bufferSubData(f,g.start*d.BYTES_PER_ELEMENT,d.subarray(g.start,g.start+g.count))}c.clearUpdateRanges()}m.count!==-1&&(n?t.bufferSubData(f,m.offset*d.BYTES_PER_ELEMENT,d,m.offset,m.count):t.bufferSubData(f,m.offset*d.BYTES_PER_ELEMENT,d.subarray(m.offset,m.offset+m.count)),m.count=-1),c.onUploadCallback()}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function s(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const d=r.get(u);(!d||d.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);if(f===void 0)r.set(u,i(u,c));else if(f.version<u.version){if(f.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");o(f.buffer,u,c),f.version=u.version}}return{get:a,remove:s,update:l}}class Pc extends Bt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),u=s+1,c=l+1,f=e/s,d=n/l,m=[],y=[],x=[],v=[];for(let g=0;g<c;g++){const _=g*d-a;for(let S=0;S<u;S++){const w=S*f-o;y.push(w,-_,0),x.push(0,0,1),v.push(S/s),v.push(1-g/l)}}for(let g=0;g<l;g++)for(let _=0;_<s;_++){const S=_+u*g,w=_+u*(g+1),M=_+1+u*(g+1),E=_+1+u*g;m.push(S,w,E),m.push(w,M,E)}this.setIndex(m),this.setAttribute("position",new mt(y,3)),this.setAttribute("normal",new mt(x,3)),this.setAttribute("uv",new mt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pc(e.width,e.height,e.widthSegments,e.heightSegments)}}var RAe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,IAe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,LAe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,NAe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,DAe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,kAe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,UAe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,FAe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,BAe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,zAe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,jAe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,VAe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,HAe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,$Ae=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,WAe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,GAe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,XAe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,qAe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,YAe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,KAe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,ZAe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,JAe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,QAe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,eTe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,tTe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,nTe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,rTe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,iTe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,oTe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,aTe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,sTe="gl_FragColor = linearToOutputTexel( gl_FragColor );",lTe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,uTe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,cTe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,fTe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,hTe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,dTe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,pTe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,mTe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,gTe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,vTe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,yTe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,xTe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,_Te=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,STe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,bTe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,wTe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,MTe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,ETe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,ATe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,TTe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,PTe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,CTe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,OTe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,RTe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ITe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,LTe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,NTe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,DTe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,kTe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,UTe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,FTe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,BTe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,zTe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,jTe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,VTe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,HTe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,$Te=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,WTe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,GTe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,XTe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,qTe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,YTe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,KTe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ZTe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,JTe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,QTe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,ePe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,tPe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,nPe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,rPe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,iPe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,oPe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,aPe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,sPe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,lPe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,uPe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,cPe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,fPe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,hPe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,dPe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,pPe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,mPe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,gPe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,vPe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,yPe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,xPe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,_Pe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,SPe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,bPe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,wPe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,MPe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,EPe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,APe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,TPe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,PPe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,CPe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const OPe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,RPe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,IPe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,LPe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,NPe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,DPe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kPe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,UPe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,FPe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,BPe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,zPe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,jPe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,VPe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,HPe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,$Pe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,WPe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GPe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,XPe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qPe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,YPe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KPe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ZPe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,JPe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,QPe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eCe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,tCe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nCe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rCe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iCe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,oCe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,aCe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sCe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,lCe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,uCe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ft={alphahash_fragment:RAe,alphahash_pars_fragment:IAe,alphamap_fragment:LAe,alphamap_pars_fragment:NAe,alphatest_fragment:DAe,alphatest_pars_fragment:kAe,aomap_fragment:UAe,aomap_pars_fragment:FAe,batching_pars_vertex:BAe,batching_vertex:zAe,begin_vertex:jAe,beginnormal_vertex:VAe,bsdfs:HAe,iridescence_fragment:$Ae,bumpmap_pars_fragment:WAe,clipping_planes_fragment:GAe,clipping_planes_pars_fragment:XAe,clipping_planes_pars_vertex:qAe,clipping_planes_vertex:YAe,color_fragment:KAe,color_pars_fragment:ZAe,color_pars_vertex:JAe,color_vertex:QAe,common:eTe,cube_uv_reflection_fragment:tTe,defaultnormal_vertex:nTe,displacementmap_pars_vertex:rTe,displacementmap_vertex:iTe,emissivemap_fragment:oTe,emissivemap_pars_fragment:aTe,colorspace_fragment:sTe,colorspace_pars_fragment:lTe,envmap_fragment:uTe,envmap_common_pars_fragment:cTe,envmap_pars_fragment:fTe,envmap_pars_vertex:hTe,envmap_physical_pars_fragment:MTe,envmap_vertex:dTe,fog_vertex:pTe,fog_pars_vertex:mTe,fog_fragment:gTe,fog_pars_fragment:vTe,gradientmap_pars_fragment:yTe,lightmap_fragment:xTe,lightmap_pars_fragment:_Te,lights_lambert_fragment:STe,lights_lambert_pars_fragment:bTe,lights_pars_begin:wTe,lights_toon_fragment:ETe,lights_toon_pars_fragment:ATe,lights_phong_fragment:TTe,lights_phong_pars_fragment:PTe,lights_physical_fragment:CTe,lights_physical_pars_fragment:OTe,lights_fragment_begin:RTe,lights_fragment_maps:ITe,lights_fragment_end:LTe,logdepthbuf_fragment:NTe,logdepthbuf_pars_fragment:DTe,logdepthbuf_pars_vertex:kTe,logdepthbuf_vertex:UTe,map_fragment:FTe,map_pars_fragment:BTe,map_particle_fragment:zTe,map_particle_pars_fragment:jTe,metalnessmap_fragment:VTe,metalnessmap_pars_fragment:HTe,morphcolor_vertex:$Te,morphnormal_vertex:WTe,morphtarget_pars_vertex:GTe,morphtarget_vertex:XTe,normal_fragment_begin:qTe,normal_fragment_maps:YTe,normal_pars_fragment:KTe,normal_pars_vertex:ZTe,normal_vertex:JTe,normalmap_pars_fragment:QTe,clearcoat_normal_fragment_begin:ePe,clearcoat_normal_fragment_maps:tPe,clearcoat_pars_fragment:nPe,iridescence_pars_fragment:rPe,opaque_fragment:iPe,packing:oPe,premultiplied_alpha_fragment:aPe,project_vertex:sPe,dithering_fragment:lPe,dithering_pars_fragment:uPe,roughnessmap_fragment:cPe,roughnessmap_pars_fragment:fPe,shadowmap_pars_fragment:hPe,shadowmap_pars_vertex:dPe,shadowmap_vertex:pPe,shadowmask_pars_fragment:mPe,skinbase_vertex:gPe,skinning_pars_vertex:vPe,skinning_vertex:yPe,skinnormal_vertex:xPe,specularmap_fragment:_Pe,specularmap_pars_fragment:SPe,tonemapping_fragment:bPe,tonemapping_pars_fragment:wPe,transmission_fragment:MPe,transmission_pars_fragment:EPe,uv_pars_fragment:APe,uv_pars_vertex:TPe,uv_vertex:PPe,worldpos_vertex:CPe,background_vert:OPe,background_frag:RPe,backgroundCube_vert:IPe,backgroundCube_frag:LPe,cube_vert:NPe,cube_frag:DPe,depth_vert:kPe,depth_frag:UPe,distanceRGBA_vert:FPe,distanceRGBA_frag:BPe,equirect_vert:zPe,equirect_frag:jPe,linedashed_vert:VPe,linedashed_frag:HPe,meshbasic_vert:$Pe,meshbasic_frag:WPe,meshlambert_vert:GPe,meshlambert_frag:XPe,meshmatcap_vert:qPe,meshmatcap_frag:YPe,meshnormal_vert:KPe,meshnormal_frag:ZPe,meshphong_vert:JPe,meshphong_frag:QPe,meshphysical_vert:eCe,meshphysical_frag:tCe,meshtoon_vert:nCe,meshtoon_frag:rCe,points_vert:iCe,points_frag:oCe,shadow_vert:aCe,shadow_frag:sCe,sprite_vert:lCe,sprite_frag:uCe},Ke={common:{diffuse:{value:new ot(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new jt},alphaMap:{value:null},alphaMapTransform:{value:new jt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new jt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new jt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new jt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new jt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new jt},normalScale:{value:new Ce(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new jt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new jt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new jt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new jt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ot(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ot(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new jt},alphaTest:{value:0},uvTransform:{value:new jt}},sprite:{diffuse:{value:new ot(16777215)},opacity:{value:1},center:{value:new Ce(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new jt},alphaMap:{value:null},alphaMapTransform:{value:new jt},alphaTest:{value:0}}},Qo={basic:{uniforms:di([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.fog]),vertexShader:Ft.meshbasic_vert,fragmentShader:Ft.meshbasic_frag},lambert:{uniforms:di([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,Ke.lights,{emissive:{value:new ot(0)}}]),vertexShader:Ft.meshlambert_vert,fragmentShader:Ft.meshlambert_frag},phong:{uniforms:di([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,Ke.lights,{emissive:{value:new ot(0)},specular:{value:new ot(1118481)},shininess:{value:30}}]),vertexShader:Ft.meshphong_vert,fragmentShader:Ft.meshphong_frag},standard:{uniforms:di([Ke.common,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.roughnessmap,Ke.metalnessmap,Ke.fog,Ke.lights,{emissive:{value:new ot(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ft.meshphysical_vert,fragmentShader:Ft.meshphysical_frag},toon:{uniforms:di([Ke.common,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.gradientmap,Ke.fog,Ke.lights,{emissive:{value:new ot(0)}}]),vertexShader:Ft.meshtoon_vert,fragmentShader:Ft.meshtoon_frag},matcap:{uniforms:di([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,{matcap:{value:null}}]),vertexShader:Ft.meshmatcap_vert,fragmentShader:Ft.meshmatcap_frag},points:{uniforms:di([Ke.points,Ke.fog]),vertexShader:Ft.points_vert,fragmentShader:Ft.points_frag},dashed:{uniforms:di([Ke.common,Ke.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ft.linedashed_vert,fragmentShader:Ft.linedashed_frag},depth:{uniforms:di([Ke.common,Ke.displacementmap]),vertexShader:Ft.depth_vert,fragmentShader:Ft.depth_frag},normal:{uniforms:di([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,{opacity:{value:1}}]),vertexShader:Ft.meshnormal_vert,fragmentShader:Ft.meshnormal_frag},sprite:{uniforms:di([Ke.sprite,Ke.fog]),vertexShader:Ft.sprite_vert,fragmentShader:Ft.sprite_frag},background:{uniforms:{uvTransform:{value:new jt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ft.background_vert,fragmentShader:Ft.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Ft.backgroundCube_vert,fragmentShader:Ft.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ft.cube_vert,fragmentShader:Ft.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ft.equirect_vert,fragmentShader:Ft.equirect_frag},distanceRGBA:{uniforms:di([Ke.common,Ke.displacementmap,{referencePosition:{value:new K},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ft.distanceRGBA_vert,fragmentShader:Ft.distanceRGBA_frag},shadow:{uniforms:di([Ke.lights,Ke.fog,{color:{value:new ot(0)},opacity:{value:1}}]),vertexShader:Ft.shadow_vert,fragmentShader:Ft.shadow_frag}};Qo.physical={uniforms:di([Qo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new jt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new jt},clearcoatNormalScale:{value:new Ce(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new jt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new jt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new jt},sheen:{value:0},sheenColor:{value:new ot(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new jt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new jt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new jt},transmissionSamplerSize:{value:new Ce},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new jt},attenuationDistance:{value:0},attenuationColor:{value:new ot(0)},specularColor:{value:new ot(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new jt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new jt},anisotropyVector:{value:new Ce},anisotropyMap:{value:null},anisotropyMapTransform:{value:new jt}}]),vertexShader:Ft.meshphysical_vert,fragmentShader:Ft.meshphysical_frag};const Hy={r:0,b:0,g:0};function cCe(t,e,n,r,i,o,a){const s=new ot(0);let l=o===!0?0:1,u,c,f=null,d=0,m=null;function y(v,g){let _=!1,S=g.isScene===!0?g.background:null;S&&S.isTexture&&(S=(g.backgroundBlurriness>0?n:e).get(S)),S===null?x(s,l):S&&S.isColor&&(x(S,1),_=!0);const w=t.xr.getEnvironmentBlendMode();w==="additive"?r.buffers.color.setClear(0,0,0,1,a):w==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||_)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),S&&(S.isCubeTexture||S.mapping===cd)?(c===void 0&&(c=new tr(new Tc(1,1,1),new Si({name:"BackgroundCubeMaterial",uniforms:Bh(Qo.backgroundCube.uniforms),vertexShader:Qo.backgroundCube.vertexShader,fragmentShader:Qo.backgroundCube.fragmentShader,side:xi,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(M,E,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=S,c.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=fn.getTransfer(S.colorSpace)!==wn,(f!==S||d!==S.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,f=S,d=S.version,m=t.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null)):S&&S.isTexture&&(u===void 0&&(u=new tr(new Pc(2,2),new Si({name:"BackgroundMaterial",uniforms:Bh(Qo.background.uniforms),vertexShader:Qo.background.vertexShader,fragmentShader:Qo.background.fragmentShader,side:Ts,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=S,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=fn.getTransfer(S.colorSpace)!==wn,S.matrixAutoUpdate===!0&&S.updateMatrix(),u.material.uniforms.uvTransform.value.copy(S.matrix),(f!==S||d!==S.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,f=S,d=S.version,m=t.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null))}function x(v,g){v.getRGB(Hy,_8(t)),r.buffers.color.setClear(Hy.r,Hy.g,Hy.b,g,a)}return{getClearColor:function(){return s},setClearColor:function(v,g=1){s.set(v),l=g,x(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,x(s,l)},render:y}}function fCe(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||o!==null,s={},l=v(null);let u=l,c=!1;function f(F,G,$,te,B){let q=!1;if(a){const Z=x(te,$,G);u!==Z&&(u=Z,m(u.object)),q=g(F,te,$,B),q&&_(F,te,$,B)}else{const Z=G.wireframe===!0;(u.geometry!==te.id||u.program!==$.id||u.wireframe!==Z)&&(u.geometry=te.id,u.program=$.id,u.wireframe=Z,q=!0)}B!==null&&n.update(B,t.ELEMENT_ARRAY_BUFFER),(q||c)&&(c=!1,O(F,G,$,te),B!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(B).buffer))}function d(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function m(F){return r.isWebGL2?t.bindVertexArray(F):o.bindVertexArrayOES(F)}function y(F){return r.isWebGL2?t.deleteVertexArray(F):o.deleteVertexArrayOES(F)}function x(F,G,$){const te=$.wireframe===!0;let B=s[F.id];B===void 0&&(B={},s[F.id]=B);let q=B[G.id];q===void 0&&(q={},B[G.id]=q);let Z=q[te];return Z===void 0&&(Z=v(d()),q[te]=Z),Z}function v(F){const G=[],$=[],te=[];for(let B=0;B<i;B++)G[B]=0,$[B]=0,te[B]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:$,attributeDivisors:te,object:F,attributes:{},index:null}}function g(F,G,$,te){const B=u.attributes,q=G.attributes;let Z=0;const oe=$.getAttributes();for(const re in oe)if(oe[re].location>=0){const le=B[re];let pe=q[re];if(pe===void 0&&(re==="instanceMatrix"&&F.instanceMatrix&&(pe=F.instanceMatrix),re==="instanceColor"&&F.instanceColor&&(pe=F.instanceColor)),le===void 0||le.attribute!==pe||pe&&le.data!==pe.data)return!0;Z++}return u.attributesNum!==Z||u.index!==te}function _(F,G,$,te){const B={},q=G.attributes;let Z=0;const oe=$.getAttributes();for(const re in oe)if(oe[re].location>=0){let le=q[re];le===void 0&&(re==="instanceMatrix"&&F.instanceMatrix&&(le=F.instanceMatrix),re==="instanceColor"&&F.instanceColor&&(le=F.instanceColor));const pe={};pe.attribute=le,le&&le.data&&(pe.data=le.data),B[re]=pe,Z++}u.attributes=B,u.attributesNum=Z,u.index=te}function S(){const F=u.newAttributes;for(let G=0,$=F.length;G<$;G++)F[G]=0}function w(F){M(F,0)}function M(F,G){const $=u.newAttributes,te=u.enabledAttributes,B=u.attributeDivisors;$[F]=1,te[F]===0&&(t.enableVertexAttribArray(F),te[F]=1),B[F]!==G&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,G),B[F]=G)}function E(){const F=u.newAttributes,G=u.enabledAttributes;for(let $=0,te=G.length;$<te;$++)G[$]!==F[$]&&(t.disableVertexAttribArray($),G[$]=0)}function T(F,G,$,te,B,q,Z){Z===!0?t.vertexAttribIPointer(F,G,$,B,q):t.vertexAttribPointer(F,G,$,te,B,q)}function O(F,G,$,te){if(r.isWebGL2===!1&&(F.isInstancedMesh||te.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const B=te.attributes,q=$.getAttributes(),Z=G.defaultAttributeValues;for(const oe in q){const re=q[oe];if(re.location>=0){let me=B[oe];if(me===void 0&&(oe==="instanceMatrix"&&F.instanceMatrix&&(me=F.instanceMatrix),oe==="instanceColor"&&F.instanceColor&&(me=F.instanceColor)),me!==void 0){const le=me.normalized,pe=me.itemSize,we=n.get(me);if(we===void 0)continue;const ze=we.buffer,Xe=we.type,xe=we.bytesPerElement,Ve=r.isWebGL2===!0&&(Xe===t.INT||Xe===t.UNSIGNED_INT||me.gpuType===W2);if(me.isInterleavedBufferAttribute){const De=me.data,V=De.stride,Ae=me.offset;if(De.isInstancedInterleavedBuffer){for(let de=0;de<re.locationSize;de++)M(re.location+de,De.meshPerAttribute);F.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=De.meshPerAttribute*De.count)}else for(let de=0;de<re.locationSize;de++)w(re.location+de);t.bindBuffer(t.ARRAY_BUFFER,ze);for(let de=0;de<re.locationSize;de++)T(re.location+de,pe/re.locationSize,Xe,le,V*xe,(Ae+pe/re.locationSize*de)*xe,Ve)}else{if(me.isInstancedBufferAttribute){for(let De=0;De<re.locationSize;De++)M(re.location+De,me.meshPerAttribute);F.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let De=0;De<re.locationSize;De++)w(re.location+De);t.bindBuffer(t.ARRAY_BUFFER,ze);for(let De=0;De<re.locationSize;De++)T(re.location+De,pe/re.locationSize,Xe,le,pe*xe,pe/re.locationSize*De*xe,Ve)}}else if(Z!==void 0){const le=Z[oe];if(le!==void 0)switch(le.length){case 2:t.vertexAttrib2fv(re.location,le);break;case 3:t.vertexAttrib3fv(re.location,le);break;case 4:t.vertexAttrib4fv(re.location,le);break;default:t.vertexAttrib1fv(re.location,le)}}}}E()}function N(){j();for(const F in s){const G=s[F];for(const $ in G){const te=G[$];for(const B in te)y(te[B].object),delete te[B];delete G[$]}delete s[F]}}function P(F){if(s[F.id]===void 0)return;const G=s[F.id];for(const $ in G){const te=G[$];for(const B in te)y(te[B].object),delete te[B];delete G[$]}delete s[F.id]}function R(F){for(const G in s){const $=s[G];if($[F.id]===void 0)continue;const te=$[F.id];for(const B in te)y(te[B].object),delete te[B];delete $[F.id]}}function j(){Y(),c=!0,u!==l&&(u=l,m(u.object))}function Y(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:j,resetDefaultState:Y,dispose:N,releaseStatesOfGeometry:P,releaseStatesOfProgram:R,initAttributes:S,enableAttribute:w,disableUnusedAttributes:E}}function hCe(t,e,n,r){const i=r.isWebGL2;let o;function a(c){o=c}function s(c,f){t.drawArrays(o,c,f),n.update(f,o,1)}function l(c,f,d){if(d===0)return;let m,y;if(i)m=t,y="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[y](o,c,f,d),n.update(f,o,d)}function u(c,f,d){if(d===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let y=0;y<d;y++)this.render(c[y],f[y]);else{m.multiDrawArraysWEBGL(o,c,0,f,0,d);let y=0;for(let x=0;x<d;x++)y+=f[x];n.update(y,o,1)}}this.setMode=a,this.render=s,this.renderInstances=l,this.renderMultiDraw=u}function dCe(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let s=n.precision!==void 0?n.precision:"highp";const l=o(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const u=a||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),x=t.getParameter(t.MAX_VERTEX_ATTRIBS),v=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),S=d>0,w=a||e.has("OES_texture_float"),M=S&&w,E=a?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:d,maxTextureSize:m,maxCubemapSize:y,maxAttributes:x,maxVertexUniforms:v,maxVaryings:g,maxFragmentUniforms:_,vertexTextures:S,floatFragmentTextures:w,floatVertexTextures:M,maxSamples:E}}function pCe(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new is,s=new jt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const m=f.length!==0||d||r!==0||i;return i=d,r=f.length,m},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,d){n=c(f,d,0)},this.setState=function(f,d,m){const y=f.clippingPlanes,x=f.clipIntersection,v=f.clipShadows,g=t.get(f);if(!i||y===null||y.length===0||o&&!v)o?c(null):u();else{const _=o?0:r,S=_*4;let w=g.clippingState||null;l.value=w,w=c(y,d,S,m);for(let M=0;M!==S;++M)w[M]=n[M];g.clippingState=w,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,d,m,y){const x=f!==null?f.length:0;let v=null;if(x!==0){if(v=l.value,y!==!0||v===null){const g=m+x*4,_=d.matrixWorldInverse;s.getNormalMatrix(_),(v===null||v.length<g)&&(v=new Float32Array(g));for(let S=0,w=m;S!==x;++S,w+=4)a.copy(f[S]).applyMatrix4(_,s),a.normal.toArray(v,w),v[w+3]=a.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,v}}function mCe(t){let e=new WeakMap;function n(a,s){return s===Uh?a.mapping=Ba:s===Qm&&(a.mapping=Nl),a}function r(a){if(a&&a.isTexture){const s=a.mapping;if(s===Uh||s===Qm)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new sO(l.height);return u.fromEquirectangularTexture(t,a),e.set(a,u),a.addEventListener("dispose",i),n(u.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class Cl extends zg{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=u*this.view.offsetX,a=o+u*this.view.width,s-=c*this.view.offsetY,l=s-c*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Vf=4,lF=[.125,.215,.35,.446,.526,.582],Ru=20,tM=new Cl,uF=new ot;let nM=null,rM=0,iM=0;const Cu=(1+Math.sqrt(5))/2,uf=1/Cu,cF=[new K(1,1,1),new K(-1,1,1),new K(1,1,-1),new K(-1,1,-1),new K(0,Cu,uf),new K(0,Cu,-uf),new K(uf,0,Cu),new K(-uf,0,Cu),new K(Cu,uf,0),new K(-Cu,uf,0)];class KT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){nM=this._renderer.getRenderTarget(),rM=this._renderer.getActiveCubeFace(),iM=this._renderer.getActiveMipmapLevel(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=dF(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=hF(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(nM,rM,iM),e.scissorTest=!1,$y(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ba||e.mapping===Nl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),nM=this._renderer.getRenderTarget(),rM=this._renderer.getActiveCubeFace(),iM=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:xn,minFilter:xn,generateMipmaps:!1,type:vi,format:ri,colorSpace:za,depthBuffer:!1},i=fF(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=fF(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=gCe(o)),this._blurMaterial=vCe(o,e,n)}return i}_compileMaterial(e){const n=new tr(this._lodPlanes[0],e);this._renderer.compile(n,tM)}_sceneToCubeUV(e,n,r,i){const s=new sr(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,d=c.toneMapping;c.getClearColor(uF),c.toneMapping=Na,c.autoClear=!1;const m=new Xl({name:"PMREM.Background",side:xi,depthWrite:!1,depthTest:!1}),y=new tr(new Tc,m);let x=!1;const v=e.background;v?v.isColor&&(m.color.copy(v),e.background=null,x=!0):(m.color.copy(uF),x=!0);for(let g=0;g<6;g++){const _=g%3;_===0?(s.up.set(0,l[g],0),s.lookAt(u[g],0,0)):_===1?(s.up.set(0,0,l[g]),s.lookAt(0,u[g],0)):(s.up.set(0,l[g],0),s.lookAt(0,0,u[g]));const S=this._cubeSize;$y(i,_*S,g>2?S:0,S,S),c.setRenderTarget(i),x&&c.render(y,s),c.render(e,s)}y.geometry.dispose(),y.material.dispose(),c.toneMapping=d,c.autoClear=f,e.background=v}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Ba||e.mapping===Nl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=dF()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=hF());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new tr(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;$y(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,tM)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=cF[(i-1)%cF.length];this._blur(e,i-1,i,o,a)}n.autoClear=r}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new tr(this._lodPlanes[i],u),d=u.uniforms,m=this._sizeLods[r]-1,y=isFinite(o)?Math.PI/(2*m):2*Math.PI/(2*Ru-1),x=o/y,v=isFinite(o)?1+Math.floor(c*x):Ru;v>Ru&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Ru}`);const g=[];let _=0;for(let T=0;T<Ru;++T){const O=T/x,N=Math.exp(-O*O/2);g.push(N),T===0?_+=N:T<v&&(_+=2*N)}for(let T=0;T<g.length;T++)g[T]=g[T]/_;d.envMap.value=e.texture,d.samples.value=v,d.weights.value=g,d.latitudinal.value=a==="latitudinal",s&&(d.poleAxis.value=s);const{_lodMax:S}=this;d.dTheta.value=y,d.mipInt.value=S-r;const w=this._sizeLods[i],M=3*w*(i>S-Vf?i-S+Vf:0),E=4*(this._cubeSize-w);$y(n,M,E,3*w,2*w),l.setRenderTarget(n),l.render(f,tM)}}function gCe(t){const e=[],n=[],r=[];let i=t;const o=t-Vf+1+lF.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);n.push(s);let l=1/s;a>t-Vf?l=lF[a-t+Vf-1]:a===0&&(l=0),r.push(l);const u=1/(s-2),c=-u,f=1+u,d=[c,c,f,c,f,f,c,c,f,f,c,f],m=6,y=6,x=3,v=2,g=1,_=new Float32Array(x*y*m),S=new Float32Array(v*y*m),w=new Float32Array(g*y*m);for(let E=0;E<m;E++){const T=E%3*2/3-1,O=E>2?0:-1,N=[T,O,0,T+2/3,O,0,T+2/3,O+1,0,T,O,0,T+2/3,O+1,0,T,O+1,0];_.set(N,x*y*E),S.set(d,v*y*E);const P=[E,E,E,E,E,E];w.set(P,g*y*E)}const M=new Bt;M.setAttribute("position",new pn(_,x)),M.setAttribute("uv",new pn(S,v)),M.setAttribute("faceIndex",new pn(w,g)),e.push(M),i>Vf&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function fF(t,e,n){const r=new oo(t,e,n);return r.texture.mapping=cd,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function $y(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function vCe(t,e,n){const r=new Float32Array(Ru),i=new K(0,1,0);return new Si({name:"SphericalGaussianBlur",defines:{n:Ru,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:lO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:vs,depthTest:!1,depthWrite:!1})}function hF(){return new Si({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:lO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:vs,depthTest:!1,depthWrite:!1})}function dF(){return new Si({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:lO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:vs,depthTest:!1,depthWrite:!1})}function lO(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function yCe(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,u=l===Uh||l===Qm,c=l===Ba||l===Nl;if(u||c)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let f=e.get(s);return n===null&&(n=new KT(t)),f=u?n.fromEquirectangular(s,f):n.fromCubemap(s,f),e.set(s,f),f.texture}else{if(e.has(s))return e.get(s).texture;{const f=s.image;if(u&&f&&f.height>0||c&&f&&i(f)){n===null&&(n=new KT(t));const d=u?n.fromEquirectangular(s):n.fromCubemap(s);return e.set(s,d),s.addEventListener("dispose",o),d.texture}else return null}}}return s}function i(s){let l=0;const u=6;for(let c=0;c<u;c++)s[c]!==void 0&&l++;return l===u}function o(s){const l=s.target;l.removeEventListener("dispose",o);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function xCe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function _Ce(t,e,n,r){const i={},o=new WeakMap;function a(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const y in d.attributes)e.remove(d.attributes[y]);for(const y in d.morphAttributes){const x=d.morphAttributes[y];for(let v=0,g=x.length;v<g;v++)e.remove(x[v])}d.removeEventListener("dispose",a),delete i[d.id];const m=o.get(d);m&&(e.remove(m),o.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function s(f,d){return i[d.id]===!0||(d.addEventListener("dispose",a),i[d.id]=!0,n.memory.geometries++),d}function l(f){const d=f.attributes;for(const y in d)e.update(d[y],t.ARRAY_BUFFER);const m=f.morphAttributes;for(const y in m){const x=m[y];for(let v=0,g=x.length;v<g;v++)e.update(x[v],t.ARRAY_BUFFER)}}function u(f){const d=[],m=f.index,y=f.attributes.position;let x=0;if(m!==null){const _=m.array;x=m.version;for(let S=0,w=_.length;S<w;S+=3){const M=_[S+0],E=_[S+1],T=_[S+2];d.push(M,E,E,T,T,M)}}else if(y!==void 0){const _=y.array;x=y.version;for(let S=0,w=_.length/3-1;S<w;S+=3){const M=S+0,E=S+1,T=S+2;d.push(M,E,E,T,T,M)}}else return;const v=new(g8(d)?aO:oO)(d,1);v.version=x;const g=o.get(f);g&&e.remove(g),o.set(f,v)}function c(f){const d=o.get(f);if(d){const m=f.index;m!==null&&d.version<m.version&&u(f)}else u(f);return o.get(f)}return{get:s,update:l,getWireframeAttribute:c}}function SCe(t,e,n,r){const i=r.isWebGL2;let o;function a(m){o=m}let s,l;function u(m){s=m.type,l=m.bytesPerElement}function c(m,y){t.drawElements(o,y,s,m*l),n.update(y,o,1)}function f(m,y,x){if(x===0)return;let v,g;if(i)v=t,g="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[g](o,y,s,m*l,x),n.update(y,o,x)}function d(m,y,x){if(x===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let g=0;g<x;g++)this.render(m[g]/l,y[g]);else{v.multiDrawElementsWEBGL(o,y,0,s,m,0,x);let g=0;for(let _=0;_<x;_++)g+=y[_];n.update(g,o,1)}}this.setMode=a,this.setIndex=u,this.render=c,this.renderInstances=f,this.renderMultiDraw=d}function bCe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function wCe(t,e){return t[0]-e[0]}function MCe(t,e){return Math.abs(e[1])-Math.abs(t[1])}function ECe(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new hn,s=[];for(let u=0;u<8;u++)s[u]=[u,0];function l(u,c,f){const d=u.morphTargetInfluences;if(e.isWebGL2===!0){const y=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,x=y!==void 0?y.length:0;let v=o.get(c);if(v===void 0||v.count!==x){let G=function(){Y.dispose(),o.delete(c),c.removeEventListener("dispose",G)};var m=G;v!==void 0&&v.texture.dispose();const S=c.morphAttributes.position!==void 0,w=c.morphAttributes.normal!==void 0,M=c.morphAttributes.color!==void 0,E=c.morphAttributes.position||[],T=c.morphAttributes.normal||[],O=c.morphAttributes.color||[];let N=0;S===!0&&(N=1),w===!0&&(N=2),M===!0&&(N=3);let P=c.attributes.position.count*N,R=1;P>e.maxTextureSize&&(R=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const j=new Float32Array(P*R*4*x),Y=new Y1(j,P,R,x);Y.type=Rr,Y.needsUpdate=!0;const F=N*4;for(let $=0;$<x;$++){const te=E[$],B=T[$],q=O[$],Z=P*R*4*$;for(let oe=0;oe<te.count;oe++){const re=oe*F;S===!0&&(a.fromBufferAttribute(te,oe),j[Z+re+0]=a.x,j[Z+re+1]=a.y,j[Z+re+2]=a.z,j[Z+re+3]=0),w===!0&&(a.fromBufferAttribute(B,oe),j[Z+re+4]=a.x,j[Z+re+5]=a.y,j[Z+re+6]=a.z,j[Z+re+7]=0),M===!0&&(a.fromBufferAttribute(q,oe),j[Z+re+8]=a.x,j[Z+re+9]=a.y,j[Z+re+10]=a.z,j[Z+re+11]=q.itemSize===4?a.w:1)}}v={count:x,texture:Y,size:new Ce(P,R)},o.set(c,v),c.addEventListener("dispose",G)}let g=0;for(let S=0;S<d.length;S++)g+=d[S];const _=c.morphTargetsRelative?1:1-g;f.getUniforms().setValue(t,"morphTargetBaseInfluence",_),f.getUniforms().setValue(t,"morphTargetInfluences",d),f.getUniforms().setValue(t,"morphTargetsTexture",v.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",v.size)}else{const y=d===void 0?0:d.length;let x=r[c.id];if(x===void 0||x.length!==y){x=[];for(let w=0;w<y;w++)x[w]=[w,0];r[c.id]=x}for(let w=0;w<y;w++){const M=x[w];M[0]=w,M[1]=d[w]}x.sort(MCe);for(let w=0;w<8;w++)w<y&&x[w][1]?(s[w][0]=x[w][0],s[w][1]=x[w][1]):(s[w][0]=Number.MAX_SAFE_INTEGER,s[w][1]=0);s.sort(wCe);const v=c.morphAttributes.position,g=c.morphAttributes.normal;let _=0;for(let w=0;w<8;w++){const M=s[w],E=M[0],T=M[1];E!==Number.MAX_SAFE_INTEGER&&T?(v&&c.getAttribute("morphTarget"+w)!==v[E]&&c.setAttribute("morphTarget"+w,v[E]),g&&c.getAttribute("morphNormal"+w)!==g[E]&&c.setAttribute("morphNormal"+w,g[E]),i[w]=T,_+=T):(v&&c.hasAttribute("morphTarget"+w)===!0&&c.deleteAttribute("morphTarget"+w),g&&c.hasAttribute("morphNormal"+w)===!0&&c.deleteAttribute("morphNormal"+w),i[w]=0)}const S=c.morphTargetsRelative?1:1-_;f.getUniforms().setValue(t,"morphTargetBaseInfluence",S),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function ACe(t,e,n,r){let i=new WeakMap;function o(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==u&&(d.update(),i.set(d,u))}return f}function a(){i=new WeakMap}function s(l){const u=l.target;u.removeEventListener("dispose",s),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:o,dispose:a}}class uO extends Gn{constructor(e,n,r,i,o,a,s,l,u,c){if(c=c!==void 0?c:Tl,c!==Tl&&c!==mc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Tl&&(r=cs),r===void 0&&c===mc&&(r=Al),super(null,i,o,a,s,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:or,this.minFilter=l!==void 0?l:or,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const M8=new Gn,E8=new uO(1,1);E8.compareFunction=tO;const A8=new Y1,T8=new iO,P8=new jg,pF=[],mF=[],gF=new Float32Array(16),vF=new Float32Array(9),yF=new Float32Array(4);function fd(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=pF[i];if(o===void 0&&(o=new Float32Array(i),pF[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function br(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function wr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function K1(t,e){let n=mF[e];n===void 0&&(n=new Int32Array(e),mF[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function TCe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function PCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(br(n,e))return;t.uniform2fv(this.addr,e),wr(n,e)}}function CCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(br(n,e))return;t.uniform3fv(this.addr,e),wr(n,e)}}function OCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(br(n,e))return;t.uniform4fv(this.addr,e),wr(n,e)}}function RCe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(br(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),wr(n,e)}else{if(br(n,r))return;yF.set(r),t.uniformMatrix2fv(this.addr,!1,yF),wr(n,r)}}function ICe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(br(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),wr(n,e)}else{if(br(n,r))return;vF.set(r),t.uniformMatrix3fv(this.addr,!1,vF),wr(n,r)}}function LCe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(br(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),wr(n,e)}else{if(br(n,r))return;gF.set(r),t.uniformMatrix4fv(this.addr,!1,gF),wr(n,r)}}function NCe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function DCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(br(n,e))return;t.uniform2iv(this.addr,e),wr(n,e)}}function kCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(br(n,e))return;t.uniform3iv(this.addr,e),wr(n,e)}}function UCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(br(n,e))return;t.uniform4iv(this.addr,e),wr(n,e)}}function FCe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function BCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(br(n,e))return;t.uniform2uiv(this.addr,e),wr(n,e)}}function zCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(br(n,e))return;t.uniform3uiv(this.addr,e),wr(n,e)}}function jCe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(br(n,e))return;t.uniform4uiv(this.addr,e),wr(n,e)}}function VCe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const o=this.type===t.SAMPLER_2D_SHADOW?E8:M8;n.setTexture2D(e||o,i)}function HCe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||T8,i)}function $Ce(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||P8,i)}function WCe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||A8,i)}function GCe(t){switch(t){case 5126:return TCe;case 35664:return PCe;case 35665:return CCe;case 35666:return OCe;case 35674:return RCe;case 35675:return ICe;case 35676:return LCe;case 5124:case 35670:return NCe;case 35667:case 35671:return DCe;case 35668:case 35672:return kCe;case 35669:case 35673:return UCe;case 5125:return FCe;case 36294:return BCe;case 36295:return zCe;case 36296:return jCe;case 35678:case 36198:case 36298:case 36306:case 35682:return VCe;case 35679:case 36299:case 36307:return HCe;case 35680:case 36300:case 36308:case 36293:return $Ce;case 36289:case 36303:case 36311:case 36292:return WCe}}function XCe(t,e){t.uniform1fv(this.addr,e)}function qCe(t,e){const n=fd(e,this.size,2);t.uniform2fv(this.addr,n)}function YCe(t,e){const n=fd(e,this.size,3);t.uniform3fv(this.addr,n)}function KCe(t,e){const n=fd(e,this.size,4);t.uniform4fv(this.addr,n)}function ZCe(t,e){const n=fd(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function JCe(t,e){const n=fd(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function QCe(t,e){const n=fd(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function e2e(t,e){t.uniform1iv(this.addr,e)}function t2e(t,e){t.uniform2iv(this.addr,e)}function n2e(t,e){t.uniform3iv(this.addr,e)}function r2e(t,e){t.uniform4iv(this.addr,e)}function i2e(t,e){t.uniform1uiv(this.addr,e)}function o2e(t,e){t.uniform2uiv(this.addr,e)}function a2e(t,e){t.uniform3uiv(this.addr,e)}function s2e(t,e){t.uniform4uiv(this.addr,e)}function l2e(t,e,n){const r=this.cache,i=e.length,o=K1(n,i);br(r,o)||(t.uniform1iv(this.addr,o),wr(r,o));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||M8,o[a])}function u2e(t,e,n){const r=this.cache,i=e.length,o=K1(n,i);br(r,o)||(t.uniform1iv(this.addr,o),wr(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||T8,o[a])}function c2e(t,e,n){const r=this.cache,i=e.length,o=K1(n,i);br(r,o)||(t.uniform1iv(this.addr,o),wr(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||P8,o[a])}function f2e(t,e,n){const r=this.cache,i=e.length,o=K1(n,i);br(r,o)||(t.uniform1iv(this.addr,o),wr(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||A8,o[a])}function h2e(t){switch(t){case 5126:return XCe;case 35664:return qCe;case 35665:return YCe;case 35666:return KCe;case 35674:return ZCe;case 35675:return JCe;case 35676:return QCe;case 5124:case 35670:return e2e;case 35667:case 35671:return t2e;case 35668:case 35672:return n2e;case 35669:case 35673:return r2e;case 5125:return i2e;case 36294:return o2e;case 36295:return a2e;case 36296:return s2e;case 35678:case 36198:case 36298:case 36306:case 35682:return l2e;case 35679:case 36299:case 36307:return u2e;case 35680:case 36300:case 36308:case 36293:return c2e;case 36289:case 36303:case 36311:case 36292:return f2e}}class d2e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=GCe(n.type)}}class p2e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=h2e(n.type)}}class m2e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const oM=/(\w+)(\])?(\[|\.)?/g;function xF(t,e){t.seq.push(e),t.map[e.id]=e}function g2e(t,e,n){const r=t.name,i=r.length;for(oM.lastIndex=0;;){const o=oM.exec(r),a=oM.lastIndex;let s=o[1];const l=o[2]==="]",u=o[3];if(l&&(s=s|0),u===void 0||u==="["&&a+2===i){xF(n,u===void 0?new d2e(s,t,e):new p2e(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new m2e(s),xF(n,f)),n=f}}}class j0{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),a=e.getUniformLocation(n,o.name);g2e(o,a,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function _F(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const v2e=37297;let y2e=0;function x2e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}function _2e(t){const e=fn.getPrimaries(fn.workingColorSpace),n=fn.getPrimaries(t);let r;switch(e===n?r="":e===sg&&n===ag?r="LinearDisplayP3ToLinearSRGB":e===ag&&n===sg&&(r="LinearSRGBToLinearDisplayP3"),t){case za:case Fg:return[r,"LinearTransferOETF"];case xr:case q1:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function SF(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+x2e(t.getShaderSource(e),a)}else return i}function S2e(t,e){const n=_2e(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function b2e(t,e){let n;switch(e){case H6:n="Linear";break;case $6:n="Reinhard";break;case W6:n="OptimizedCineon";break;case $2:n="ACESFilmic";break;case X6:n="AgX";break;case G6:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function w2e(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.alphaToCoverage||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Hf).join(`
`)}function M2e(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Hf).join(`
`)}function E2e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function A2e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function Hf(t){return t!==""}function bF(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function wF(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const T2e=/^[ \t]*#include +<([\w\d./]+)>/gm;function ZT(t){return t.replace(T2e,C2e)}const P2e=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function C2e(t,e){let n=Ft[e];if(n===void 0){const r=P2e.get(e);if(r!==void 0)n=Ft[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return ZT(n)}const O2e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function MF(t){return t.replace(O2e,R2e)}function R2e(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function EF(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	`;return t.isWebGL2&&(e+=`precision ${t.precision} sampler3D;
		precision ${t.precision} sampler2DArray;
		precision ${t.precision} sampler2DShadow;
		precision ${t.precision} samplerCubeShadow;
		precision ${t.precision} sampler2DArrayShadow;
		precision ${t.precision} isampler2D;
		precision ${t.precision} isampler3D;
		precision ${t.precision} isamplerCube;
		precision ${t.precision} isampler2DArray;
		precision ${t.precision} usampler2D;
		precision ${t.precision} usampler3D;
		precision ${t.precision} usamplerCube;
		precision ${t.precision} usampler2DArray;
		`),t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function I2e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===$1?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===zp?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Yo&&(e="SHADOWMAP_TYPE_VSM"),e}function L2e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ba:case Nl:e="ENVMAP_TYPE_CUBE";break;case cd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function N2e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Nl:e="ENVMAP_MODE_REFRACTION";break}return e}function D2e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Ug:e="ENVMAP_BLENDING_MULTIPLY";break;case j6:e="ENVMAP_BLENDING_MIX";break;case V6:e="ENVMAP_BLENDING_ADD";break}return e}function k2e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function U2e(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=I2e(n),u=L2e(n),c=N2e(n),f=D2e(n),d=k2e(n),m=n.isWebGL2?"":w2e(n),y=M2e(n),x=E2e(o),v=i.createProgram();let g,_,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Hf).join(`
`),g.length>0&&(g+=`
`),_=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Hf).join(`
`),_.length>0&&(_+=`
`)):(g=[EF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Hf).join(`
`),_=[m,EF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Na?"#define TONE_MAPPING":"",n.toneMapping!==Na?Ft.tonemapping_pars_fragment:"",n.toneMapping!==Na?b2e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ft.colorspace_pars_fragment,S2e("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Hf).join(`
`)),a=ZT(a),a=bF(a,n),a=wF(a,n),s=ZT(s),s=bF(s,n),s=wF(s,n),a=MF(a),s=MF(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,g=[y,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,_=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===qT?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===qT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const w=S+g+a,M=S+_+s,E=_F(i,i.VERTEX_SHADER,w),T=_F(i,i.FRAGMENT_SHADER,M);i.attachShader(v,E),i.attachShader(v,T),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v);function O(j){if(t.debug.checkShaderErrors){const Y=i.getProgramInfoLog(v).trim(),F=i.getShaderInfoLog(E).trim(),G=i.getShaderInfoLog(T).trim();let $=!0,te=!0;if(i.getProgramParameter(v,i.LINK_STATUS)===!1)if($=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,v,E,T);else{const B=SF(i,E,"vertex"),q=SF(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,i.VALIDATE_STATUS)+`

Material Name: `+j.name+`
Material Type: `+j.type+`

Program Info Log: `+Y+`
`+B+`
`+q)}else Y!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Y):(F===""||G==="")&&(te=!1);te&&(j.diagnostics={runnable:$,programLog:Y,vertexShader:{log:F,prefix:g},fragmentShader:{log:G,prefix:_}})}i.deleteShader(E),i.deleteShader(T),N=new j0(i,v),P=A2e(i,v)}let N;this.getUniforms=function(){return N===void 0&&O(this),N};let P;this.getAttributes=function(){return P===void 0&&O(this),P};let R=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return R===!1&&(R=i.getProgramParameter(v,v2e)),R},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=y2e++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=T,this}let F2e=0;class B2e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new z2e(e),n.set(e,r)),r}}class z2e{constructor(e){this.id=F2e++,this.code=e,this.usedTimes=0}}function j2e(t,e,n,r,i,o,a){const s=new nc,l=new B2e,u=new Set,c=[],f=i.isWebGL2,d=i.logarithmicDepthBuffer,m=i.vertexTextures;let y=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(P){return u.add(P),P===0?"uv":`uv${P}`}function g(P,R,j,Y,F){const G=Y.fog,$=F.geometry,te=P.isMeshStandardMaterial?Y.environment:null,B=(P.isMeshStandardMaterial?n:e).get(P.envMap||te),q=B&&B.mapping===cd?B.image.height:null,Z=x[P.type];P.precision!==null&&(y=i.getMaxPrecision(P.precision),y!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",y,"instead."));const oe=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,re=oe!==void 0?oe.length:0;let me=0;$.morphAttributes.position!==void 0&&(me=1),$.morphAttributes.normal!==void 0&&(me=2),$.morphAttributes.color!==void 0&&(me=3);let le,pe,we,ze;if(Z){const Xt=Qo[Z];le=Xt.vertexShader,pe=Xt.fragmentShader}else le=P.vertexShader,pe=P.fragmentShader,l.update(P),we=l.getVertexShaderID(P),ze=l.getFragmentShaderID(P);const Xe=t.getRenderTarget(),xe=F.isInstancedMesh===!0,Ve=F.isBatchedMesh===!0,De=!!P.map,V=!!P.matcap,Ae=!!B,de=!!P.aoMap,Re=!!P.lightMap,_e=!!P.bumpMap,Je=!!P.normalMap,Ge=!!P.displacementMap,W=!!P.emissiveMap,z=!!P.metalnessMap,he=!!P.roughnessMap,Ne=P.anisotropy>0,Le=P.clearcoat>0,Oe=P.iridescence>0,nt=P.sheen>0,qe=P.transmission>0,rt=Ne&&!!P.anisotropyMap,gt=Le&&!!P.clearcoatMap,Mt=Le&&!!P.clearcoatNormalMap,ke=Le&&!!P.clearcoatRoughnessMap,$t=Oe&&!!P.iridescenceMap,Rt=Oe&&!!P.iridescenceThicknessMap,_t=nt&&!!P.sheenColorMap,it=nt&&!!P.sheenRoughnessMap,at=!!P.specularMap,ae=!!P.specularColorMap,Pe=!!P.specularIntensityMap,He=qe&&!!P.transmissionMap,et=qe&&!!P.thicknessMap,Ie=!!P.gradientMap,ee=!!P.alphaMap,Be=P.alphaTest>0,$e=!!P.alphaHash,ut=!!P.extensions;let dt=Na;P.toneMapped&&(Xe===null||Xe.isXRRenderTarget===!0)&&(dt=t.toneMapping);const It={isWebGL2:f,shaderID:Z,shaderType:P.type,shaderName:P.name,vertexShader:le,fragmentShader:pe,defines:P.defines,customVertexShaderID:we,customFragmentShaderID:ze,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:y,batching:Ve,instancing:xe,instancingColor:xe&&F.instanceColor!==null,supportsVertexTextures:m,outputColorSpace:Xe===null?t.outputColorSpace:Xe.isXRRenderTarget===!0?Xe.texture.colorSpace:za,alphaToCoverage:!!P.alphaToCoverage,map:De,matcap:V,envMap:Ae,envMapMode:Ae&&B.mapping,envMapCubeUVHeight:q,aoMap:de,lightMap:Re,bumpMap:_e,normalMap:Je,displacementMap:m&&Ge,emissiveMap:W,normalMapObjectSpace:Je&&P.normalMapType===s8,normalMapTangentSpace:Je&&P.normalMapType===Gl,metalnessMap:z,roughnessMap:he,anisotropy:Ne,anisotropyMap:rt,clearcoat:Le,clearcoatMap:gt,clearcoatNormalMap:Mt,clearcoatRoughnessMap:ke,iridescence:Oe,iridescenceMap:$t,iridescenceThicknessMap:Rt,sheen:nt,sheenColorMap:_t,sheenRoughnessMap:it,specularMap:at,specularColorMap:ae,specularIntensityMap:Pe,transmission:qe,transmissionMap:He,thicknessMap:et,gradientMap:Ie,opaque:P.transparent===!1&&P.blending===Qu&&P.alphaToCoverage===!1,alphaMap:ee,alphaTest:Be,alphaHash:$e,combine:P.combine,mapUv:De&&v(P.map.channel),aoMapUv:de&&v(P.aoMap.channel),lightMapUv:Re&&v(P.lightMap.channel),bumpMapUv:_e&&v(P.bumpMap.channel),normalMapUv:Je&&v(P.normalMap.channel),displacementMapUv:Ge&&v(P.displacementMap.channel),emissiveMapUv:W&&v(P.emissiveMap.channel),metalnessMapUv:z&&v(P.metalnessMap.channel),roughnessMapUv:he&&v(P.roughnessMap.channel),anisotropyMapUv:rt&&v(P.anisotropyMap.channel),clearcoatMapUv:gt&&v(P.clearcoatMap.channel),clearcoatNormalMapUv:Mt&&v(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ke&&v(P.clearcoatRoughnessMap.channel),iridescenceMapUv:$t&&v(P.iridescenceMap.channel),iridescenceThicknessMapUv:Rt&&v(P.iridescenceThicknessMap.channel),sheenColorMapUv:_t&&v(P.sheenColorMap.channel),sheenRoughnessMapUv:it&&v(P.sheenRoughnessMap.channel),specularMapUv:at&&v(P.specularMap.channel),specularColorMapUv:ae&&v(P.specularColorMap.channel),specularIntensityMapUv:Pe&&v(P.specularIntensityMap.channel),transmissionMapUv:He&&v(P.transmissionMap.channel),thicknessMapUv:et&&v(P.thicknessMap.channel),alphaMapUv:ee&&v(P.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(Je||Ne),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,pointsUvs:F.isPoints===!0&&!!$.attributes.uv&&(De||ee),fog:!!G,useFog:P.fog===!0,fogExp2:!!G&&G.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:F.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:re,morphTextureStride:me,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&j.length>0,shadowMapType:t.shadowMap.type,toneMapping:dt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:De&&P.map.isVideoTexture===!0&&fn.getTransfer(P.map.colorSpace)===wn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===ta,flipSided:P.side===xi,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:ut&&P.extensions.derivatives===!0,extensionFragDepth:ut&&P.extensions.fragDepth===!0,extensionDrawBuffers:ut&&P.extensions.drawBuffers===!0,extensionShaderTextureLOD:ut&&P.extensions.shaderTextureLOD===!0,extensionClipCullDistance:ut&&P.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:ut&&P.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return It.vertexUv1s=u.has(1),It.vertexUv2s=u.has(2),It.vertexUv3s=u.has(3),u.clear(),It}function _(P){const R=[];if(P.shaderID?R.push(P.shaderID):(R.push(P.customVertexShaderID),R.push(P.customFragmentShaderID)),P.defines!==void 0)for(const j in P.defines)R.push(j),R.push(P.defines[j]);return P.isRawShaderMaterial===!1&&(S(R,P),w(R,P),R.push(t.outputColorSpace)),R.push(P.customProgramCacheKey),R.join()}function S(P,R){P.push(R.precision),P.push(R.outputColorSpace),P.push(R.envMapMode),P.push(R.envMapCubeUVHeight),P.push(R.mapUv),P.push(R.alphaMapUv),P.push(R.lightMapUv),P.push(R.aoMapUv),P.push(R.bumpMapUv),P.push(R.normalMapUv),P.push(R.displacementMapUv),P.push(R.emissiveMapUv),P.push(R.metalnessMapUv),P.push(R.roughnessMapUv),P.push(R.anisotropyMapUv),P.push(R.clearcoatMapUv),P.push(R.clearcoatNormalMapUv),P.push(R.clearcoatRoughnessMapUv),P.push(R.iridescenceMapUv),P.push(R.iridescenceThicknessMapUv),P.push(R.sheenColorMapUv),P.push(R.sheenRoughnessMapUv),P.push(R.specularMapUv),P.push(R.specularColorMapUv),P.push(R.specularIntensityMapUv),P.push(R.transmissionMapUv),P.push(R.thicknessMapUv),P.push(R.combine),P.push(R.fogExp2),P.push(R.sizeAttenuation),P.push(R.morphTargetsCount),P.push(R.morphAttributeCount),P.push(R.numDirLights),P.push(R.numPointLights),P.push(R.numSpotLights),P.push(R.numSpotLightMaps),P.push(R.numHemiLights),P.push(R.numRectAreaLights),P.push(R.numDirLightShadows),P.push(R.numPointLightShadows),P.push(R.numSpotLightShadows),P.push(R.numSpotLightShadowsWithMaps),P.push(R.numLightProbes),P.push(R.shadowMapType),P.push(R.toneMapping),P.push(R.numClippingPlanes),P.push(R.numClipIntersection),P.push(R.depthPacking)}function w(P,R){s.disableAll(),R.isWebGL2&&s.enable(0),R.supportsVertexTextures&&s.enable(1),R.instancing&&s.enable(2),R.instancingColor&&s.enable(3),R.matcap&&s.enable(4),R.envMap&&s.enable(5),R.normalMapObjectSpace&&s.enable(6),R.normalMapTangentSpace&&s.enable(7),R.clearcoat&&s.enable(8),R.iridescence&&s.enable(9),R.alphaTest&&s.enable(10),R.vertexColors&&s.enable(11),R.vertexAlphas&&s.enable(12),R.vertexUv1s&&s.enable(13),R.vertexUv2s&&s.enable(14),R.vertexUv3s&&s.enable(15),R.vertexTangents&&s.enable(16),R.anisotropy&&s.enable(17),R.alphaHash&&s.enable(18),R.batching&&s.enable(19),P.push(s.mask),s.disableAll(),R.fog&&s.enable(0),R.useFog&&s.enable(1),R.flatShading&&s.enable(2),R.logarithmicDepthBuffer&&s.enable(3),R.skinning&&s.enable(4),R.morphTargets&&s.enable(5),R.morphNormals&&s.enable(6),R.morphColors&&s.enable(7),R.premultipliedAlpha&&s.enable(8),R.shadowMapEnabled&&s.enable(9),R.useLegacyLights&&s.enable(10),R.doubleSided&&s.enable(11),R.flipSided&&s.enable(12),R.useDepthPacking&&s.enable(13),R.dithering&&s.enable(14),R.transmission&&s.enable(15),R.sheen&&s.enable(16),R.opaque&&s.enable(17),R.pointsUvs&&s.enable(18),R.decodeVideoTexture&&s.enable(19),R.alphaToCoverage&&s.enable(20),P.push(s.mask)}function M(P){const R=x[P.type];let j;if(R){const Y=Qo[R];j=S8.clone(Y.uniforms)}else j=P.uniforms;return j}function E(P,R){let j;for(let Y=0,F=c.length;Y<F;Y++){const G=c[Y];if(G.cacheKey===R){j=G,++j.usedTimes;break}}return j===void 0&&(j=new U2e(t,R,P,o),c.push(j)),j}function T(P){if(--P.usedTimes===0){const R=c.indexOf(P);c[R]=c[c.length-1],c.pop(),P.destroy()}}function O(P){l.remove(P)}function N(){l.dispose()}return{getParameters:g,getProgramCacheKey:_,getUniforms:M,acquireProgram:E,releaseProgram:T,releaseShaderCache:O,programs:c,dispose:N}}function V2e(){let t=new WeakMap;function e(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function n(o){t.delete(o)}function r(o,a,s){t.get(o)[a]=s}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function H2e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function AF(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function TF(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(f,d,m,y,x,v){let g=t[e];return g===void 0?(g={id:f.id,object:f,geometry:d,material:m,groupOrder:y,renderOrder:f.renderOrder,z:x,group:v},t[e]=g):(g.id=f.id,g.object=f,g.geometry=d,g.material=m,g.groupOrder=y,g.renderOrder=f.renderOrder,g.z=x,g.group=v),e++,g}function s(f,d,m,y,x,v){const g=a(f,d,m,y,x,v);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(f,d,m,y,x,v){const g=a(f,d,m,y,x,v);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function u(f,d){n.length>1&&n.sort(f||H2e),r.length>1&&r.sort(d||AF),i.length>1&&i.sort(d||AF)}function c(){for(let f=e,d=t.length;f<d;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:c,sort:u}}function $2e(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new TF,t.set(r,[a])):i>=o.length?(a=new TF,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function W2e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new K,color:new ot};break;case"SpotLight":n={position:new K,direction:new K,color:new ot,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new K,color:new ot,distance:0,decay:0};break;case"HemisphereLight":n={direction:new K,skyColor:new ot,groundColor:new ot};break;case"RectAreaLight":n={color:new ot,position:new K,halfWidth:new K,halfHeight:new K};break}return t[e.id]=n,n}}}function G2e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let X2e=0;function q2e(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Y2e(t,e){const n=new W2e,r=G2e(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new K);const o=new K,a=new Ct,s=new Ct;function l(c,f){let d=0,m=0,y=0;for(let j=0;j<9;j++)i.probe[j].set(0,0,0);let x=0,v=0,g=0,_=0,S=0,w=0,M=0,E=0,T=0,O=0,N=0;c.sort(q2e);const P=f===!0?Math.PI:1;for(let j=0,Y=c.length;j<Y;j++){const F=c[j],G=F.color,$=F.intensity,te=F.distance,B=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)d+=G.r*$*P,m+=G.g*$*P,y+=G.b*$*P;else if(F.isLightProbe){for(let q=0;q<9;q++)i.probe[q].addScaledVector(F.sh.coefficients[q],$);N++}else if(F.isDirectionalLight){const q=n.get(F);if(q.color.copy(F.color).multiplyScalar(F.intensity*P),F.castShadow){const Z=F.shadow,oe=r.get(F);oe.shadowBias=Z.bias,oe.shadowNormalBias=Z.normalBias,oe.shadowRadius=Z.radius,oe.shadowMapSize=Z.mapSize,i.directionalShadow[x]=oe,i.directionalShadowMap[x]=B,i.directionalShadowMatrix[x]=F.shadow.matrix,w++}i.directional[x]=q,x++}else if(F.isSpotLight){const q=n.get(F);q.position.setFromMatrixPosition(F.matrixWorld),q.color.copy(G).multiplyScalar($*P),q.distance=te,q.coneCos=Math.cos(F.angle),q.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),q.decay=F.decay,i.spot[g]=q;const Z=F.shadow;if(F.map&&(i.spotLightMap[T]=F.map,T++,Z.updateMatrices(F),F.castShadow&&O++),i.spotLightMatrix[g]=Z.matrix,F.castShadow){const oe=r.get(F);oe.shadowBias=Z.bias,oe.shadowNormalBias=Z.normalBias,oe.shadowRadius=Z.radius,oe.shadowMapSize=Z.mapSize,i.spotShadow[g]=oe,i.spotShadowMap[g]=B,E++}g++}else if(F.isRectAreaLight){const q=n.get(F);q.color.copy(G).multiplyScalar($),q.halfWidth.set(F.width*.5,0,0),q.halfHeight.set(0,F.height*.5,0),i.rectArea[_]=q,_++}else if(F.isPointLight){const q=n.get(F);if(q.color.copy(F.color).multiplyScalar(F.intensity*P),q.distance=F.distance,q.decay=F.decay,F.castShadow){const Z=F.shadow,oe=r.get(F);oe.shadowBias=Z.bias,oe.shadowNormalBias=Z.normalBias,oe.shadowRadius=Z.radius,oe.shadowMapSize=Z.mapSize,oe.shadowCameraNear=Z.camera.near,oe.shadowCameraFar=Z.camera.far,i.pointShadow[v]=oe,i.pointShadowMap[v]=B,i.pointShadowMatrix[v]=F.shadow.matrix,M++}i.point[v]=q,v++}else if(F.isHemisphereLight){const q=n.get(F);q.skyColor.copy(F.color).multiplyScalar($*P),q.groundColor.copy(F.groundColor).multiplyScalar($*P),i.hemi[S]=q,S++}}_>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ke.LTC_FLOAT_1,i.rectAreaLTC2=Ke.LTC_FLOAT_2):(i.rectAreaLTC1=Ke.LTC_HALF_1,i.rectAreaLTC2=Ke.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ke.LTC_FLOAT_1,i.rectAreaLTC2=Ke.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ke.LTC_HALF_1,i.rectAreaLTC2=Ke.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=m,i.ambient[2]=y;const R=i.hash;(R.directionalLength!==x||R.pointLength!==v||R.spotLength!==g||R.rectAreaLength!==_||R.hemiLength!==S||R.numDirectionalShadows!==w||R.numPointShadows!==M||R.numSpotShadows!==E||R.numSpotMaps!==T||R.numLightProbes!==N)&&(i.directional.length=x,i.spot.length=g,i.rectArea.length=_,i.point.length=v,i.hemi.length=S,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=E+T-O,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=O,i.numLightProbes=N,R.directionalLength=x,R.pointLength=v,R.spotLength=g,R.rectAreaLength=_,R.hemiLength=S,R.numDirectionalShadows=w,R.numPointShadows=M,R.numSpotShadows=E,R.numSpotMaps=T,R.numLightProbes=N,i.version=X2e++)}function u(c,f){let d=0,m=0,y=0,x=0,v=0;const g=f.matrixWorldInverse;for(let _=0,S=c.length;_<S;_++){const w=c[_];if(w.isDirectionalLight){const M=i.directional[d];M.direction.setFromMatrixPosition(w.matrixWorld),o.setFromMatrixPosition(w.target.matrixWorld),M.direction.sub(o),M.direction.transformDirection(g),d++}else if(w.isSpotLight){const M=i.spot[y];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(g),M.direction.setFromMatrixPosition(w.matrixWorld),o.setFromMatrixPosition(w.target.matrixWorld),M.direction.sub(o),M.direction.transformDirection(g),y++}else if(w.isRectAreaLight){const M=i.rectArea[x];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(g),s.identity(),a.copy(w.matrixWorld),a.premultiply(g),s.extractRotation(a),M.halfWidth.set(w.width*.5,0,0),M.halfHeight.set(0,w.height*.5,0),M.halfWidth.applyMatrix4(s),M.halfHeight.applyMatrix4(s),x++}else if(w.isPointLight){const M=i.point[m];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(g),m++}else if(w.isHemisphereLight){const M=i.hemi[v];M.direction.setFromMatrixPosition(w.matrixWorld),M.direction.transformDirection(g),v++}}}return{setup:l,setupView:u,state:i}}function PF(t,e){const n=new Y2e(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function a(f){r.push(f)}function s(f){i.push(f)}function l(f){n.setup(r,f)}function u(f){n.setupView(r,f)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:a,pushShadow:s}}function K2e(t,e){let n=new WeakMap;function r(o,a=0){const s=n.get(o);let l;return s===void 0?(l=new PF(t,e),n.set(o,[l])):a>=s.length?(l=new PF(t,e),s.push(l)):l=s[a],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class Z1 extends jr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=o8,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class cO extends jr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Z2e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,J2e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Q2e(t,e,n){let r=new Vg;const i=new Ce,o=new Ce,a=new hn,s=new Z1({depthPacking:a8}),l=new cO,u={},c=n.maxTextureSize,f={[Ts]:xi,[xi]:Ts,[ta]:ta},d=new Si({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ce},radius:{value:4}},vertexShader:Z2e,fragmentShader:J2e}),m=d.clone();m.defines.HORIZONTAL_PASS=1;const y=new Bt;y.setAttribute("position",new pn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new tr(y,d),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=$1;let g=this.type;this.render=function(E,T,O){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||E.length===0)return;const N=t.getRenderTarget(),P=t.getActiveCubeFace(),R=t.getActiveMipmapLevel(),j=t.state;j.setBlending(vs),j.buffers.color.setClear(1,1,1,1),j.buffers.depth.setTest(!0),j.setScissorTest(!1);const Y=g!==Yo&&this.type===Yo,F=g===Yo&&this.type!==Yo;for(let G=0,$=E.length;G<$;G++){const te=E[G],B=te.shadow;if(B===void 0){console.warn("THREE.WebGLShadowMap:",te,"has no shadow.");continue}if(B.autoUpdate===!1&&B.needsUpdate===!1)continue;i.copy(B.mapSize);const q=B.getFrameExtents();if(i.multiply(q),o.copy(B.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(o.x=Math.floor(c/q.x),i.x=o.x*q.x,B.mapSize.x=o.x),i.y>c&&(o.y=Math.floor(c/q.y),i.y=o.y*q.y,B.mapSize.y=o.y)),B.map===null||Y===!0||F===!0){const oe=this.type!==Yo?{minFilter:or,magFilter:or}:{};B.map!==null&&B.map.dispose(),B.map=new oo(i.x,i.y,oe),B.map.texture.name=te.name+".shadowMap",B.camera.updateProjectionMatrix()}t.setRenderTarget(B.map),t.clear();const Z=B.getViewportCount();for(let oe=0;oe<Z;oe++){const re=B.getViewport(oe);a.set(o.x*re.x,o.y*re.y,o.x*re.z,o.y*re.w),j.viewport(a),B.updateMatrices(te,oe),r=B.getFrustum(),w(T,O,B.camera,te,this.type)}B.isPointLightShadow!==!0&&this.type===Yo&&_(B,O),B.needsUpdate=!1}g=this.type,v.needsUpdate=!1,t.setRenderTarget(N,P,R)};function _(E,T){const O=e.update(x);d.defines.VSM_SAMPLES!==E.blurSamples&&(d.defines.VSM_SAMPLES=E.blurSamples,m.defines.VSM_SAMPLES=E.blurSamples,d.needsUpdate=!0,m.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new oo(i.x,i.y)),d.uniforms.shadow_pass.value=E.map.texture,d.uniforms.resolution.value=E.mapSize,d.uniforms.radius.value=E.radius,t.setRenderTarget(E.mapPass),t.clear(),t.renderBufferDirect(T,null,O,d,x,null),m.uniforms.shadow_pass.value=E.mapPass.texture,m.uniforms.resolution.value=E.mapSize,m.uniforms.radius.value=E.radius,t.setRenderTarget(E.map),t.clear(),t.renderBufferDirect(T,null,O,m,x,null)}function S(E,T,O,N){let P=null;const R=O.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(R!==void 0)P=R;else if(P=O.isPointLight===!0?l:s,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const j=P.uuid,Y=T.uuid;let F=u[j];F===void 0&&(F={},u[j]=F);let G=F[Y];G===void 0&&(G=P.clone(),F[Y]=G,T.addEventListener("dispose",M)),P=G}if(P.visible=T.visible,P.wireframe=T.wireframe,N===Yo?P.side=T.shadowSide!==null?T.shadowSide:T.side:P.side=T.shadowSide!==null?T.shadowSide:f[T.side],P.alphaMap=T.alphaMap,P.alphaTest=T.alphaTest,P.map=T.map,P.clipShadows=T.clipShadows,P.clippingPlanes=T.clippingPlanes,P.clipIntersection=T.clipIntersection,P.displacementMap=T.displacementMap,P.displacementScale=T.displacementScale,P.displacementBias=T.displacementBias,P.wireframeLinewidth=T.wireframeLinewidth,P.linewidth=T.linewidth,O.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const j=t.properties.get(P);j.light=O}return P}function w(E,T,O,N,P){if(E.visible===!1)return;if(E.layers.test(T.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&P===Yo)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,E.matrixWorld);const Y=e.update(E),F=E.material;if(Array.isArray(F)){const G=Y.groups;for(let $=0,te=G.length;$<te;$++){const B=G[$],q=F[B.materialIndex];if(q&&q.visible){const Z=S(E,q,N,P);E.onBeforeShadow(t,E,T,O,Y,Z,B),t.renderBufferDirect(O,null,Y,Z,E,B),E.onAfterShadow(t,E,T,O,Y,Z,B)}}}else if(F.visible){const G=S(E,F,N,P);E.onBeforeShadow(t,E,T,O,Y,G,null),t.renderBufferDirect(O,null,Y,G,E,null),E.onAfterShadow(t,E,T,O,Y,G,null)}}const j=E.children;for(let Y=0,F=j.length;Y<F;Y++)w(j[Y],T,O,N,P)}function M(E){E.target.removeEventListener("dispose",M);for(const O in u){const N=u[O],P=E.target.uuid;P in N&&(N[P].dispose(),delete N[P])}}}function eOe(t,e,n){const r=n.isWebGL2;function i(){let ee=!1;const Be=new hn;let $e=null;const ut=new hn(0,0,0,0);return{setMask:function(dt){$e!==dt&&!ee&&(t.colorMask(dt,dt,dt,dt),$e=dt)},setLocked:function(dt){ee=dt},setClear:function(dt,It,Xt,gn,Un){Un===!0&&(dt*=gn,It*=gn,Xt*=gn),Be.set(dt,It,Xt,gn),ut.equals(Be)===!1&&(t.clearColor(dt,It,Xt,gn),ut.copy(Be))},reset:function(){ee=!1,$e=null,ut.set(-1,0,0,0)}}}function o(){let ee=!1,Be=null,$e=null,ut=null;return{setTest:function(dt){dt?xe(t.DEPTH_TEST):Ve(t.DEPTH_TEST)},setMask:function(dt){Be!==dt&&!ee&&(t.depthMask(dt),Be=dt)},setFunc:function(dt){if($e!==dt){switch(dt){case N6:t.depthFunc(t.NEVER);break;case D6:t.depthFunc(t.ALWAYS);break;case k6:t.depthFunc(t.LESS);break;case Jm:t.depthFunc(t.LEQUAL);break;case U6:t.depthFunc(t.EQUAL);break;case F6:t.depthFunc(t.GEQUAL);break;case B6:t.depthFunc(t.GREATER);break;case z6:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}$e=dt}},setLocked:function(dt){ee=dt},setClear:function(dt){ut!==dt&&(t.clearDepth(dt),ut=dt)},reset:function(){ee=!1,Be=null,$e=null,ut=null}}}function a(){let ee=!1,Be=null,$e=null,ut=null,dt=null,It=null,Xt=null,gn=null,Un=null;return{setTest:function(Jt){ee||(Jt?xe(t.STENCIL_TEST):Ve(t.STENCIL_TEST))},setMask:function(Jt){Be!==Jt&&!ee&&(t.stencilMask(Jt),Be=Jt)},setFunc:function(Jt,pr,Ei){($e!==Jt||ut!==pr||dt!==Ei)&&(t.stencilFunc(Jt,pr,Ei),$e=Jt,ut=pr,dt=Ei)},setOp:function(Jt,pr,Ei){(It!==Jt||Xt!==pr||gn!==Ei)&&(t.stencilOp(Jt,pr,Ei),It=Jt,Xt=pr,gn=Ei)},setLocked:function(Jt){ee=Jt},setClear:function(Jt){Un!==Jt&&(t.clearStencil(Jt),Un=Jt)},reset:function(){ee=!1,Be=null,$e=null,ut=null,dt=null,It=null,Xt=null,gn=null,Un=null}}}const s=new i,l=new o,u=new a,c=new WeakMap,f=new WeakMap;let d={},m={},y=new WeakMap,x=[],v=null,g=!1,_=null,S=null,w=null,M=null,E=null,T=null,O=null,N=new ot(0,0,0),P=0,R=!1,j=null,Y=null,F=null,G=null,$=null;const te=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let B=!1,q=0;const Z=t.getParameter(t.VERSION);Z.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(Z)[1]),B=q>=1):Z.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(Z)[1]),B=q>=2);let oe=null,re={};const me=t.getParameter(t.SCISSOR_BOX),le=t.getParameter(t.VIEWPORT),pe=new hn().fromArray(me),we=new hn().fromArray(le);function ze(ee,Be,$e,ut){const dt=new Uint8Array(4),It=t.createTexture();t.bindTexture(ee,It),t.texParameteri(ee,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ee,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Xt=0;Xt<$e;Xt++)r&&(ee===t.TEXTURE_3D||ee===t.TEXTURE_2D_ARRAY)?t.texImage3D(Be,0,t.RGBA,1,1,ut,0,t.RGBA,t.UNSIGNED_BYTE,dt):t.texImage2D(Be+Xt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,dt);return It}const Xe={};Xe[t.TEXTURE_2D]=ze(t.TEXTURE_2D,t.TEXTURE_2D,1),Xe[t.TEXTURE_CUBE_MAP]=ze(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Xe[t.TEXTURE_2D_ARRAY]=ze(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Xe[t.TEXTURE_3D]=ze(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),l.setClear(1),u.setClear(0),xe(t.DEPTH_TEST),l.setFunc(Jm),Ge(!1),W(gT),xe(t.CULL_FACE),_e(vs);function xe(ee){d[ee]!==!0&&(t.enable(ee),d[ee]=!0)}function Ve(ee){d[ee]!==!1&&(t.disable(ee),d[ee]=!1)}function De(ee,Be){return m[ee]!==Be?(t.bindFramebuffer(ee,Be),m[ee]=Be,r&&(ee===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=Be),ee===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=Be)),!0):!1}function V(ee,Be){let $e=x,ut=!1;if(ee)if($e=y.get(Be),$e===void 0&&($e=[],y.set(Be,$e)),ee.isWebGLMultipleRenderTargets){const dt=ee.texture;if($e.length!==dt.length||$e[0]!==t.COLOR_ATTACHMENT0){for(let It=0,Xt=dt.length;It<Xt;It++)$e[It]=t.COLOR_ATTACHMENT0+It;$e.length=dt.length,ut=!0}}else $e[0]!==t.COLOR_ATTACHMENT0&&($e[0]=t.COLOR_ATTACHMENT0,ut=!0);else $e[0]!==t.BACK&&($e[0]=t.BACK,ut=!0);ut&&(n.isWebGL2?t.drawBuffers($e):e.get("WEBGL_draw_buffers").drawBuffersWEBGL($e))}function Ae(ee){return v!==ee?(t.useProgram(ee),v=ee,!0):!1}const de={[ll]:t.FUNC_ADD,[x6]:t.FUNC_SUBTRACT,[_6]:t.FUNC_REVERSE_SUBTRACT};if(r)de[xT]=t.MIN,de[_T]=t.MAX;else{const ee=e.get("EXT_blend_minmax");ee!==null&&(de[xT]=ee.MIN_EXT,de[_T]=ee.MAX_EXT)}const Re={[S6]:t.ZERO,[b6]:t.ONE,[w6]:t.SRC_COLOR,[b_]:t.SRC_ALPHA,[C6]:t.SRC_ALPHA_SATURATE,[T6]:t.DST_COLOR,[E6]:t.DST_ALPHA,[M6]:t.ONE_MINUS_SRC_COLOR,[w_]:t.ONE_MINUS_SRC_ALPHA,[P6]:t.ONE_MINUS_DST_COLOR,[A6]:t.ONE_MINUS_DST_ALPHA,[O6]:t.CONSTANT_COLOR,[R6]:t.ONE_MINUS_CONSTANT_COLOR,[I6]:t.CONSTANT_ALPHA,[L6]:t.ONE_MINUS_CONSTANT_ALPHA};function _e(ee,Be,$e,ut,dt,It,Xt,gn,Un,Jt){if(ee===vs){g===!0&&(Ve(t.BLEND),g=!1);return}if(g===!1&&(xe(t.BLEND),g=!0),ee!==y6){if(ee!==_||Jt!==R){if((S!==ll||E!==ll)&&(t.blendEquation(t.FUNC_ADD),S=ll,E=ll),Jt)switch(ee){case Qu:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case S_:t.blendFunc(t.ONE,t.ONE);break;case vT:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case yT:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}else switch(ee){case Qu:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case S_:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case vT:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case yT:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}w=null,M=null,T=null,O=null,N.set(0,0,0),P=0,_=ee,R=Jt}return}dt=dt||Be,It=It||$e,Xt=Xt||ut,(Be!==S||dt!==E)&&(t.blendEquationSeparate(de[Be],de[dt]),S=Be,E=dt),($e!==w||ut!==M||It!==T||Xt!==O)&&(t.blendFuncSeparate(Re[$e],Re[ut],Re[It],Re[Xt]),w=$e,M=ut,T=It,O=Xt),(gn.equals(N)===!1||Un!==P)&&(t.blendColor(gn.r,gn.g,gn.b,Un),N.copy(gn),P=Un),_=ee,R=!1}function Je(ee,Be){ee.side===ta?Ve(t.CULL_FACE):xe(t.CULL_FACE);let $e=ee.side===xi;Be&&($e=!$e),Ge($e),ee.blending===Qu&&ee.transparent===!1?_e(vs):_e(ee.blending,ee.blendEquation,ee.blendSrc,ee.blendDst,ee.blendEquationAlpha,ee.blendSrcAlpha,ee.blendDstAlpha,ee.blendColor,ee.blendAlpha,ee.premultipliedAlpha),l.setFunc(ee.depthFunc),l.setTest(ee.depthTest),l.setMask(ee.depthWrite),s.setMask(ee.colorWrite);const ut=ee.stencilWrite;u.setTest(ut),ut&&(u.setMask(ee.stencilWriteMask),u.setFunc(ee.stencilFunc,ee.stencilRef,ee.stencilFuncMask),u.setOp(ee.stencilFail,ee.stencilZFail,ee.stencilZPass)),he(ee.polygonOffset,ee.polygonOffsetFactor,ee.polygonOffsetUnits),ee.alphaToCoverage===!0?xe(t.SAMPLE_ALPHA_TO_COVERAGE):Ve(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ge(ee){j!==ee&&(ee?t.frontFace(t.CW):t.frontFace(t.CCW),j=ee)}function W(ee){ee!==m6?(xe(t.CULL_FACE),ee!==Y&&(ee===gT?t.cullFace(t.BACK):ee===g6?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ve(t.CULL_FACE),Y=ee}function z(ee){ee!==F&&(B&&t.lineWidth(ee),F=ee)}function he(ee,Be,$e){ee?(xe(t.POLYGON_OFFSET_FILL),(G!==Be||$!==$e)&&(t.polygonOffset(Be,$e),G=Be,$=$e)):Ve(t.POLYGON_OFFSET_FILL)}function Ne(ee){ee?xe(t.SCISSOR_TEST):Ve(t.SCISSOR_TEST)}function Le(ee){ee===void 0&&(ee=t.TEXTURE0+te-1),oe!==ee&&(t.activeTexture(ee),oe=ee)}function Oe(ee,Be,$e){$e===void 0&&(oe===null?$e=t.TEXTURE0+te-1:$e=oe);let ut=re[$e];ut===void 0&&(ut={type:void 0,texture:void 0},re[$e]=ut),(ut.type!==ee||ut.texture!==Be)&&(oe!==$e&&(t.activeTexture($e),oe=$e),t.bindTexture(ee,Be||Xe[ee]),ut.type=ee,ut.texture=Be)}function nt(){const ee=re[oe];ee!==void 0&&ee.type!==void 0&&(t.bindTexture(ee.type,null),ee.type=void 0,ee.texture=void 0)}function qe(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function rt(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function gt(){try{t.texSubImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Mt(){try{t.texSubImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function ke(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function $t(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Rt(){try{t.texStorage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function _t(){try{t.texStorage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function it(){try{t.texImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function at(){try{t.texImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function ae(ee){pe.equals(ee)===!1&&(t.scissor(ee.x,ee.y,ee.z,ee.w),pe.copy(ee))}function Pe(ee){we.equals(ee)===!1&&(t.viewport(ee.x,ee.y,ee.z,ee.w),we.copy(ee))}function He(ee,Be){let $e=f.get(Be);$e===void 0&&($e=new WeakMap,f.set(Be,$e));let ut=$e.get(ee);ut===void 0&&(ut=t.getUniformBlockIndex(Be,ee.name),$e.set(ee,ut))}function et(ee,Be){const ut=f.get(Be).get(ee);c.get(Be)!==ut&&(t.uniformBlockBinding(Be,ut,ee.__bindingPointIndex),c.set(Be,ut))}function Ie(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},oe=null,re={},m={},y=new WeakMap,x=[],v=null,g=!1,_=null,S=null,w=null,M=null,E=null,T=null,O=null,N=new ot(0,0,0),P=0,R=!1,j=null,Y=null,F=null,G=null,$=null,pe.set(0,0,t.canvas.width,t.canvas.height),we.set(0,0,t.canvas.width,t.canvas.height),s.reset(),l.reset(),u.reset()}return{buffers:{color:s,depth:l,stencil:u},enable:xe,disable:Ve,bindFramebuffer:De,drawBuffers:V,useProgram:Ae,setBlending:_e,setMaterial:Je,setFlipSided:Ge,setCullFace:W,setLineWidth:z,setPolygonOffset:he,setScissorTest:Ne,activeTexture:Le,bindTexture:Oe,unbindTexture:nt,compressedTexImage2D:qe,compressedTexImage3D:rt,texImage2D:it,texImage3D:at,updateUBOMapping:He,uniformBlockBinding:et,texStorage2D:Rt,texStorage3D:_t,texSubImage2D:gt,texSubImage3D:Mt,compressedTexSubImage2D:ke,compressedTexSubImage3D:$t,scissor:ae,viewport:Pe,reset:Ie}}function tOe(t,e,n,r,i,o,a){const s=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new WeakMap;let f;const d=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(W,z){return m?new OffscreenCanvas(W,z):cg("canvas")}function x(W,z,he,Ne){let Le=1;if((W.width>Ne||W.height>Ne)&&(Le=Ne/Math.max(W.width,W.height)),Le<1||z===!0)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap){const Oe=z?A_:Math.floor,nt=Oe(Le*W.width),qe=Oe(Le*W.height);f===void 0&&(f=y(nt,qe));const rt=he?y(nt,qe):f;return rt.width=nt,rt.height=qe,rt.getContext("2d").drawImage(W,0,0,nt,qe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+W.width+"x"+W.height+") to ("+nt+"x"+qe+")."),rt}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+W.width+"x"+W.height+")."),W;return W}function v(W){return YT(W.width)&&YT(W.height)}function g(W){return s?!1:W.wrapS!==ni||W.wrapT!==ni||W.minFilter!==or&&W.minFilter!==xn}function _(W,z){return W.generateMipmaps&&z&&W.minFilter!==or&&W.minFilter!==xn}function S(W){t.generateMipmap(W)}function w(W,z,he,Ne,Le=!1){if(s===!1)return z;if(W!==null){if(t[W]!==void 0)return t[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let Oe=z;if(z===t.RED&&(he===t.FLOAT&&(Oe=t.R32F),he===t.HALF_FLOAT&&(Oe=t.R16F),he===t.UNSIGNED_BYTE&&(Oe=t.R8)),z===t.RED_INTEGER&&(he===t.UNSIGNED_BYTE&&(Oe=t.R8UI),he===t.UNSIGNED_SHORT&&(Oe=t.R16UI),he===t.UNSIGNED_INT&&(Oe=t.R32UI),he===t.BYTE&&(Oe=t.R8I),he===t.SHORT&&(Oe=t.R16I),he===t.INT&&(Oe=t.R32I)),z===t.RG&&(he===t.FLOAT&&(Oe=t.RG32F),he===t.HALF_FLOAT&&(Oe=t.RG16F),he===t.UNSIGNED_BYTE&&(Oe=t.RG8)),z===t.RGBA){const nt=Le?og:fn.getTransfer(Ne);he===t.FLOAT&&(Oe=t.RGBA32F),he===t.HALF_FLOAT&&(Oe=t.RGBA16F),he===t.UNSIGNED_BYTE&&(Oe=nt===wn?t.SRGB8_ALPHA8:t.RGBA8),he===t.UNSIGNED_SHORT_4_4_4_4&&(Oe=t.RGBA4),he===t.UNSIGNED_SHORT_5_5_5_1&&(Oe=t.RGB5_A1)}return(Oe===t.R16F||Oe===t.R32F||Oe===t.RG16F||Oe===t.RG32F||Oe===t.RGBA16F||Oe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Oe}function M(W,z,he){return _(W,he)===!0||W.isFramebufferTexture&&W.minFilter!==or&&W.minFilter!==xn?Math.log2(Math.max(z.width,z.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?z.mipmaps.length:1}function E(W){return W===or||W===M_||W===Ou?t.NEAREST:t.LINEAR}function T(W){const z=W.target;z.removeEventListener("dispose",T),N(z),z.isVideoTexture&&c.delete(z)}function O(W){const z=W.target;z.removeEventListener("dispose",O),R(z)}function N(W){const z=r.get(W);if(z.__webglInit===void 0)return;const he=W.source,Ne=d.get(he);if(Ne){const Le=Ne[z.__cacheKey];Le.usedTimes--,Le.usedTimes===0&&P(W),Object.keys(Ne).length===0&&d.delete(he)}r.remove(W)}function P(W){const z=r.get(W);t.deleteTexture(z.__webglTexture);const he=W.source,Ne=d.get(he);delete Ne[z.__cacheKey],a.memory.textures--}function R(W){const z=W.texture,he=r.get(W),Ne=r.get(z);if(Ne.__webglTexture!==void 0&&(t.deleteTexture(Ne.__webglTexture),a.memory.textures--),W.depthTexture&&W.depthTexture.dispose(),W.isWebGLCubeRenderTarget)for(let Le=0;Le<6;Le++){if(Array.isArray(he.__webglFramebuffer[Le]))for(let Oe=0;Oe<he.__webglFramebuffer[Le].length;Oe++)t.deleteFramebuffer(he.__webglFramebuffer[Le][Oe]);else t.deleteFramebuffer(he.__webglFramebuffer[Le]);he.__webglDepthbuffer&&t.deleteRenderbuffer(he.__webglDepthbuffer[Le])}else{if(Array.isArray(he.__webglFramebuffer))for(let Le=0;Le<he.__webglFramebuffer.length;Le++)t.deleteFramebuffer(he.__webglFramebuffer[Le]);else t.deleteFramebuffer(he.__webglFramebuffer);if(he.__webglDepthbuffer&&t.deleteRenderbuffer(he.__webglDepthbuffer),he.__webglMultisampledFramebuffer&&t.deleteFramebuffer(he.__webglMultisampledFramebuffer),he.__webglColorRenderbuffer)for(let Le=0;Le<he.__webglColorRenderbuffer.length;Le++)he.__webglColorRenderbuffer[Le]&&t.deleteRenderbuffer(he.__webglColorRenderbuffer[Le]);he.__webglDepthRenderbuffer&&t.deleteRenderbuffer(he.__webglDepthRenderbuffer)}if(W.isWebGLMultipleRenderTargets)for(let Le=0,Oe=z.length;Le<Oe;Le++){const nt=r.get(z[Le]);nt.__webglTexture&&(t.deleteTexture(nt.__webglTexture),a.memory.textures--),r.remove(z[Le])}r.remove(z),r.remove(W)}let j=0;function Y(){j=0}function F(){const W=j;return W>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+i.maxTextures),j+=1,W}function G(W){const z=[];return z.push(W.wrapS),z.push(W.wrapT),z.push(W.wrapR||0),z.push(W.magFilter),z.push(W.minFilter),z.push(W.anisotropy),z.push(W.internalFormat),z.push(W.format),z.push(W.type),z.push(W.generateMipmaps),z.push(W.premultiplyAlpha),z.push(W.flipY),z.push(W.unpackAlignment),z.push(W.colorSpace),z.join()}function $(W,z){const he=r.get(W);if(W.isVideoTexture&&Je(W),W.isRenderTargetTexture===!1&&W.version>0&&he.__version!==W.version){const Ne=W.image;if(Ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{pe(he,W,z);return}}n.bindTexture(t.TEXTURE_2D,he.__webglTexture,t.TEXTURE0+z)}function te(W,z){const he=r.get(W);if(W.version>0&&he.__version!==W.version){pe(he,W,z);return}n.bindTexture(t.TEXTURE_2D_ARRAY,he.__webglTexture,t.TEXTURE0+z)}function B(W,z){const he=r.get(W);if(W.version>0&&he.__version!==W.version){pe(he,W,z);return}n.bindTexture(t.TEXTURE_3D,he.__webglTexture,t.TEXTURE0+z)}function q(W,z){const he=r.get(W);if(W.version>0&&he.__version!==W.version){we(he,W,z);return}n.bindTexture(t.TEXTURE_CUBE_MAP,he.__webglTexture,t.TEXTURE0+z)}const Z={[eg]:t.REPEAT,[ni]:t.CLAMP_TO_EDGE,[tg]:t.MIRRORED_REPEAT},oe={[or]:t.NEAREST,[M_]:t.NEAREST_MIPMAP_NEAREST,[Ou]:t.NEAREST_MIPMAP_LINEAR,[xn]:t.LINEAR,[jp]:t.LINEAR_MIPMAP_NEAREST,[Aa]:t.LINEAR_MIPMAP_LINEAR},re={[l8]:t.NEVER,[p8]:t.ALWAYS,[u8]:t.LESS,[tO]:t.LEQUAL,[c8]:t.EQUAL,[d8]:t.GEQUAL,[f8]:t.GREATER,[h8]:t.NOTEQUAL};function me(W,z,he){if(z.type===Rr&&e.has("OES_texture_float_linear")===!1&&(z.magFilter===xn||z.magFilter===jp||z.magFilter===Ou||z.magFilter===Aa||z.minFilter===xn||z.minFilter===jp||z.minFilter===Ou||z.minFilter===Aa)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),he?(t.texParameteri(W,t.TEXTURE_WRAP_S,Z[z.wrapS]),t.texParameteri(W,t.TEXTURE_WRAP_T,Z[z.wrapT]),(W===t.TEXTURE_3D||W===t.TEXTURE_2D_ARRAY)&&t.texParameteri(W,t.TEXTURE_WRAP_R,Z[z.wrapR]),t.texParameteri(W,t.TEXTURE_MAG_FILTER,oe[z.magFilter]),t.texParameteri(W,t.TEXTURE_MIN_FILTER,oe[z.minFilter])):(t.texParameteri(W,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(W,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(W===t.TEXTURE_3D||W===t.TEXTURE_2D_ARRAY)&&t.texParameteri(W,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(z.wrapS!==ni||z.wrapT!==ni)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(W,t.TEXTURE_MAG_FILTER,E(z.magFilter)),t.texParameteri(W,t.TEXTURE_MIN_FILTER,E(z.minFilter)),z.minFilter!==or&&z.minFilter!==xn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),z.compareFunction&&(t.texParameteri(W,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(W,t.TEXTURE_COMPARE_FUNC,re[z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ne=e.get("EXT_texture_filter_anisotropic");if(z.magFilter===or||z.minFilter!==Ou&&z.minFilter!==Aa||z.type===Rr&&e.has("OES_texture_float_linear")===!1||s===!1&&z.type===vi&&e.has("OES_texture_half_float_linear")===!1)return;(z.anisotropy>1||r.get(z).__currentAnisotropy)&&(t.texParameterf(W,Ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,i.getMaxAnisotropy())),r.get(z).__currentAnisotropy=z.anisotropy)}}function le(W,z){let he=!1;W.__webglInit===void 0&&(W.__webglInit=!0,z.addEventListener("dispose",T));const Ne=z.source;let Le=d.get(Ne);Le===void 0&&(Le={},d.set(Ne,Le));const Oe=G(z);if(Oe!==W.__cacheKey){Le[Oe]===void 0&&(Le[Oe]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,he=!0),Le[Oe].usedTimes++;const nt=Le[W.__cacheKey];nt!==void 0&&(Le[W.__cacheKey].usedTimes--,nt.usedTimes===0&&P(z)),W.__cacheKey=Oe,W.__webglTexture=Le[Oe].texture}return he}function pe(W,z,he){let Ne=t.TEXTURE_2D;(z.isDataArrayTexture||z.isCompressedArrayTexture)&&(Ne=t.TEXTURE_2D_ARRAY),z.isData3DTexture&&(Ne=t.TEXTURE_3D);const Le=le(W,z),Oe=z.source;n.bindTexture(Ne,W.__webglTexture,t.TEXTURE0+he);const nt=r.get(Oe);if(Oe.version!==nt.__version||Le===!0){n.activeTexture(t.TEXTURE0+he);const qe=fn.getPrimaries(fn.workingColorSpace),rt=z.colorSpace===Ki?null:fn.getPrimaries(z.colorSpace),gt=z.colorSpace===Ki||qe===rt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,gt);const Mt=g(z)&&v(z.image)===!1;let ke=x(z.image,Mt,!1,i.maxTextureSize);ke=Ge(z,ke);const $t=v(ke)||s,Rt=o.convert(z.format,z.colorSpace);let _t=o.convert(z.type),it=w(z.internalFormat,Rt,_t,z.colorSpace,z.isVideoTexture);me(Ne,z,$t);let at;const ae=z.mipmaps,Pe=s&&z.isVideoTexture!==!0&&it!==J2,He=nt.__version===void 0||Le===!0,et=Oe.dataReady,Ie=M(z,ke,$t);if(z.isDepthTexture)it=t.DEPTH_COMPONENT,s?z.type===Rr?it=t.DEPTH_COMPONENT32F:z.type===cs?it=t.DEPTH_COMPONENT24:z.type===Al?it=t.DEPTH24_STENCIL8:it=t.DEPTH_COMPONENT16:z.type===Rr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),z.format===Tl&&it===t.DEPTH_COMPONENT&&z.type!==G1&&z.type!==cs&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),z.type=cs,_t=o.convert(z.type)),z.format===mc&&it===t.DEPTH_COMPONENT&&(it=t.DEPTH_STENCIL,z.type!==Al&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),z.type=Al,_t=o.convert(z.type))),He&&(Pe?n.texStorage2D(t.TEXTURE_2D,1,it,ke.width,ke.height):n.texImage2D(t.TEXTURE_2D,0,it,ke.width,ke.height,0,Rt,_t,null));else if(z.isDataTexture)if(ae.length>0&&$t){Pe&&He&&n.texStorage2D(t.TEXTURE_2D,Ie,it,ae[0].width,ae[0].height);for(let ee=0,Be=ae.length;ee<Be;ee++)at=ae[ee],Pe?et&&n.texSubImage2D(t.TEXTURE_2D,ee,0,0,at.width,at.height,Rt,_t,at.data):n.texImage2D(t.TEXTURE_2D,ee,it,at.width,at.height,0,Rt,_t,at.data);z.generateMipmaps=!1}else Pe?(He&&n.texStorage2D(t.TEXTURE_2D,Ie,it,ke.width,ke.height),et&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ke.width,ke.height,Rt,_t,ke.data)):n.texImage2D(t.TEXTURE_2D,0,it,ke.width,ke.height,0,Rt,_t,ke.data);else if(z.isCompressedTexture)if(z.isCompressedArrayTexture){Pe&&He&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ie,it,ae[0].width,ae[0].height,ke.depth);for(let ee=0,Be=ae.length;ee<Be;ee++)at=ae[ee],z.format!==ri?Rt!==null?Pe?et&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ee,0,0,0,at.width,at.height,ke.depth,Rt,at.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ee,it,at.width,at.height,ke.depth,0,at.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pe?et&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ee,0,0,0,at.width,at.height,ke.depth,Rt,_t,at.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ee,it,at.width,at.height,ke.depth,0,Rt,_t,at.data)}else{Pe&&He&&n.texStorage2D(t.TEXTURE_2D,Ie,it,ae[0].width,ae[0].height);for(let ee=0,Be=ae.length;ee<Be;ee++)at=ae[ee],z.format!==ri?Rt!==null?Pe?et&&n.compressedTexSubImage2D(t.TEXTURE_2D,ee,0,0,at.width,at.height,Rt,at.data):n.compressedTexImage2D(t.TEXTURE_2D,ee,it,at.width,at.height,0,at.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pe?et&&n.texSubImage2D(t.TEXTURE_2D,ee,0,0,at.width,at.height,Rt,_t,at.data):n.texImage2D(t.TEXTURE_2D,ee,it,at.width,at.height,0,Rt,_t,at.data)}else if(z.isDataArrayTexture)Pe?(He&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ie,it,ke.width,ke.height,ke.depth),et&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ke.width,ke.height,ke.depth,Rt,_t,ke.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,it,ke.width,ke.height,ke.depth,0,Rt,_t,ke.data);else if(z.isData3DTexture)Pe?(He&&n.texStorage3D(t.TEXTURE_3D,Ie,it,ke.width,ke.height,ke.depth),et&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ke.width,ke.height,ke.depth,Rt,_t,ke.data)):n.texImage3D(t.TEXTURE_3D,0,it,ke.width,ke.height,ke.depth,0,Rt,_t,ke.data);else if(z.isFramebufferTexture){if(He)if(Pe)n.texStorage2D(t.TEXTURE_2D,Ie,it,ke.width,ke.height);else{let ee=ke.width,Be=ke.height;for(let $e=0;$e<Ie;$e++)n.texImage2D(t.TEXTURE_2D,$e,it,ee,Be,0,Rt,_t,null),ee>>=1,Be>>=1}}else if(ae.length>0&&$t){Pe&&He&&n.texStorage2D(t.TEXTURE_2D,Ie,it,ae[0].width,ae[0].height);for(let ee=0,Be=ae.length;ee<Be;ee++)at=ae[ee],Pe?et&&n.texSubImage2D(t.TEXTURE_2D,ee,0,0,Rt,_t,at):n.texImage2D(t.TEXTURE_2D,ee,it,Rt,_t,at);z.generateMipmaps=!1}else Pe?(He&&n.texStorage2D(t.TEXTURE_2D,Ie,it,ke.width,ke.height),et&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Rt,_t,ke)):n.texImage2D(t.TEXTURE_2D,0,it,Rt,_t,ke);_(z,$t)&&S(Ne),nt.__version=Oe.version,z.onUpdate&&z.onUpdate(z)}W.__version=z.version}function we(W,z,he){if(z.image.length!==6)return;const Ne=le(W,z),Le=z.source;n.bindTexture(t.TEXTURE_CUBE_MAP,W.__webglTexture,t.TEXTURE0+he);const Oe=r.get(Le);if(Le.version!==Oe.__version||Ne===!0){n.activeTexture(t.TEXTURE0+he);const nt=fn.getPrimaries(fn.workingColorSpace),qe=z.colorSpace===Ki?null:fn.getPrimaries(z.colorSpace),rt=z.colorSpace===Ki||nt===qe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,rt);const gt=z.isCompressedTexture||z.image[0].isCompressedTexture,Mt=z.image[0]&&z.image[0].isDataTexture,ke=[];for(let ee=0;ee<6;ee++)!gt&&!Mt?ke[ee]=x(z.image[ee],!1,!0,i.maxCubemapSize):ke[ee]=Mt?z.image[ee].image:z.image[ee],ke[ee]=Ge(z,ke[ee]);const $t=ke[0],Rt=v($t)||s,_t=o.convert(z.format,z.colorSpace),it=o.convert(z.type),at=w(z.internalFormat,_t,it,z.colorSpace),ae=s&&z.isVideoTexture!==!0,Pe=Oe.__version===void 0||Ne===!0,He=Le.dataReady;let et=M(z,$t,Rt);me(t.TEXTURE_CUBE_MAP,z,Rt);let Ie;if(gt){ae&&Pe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,et,at,$t.width,$t.height);for(let ee=0;ee<6;ee++){Ie=ke[ee].mipmaps;for(let Be=0;Be<Ie.length;Be++){const $e=Ie[Be];z.format!==ri?_t!==null?ae?He&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Be,0,0,$e.width,$e.height,_t,$e.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Be,at,$e.width,$e.height,0,$e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ae?He&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Be,0,0,$e.width,$e.height,_t,it,$e.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Be,at,$e.width,$e.height,0,_t,it,$e.data)}}}else{Ie=z.mipmaps,ae&&Pe&&(Ie.length>0&&et++,n.texStorage2D(t.TEXTURE_CUBE_MAP,et,at,ke[0].width,ke[0].height));for(let ee=0;ee<6;ee++)if(Mt){ae?He&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ee,0,0,0,ke[ee].width,ke[ee].height,_t,it,ke[ee].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ee,0,at,ke[ee].width,ke[ee].height,0,_t,it,ke[ee].data);for(let Be=0;Be<Ie.length;Be++){const ut=Ie[Be].image[ee].image;ae?He&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Be+1,0,0,ut.width,ut.height,_t,it,ut.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Be+1,at,ut.width,ut.height,0,_t,it,ut.data)}}else{ae?He&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ee,0,0,0,_t,it,ke[ee]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ee,0,at,_t,it,ke[ee]);for(let Be=0;Be<Ie.length;Be++){const $e=Ie[Be];ae?He&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Be+1,0,0,_t,it,$e.image[ee]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Be+1,at,_t,it,$e.image[ee])}}}_(z,Rt)&&S(t.TEXTURE_CUBE_MAP),Oe.__version=Le.version,z.onUpdate&&z.onUpdate(z)}W.__version=z.version}function ze(W,z,he,Ne,Le,Oe){const nt=o.convert(he.format,he.colorSpace),qe=o.convert(he.type),rt=w(he.internalFormat,nt,qe,he.colorSpace);if(!r.get(z).__hasExternalTextures){const Mt=Math.max(1,z.width>>Oe),ke=Math.max(1,z.height>>Oe);Le===t.TEXTURE_3D||Le===t.TEXTURE_2D_ARRAY?n.texImage3D(Le,Oe,rt,Mt,ke,z.depth,0,nt,qe,null):n.texImage2D(Le,Oe,rt,Mt,ke,0,nt,qe,null)}n.bindFramebuffer(t.FRAMEBUFFER,W),_e(z)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ne,Le,r.get(he).__webglTexture,0,Re(z)):(Le===t.TEXTURE_2D||Le>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Le<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ne,Le,r.get(he).__webglTexture,Oe),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Xe(W,z,he){if(t.bindRenderbuffer(t.RENDERBUFFER,W),z.depthBuffer&&!z.stencilBuffer){let Ne=s===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(he||_e(z)){const Le=z.depthTexture;Le&&Le.isDepthTexture&&(Le.type===Rr?Ne=t.DEPTH_COMPONENT32F:Le.type===cs&&(Ne=t.DEPTH_COMPONENT24));const Oe=Re(z);_e(z)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Oe,Ne,z.width,z.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Oe,Ne,z.width,z.height)}else t.renderbufferStorage(t.RENDERBUFFER,Ne,z.width,z.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,W)}else if(z.depthBuffer&&z.stencilBuffer){const Ne=Re(z);he&&_e(z)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ne,t.DEPTH24_STENCIL8,z.width,z.height):_e(z)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ne,t.DEPTH24_STENCIL8,z.width,z.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,z.width,z.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,W)}else{const Ne=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let Le=0;Le<Ne.length;Le++){const Oe=Ne[Le],nt=o.convert(Oe.format,Oe.colorSpace),qe=o.convert(Oe.type),rt=w(Oe.internalFormat,nt,qe,Oe.colorSpace),gt=Re(z);he&&_e(z)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,gt,rt,z.width,z.height):_e(z)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,gt,rt,z.width,z.height):t.renderbufferStorage(t.RENDERBUFFER,rt,z.width,z.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function xe(W,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,W),!(z.depthTexture&&z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(z.depthTexture).__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),$(z.depthTexture,0);const Ne=r.get(z.depthTexture).__webglTexture,Le=Re(z);if(z.depthTexture.format===Tl)_e(z)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ne,0,Le):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ne,0);else if(z.depthTexture.format===mc)_e(z)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ne,0,Le):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ne,0);else throw new Error("Unknown depthTexture format")}function Ve(W){const z=r.get(W),he=W.isWebGLCubeRenderTarget===!0;if(W.depthTexture&&!z.__autoAllocateDepthBuffer){if(he)throw new Error("target.depthTexture not supported in Cube render targets");xe(z.__webglFramebuffer,W)}else if(he){z.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)n.bindFramebuffer(t.FRAMEBUFFER,z.__webglFramebuffer[Ne]),z.__webglDepthbuffer[Ne]=t.createRenderbuffer(),Xe(z.__webglDepthbuffer[Ne],W,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,z.__webglFramebuffer),z.__webglDepthbuffer=t.createRenderbuffer(),Xe(z.__webglDepthbuffer,W,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function De(W,z,he){const Ne=r.get(W);z!==void 0&&ze(Ne.__webglFramebuffer,W,W.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),he!==void 0&&Ve(W)}function V(W){const z=W.texture,he=r.get(W),Ne=r.get(z);W.addEventListener("dispose",O),W.isWebGLMultipleRenderTargets!==!0&&(Ne.__webglTexture===void 0&&(Ne.__webglTexture=t.createTexture()),Ne.__version=z.version,a.memory.textures++);const Le=W.isWebGLCubeRenderTarget===!0,Oe=W.isWebGLMultipleRenderTargets===!0,nt=v(W)||s;if(Le){he.__webglFramebuffer=[];for(let qe=0;qe<6;qe++)if(s&&z.mipmaps&&z.mipmaps.length>0){he.__webglFramebuffer[qe]=[];for(let rt=0;rt<z.mipmaps.length;rt++)he.__webglFramebuffer[qe][rt]=t.createFramebuffer()}else he.__webglFramebuffer[qe]=t.createFramebuffer()}else{if(s&&z.mipmaps&&z.mipmaps.length>0){he.__webglFramebuffer=[];for(let qe=0;qe<z.mipmaps.length;qe++)he.__webglFramebuffer[qe]=t.createFramebuffer()}else he.__webglFramebuffer=t.createFramebuffer();if(Oe)if(i.drawBuffers){const qe=W.texture;for(let rt=0,gt=qe.length;rt<gt;rt++){const Mt=r.get(qe[rt]);Mt.__webglTexture===void 0&&(Mt.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&W.samples>0&&_e(W)===!1){const qe=Oe?z:[z];he.__webglMultisampledFramebuffer=t.createFramebuffer(),he.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,he.__webglMultisampledFramebuffer);for(let rt=0;rt<qe.length;rt++){const gt=qe[rt];he.__webglColorRenderbuffer[rt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,he.__webglColorRenderbuffer[rt]);const Mt=o.convert(gt.format,gt.colorSpace),ke=o.convert(gt.type),$t=w(gt.internalFormat,Mt,ke,gt.colorSpace,W.isXRRenderTarget===!0),Rt=Re(W);t.renderbufferStorageMultisample(t.RENDERBUFFER,Rt,$t,W.width,W.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.RENDERBUFFER,he.__webglColorRenderbuffer[rt])}t.bindRenderbuffer(t.RENDERBUFFER,null),W.depthBuffer&&(he.__webglDepthRenderbuffer=t.createRenderbuffer(),Xe(he.__webglDepthRenderbuffer,W,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Le){n.bindTexture(t.TEXTURE_CUBE_MAP,Ne.__webglTexture),me(t.TEXTURE_CUBE_MAP,z,nt);for(let qe=0;qe<6;qe++)if(s&&z.mipmaps&&z.mipmaps.length>0)for(let rt=0;rt<z.mipmaps.length;rt++)ze(he.__webglFramebuffer[qe][rt],W,z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,rt);else ze(he.__webglFramebuffer[qe],W,z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0);_(z,nt)&&S(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Oe){const qe=W.texture;for(let rt=0,gt=qe.length;rt<gt;rt++){const Mt=qe[rt],ke=r.get(Mt);n.bindTexture(t.TEXTURE_2D,ke.__webglTexture),me(t.TEXTURE_2D,Mt,nt),ze(he.__webglFramebuffer,W,Mt,t.COLOR_ATTACHMENT0+rt,t.TEXTURE_2D,0),_(Mt,nt)&&S(t.TEXTURE_2D)}n.unbindTexture()}else{let qe=t.TEXTURE_2D;if((W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(s?qe=W.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(qe,Ne.__webglTexture),me(qe,z,nt),s&&z.mipmaps&&z.mipmaps.length>0)for(let rt=0;rt<z.mipmaps.length;rt++)ze(he.__webglFramebuffer[rt],W,z,t.COLOR_ATTACHMENT0,qe,rt);else ze(he.__webglFramebuffer,W,z,t.COLOR_ATTACHMENT0,qe,0);_(z,nt)&&S(qe),n.unbindTexture()}W.depthBuffer&&Ve(W)}function Ae(W){const z=v(W)||s,he=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let Ne=0,Le=he.length;Ne<Le;Ne++){const Oe=he[Ne];if(_(Oe,z)){const nt=W.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,qe=r.get(Oe).__webglTexture;n.bindTexture(nt,qe),S(nt),n.unbindTexture()}}}function de(W){if(s&&W.samples>0&&_e(W)===!1){const z=W.isWebGLMultipleRenderTargets?W.texture:[W.texture],he=W.width,Ne=W.height;let Le=t.COLOR_BUFFER_BIT;const Oe=[],nt=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,qe=r.get(W),rt=W.isWebGLMultipleRenderTargets===!0;if(rt)for(let gt=0;gt<z.length;gt++)n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+gt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+gt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,qe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,qe.__webglFramebuffer);for(let gt=0;gt<z.length;gt++){Oe.push(t.COLOR_ATTACHMENT0+gt),W.depthBuffer&&Oe.push(nt);const Mt=qe.__ignoreDepthValues!==void 0?qe.__ignoreDepthValues:!1;if(Mt===!1&&(W.depthBuffer&&(Le|=t.DEPTH_BUFFER_BIT),W.stencilBuffer&&(Le|=t.STENCIL_BUFFER_BIT)),rt&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,qe.__webglColorRenderbuffer[gt]),Mt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[nt]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[nt])),rt){const ke=r.get(z[gt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ke,0)}t.blitFramebuffer(0,0,he,Ne,0,0,he,Ne,Le,t.NEAREST),u&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Oe)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),rt)for(let gt=0;gt<z.length;gt++){n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+gt,t.RENDERBUFFER,qe.__webglColorRenderbuffer[gt]);const Mt=r.get(z[gt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+gt,t.TEXTURE_2D,Mt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,qe.__webglMultisampledFramebuffer)}}function Re(W){return Math.min(i.maxSamples,W.samples)}function _e(W){const z=r.get(W);return s&&W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&z.__useRenderToTexture!==!1}function Je(W){const z=a.render.frame;c.get(W)!==z&&(c.set(W,z),W.update())}function Ge(W,z){const he=W.colorSpace,Ne=W.format,Le=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||W.format===E_||he!==za&&he!==Ki&&(fn.getTransfer(he)===wn?s===!1?e.has("EXT_sRGB")===!0&&Ne===ri?(W.format=E_,W.minFilter=xn,W.generateMipmaps=!1):z=rO.sRGBToLinear(z):(Ne!==ri||Le!==Da)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",he)),z}this.allocateTextureUnit=F,this.resetTextureUnits=Y,this.setTexture2D=$,this.setTexture2DArray=te,this.setTexture3D=B,this.setTextureCube=q,this.rebindTextures=De,this.setupRenderTarget=V,this.updateRenderTargetMipmap=Ae,this.updateMultisampleRenderTarget=de,this.setupDepthRenderbuffer=Ve,this.setupFrameBufferTexture=ze,this.useMultisampledRTT=_e}function C8(t,e,n){const r=n.isWebGL2;function i(o,a=Ki){let s;const l=fn.getTransfer(a);if(o===Da)return t.UNSIGNED_BYTE;if(o===G2)return t.UNSIGNED_SHORT_4_4_4_4;if(o===X2)return t.UNSIGNED_SHORT_5_5_5_1;if(o===Y6)return t.BYTE;if(o===K6)return t.SHORT;if(o===G1)return t.UNSIGNED_SHORT;if(o===W2)return t.INT;if(o===cs)return t.UNSIGNED_INT;if(o===Rr)return t.FLOAT;if(o===vi)return r?t.HALF_FLOAT:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===Z6)return t.ALPHA;if(o===ri)return t.RGBA;if(o===J6)return t.LUMINANCE;if(o===Q6)return t.LUMINANCE_ALPHA;if(o===Tl)return t.DEPTH_COMPONENT;if(o===mc)return t.DEPTH_STENCIL;if(o===E_)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(o===q2)return t.RED;if(o===Y2)return t.RED_INTEGER;if(o===e8)return t.RG;if(o===K2)return t.RG_INTEGER;if(o===Z2)return t.RGBA_INTEGER;if(o===D0||o===k0||o===U0||o===F0)if(l===wn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(o===D0)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===k0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===U0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===F0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===D0)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===k0)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===U0)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===F0)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===bT||o===wT||o===MT||o===ET)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===bT)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===wT)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===MT)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===ET)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===J2)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===AT||o===TT)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(o===AT)return l===wn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(o===TT)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===PT||o===CT||o===OT||o===RT||o===IT||o===LT||o===NT||o===DT||o===kT||o===UT||o===FT||o===BT||o===zT||o===jT)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(o===PT)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===CT)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===OT)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===RT)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===IT)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===LT)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===NT)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===DT)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===kT)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===UT)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===FT)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===BT)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===zT)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===jT)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===B0||o===VT||o===HT)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(o===B0)return l===wn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(o===VT)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(o===HT)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(o===t8||o===$T||o===WT||o===GT)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(o===B0)return s.COMPRESSED_RED_RGTC1_EXT;if(o===$T)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===WT)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===GT)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===Al?r?t.UNSIGNED_INT_24_8:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:i}}class O8 extends sr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class $f extends sn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const nOe={type:"move"};class aM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new $f,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new $f,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new K,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new K),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new $f,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new K,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new K),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const x of e.hand.values()){const v=n.getJointPose(x,r),g=this._getHandJoint(u,x);v!==null&&(g.matrix.fromArray(v.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=v.radius),g.visible=v!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],d=c.position.distanceTo(f.position),m=.02,y=.005;u.inputState.pinching&&d>m+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&d<=m-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(nOe)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new $f;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const rOe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,iOe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class oOe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Gn,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}render(e,n){if(this.texture!==null){if(this.mesh===null){const r=n.cameras[0].viewport,i=new Si({extensions:{fragDepth:!0},vertexShader:rOe,fragmentShader:iOe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new tr(new Pc(20,20),i)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class aOe extends Ds{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=1,u=null,c=null,f=null,d=null,m=null,y=null;const x=new oOe,v=n.getContextAttributes();let g=null,_=null;const S=[],w=[],M=new Ce;let E=null;const T=new sr;T.layers.enable(1),T.viewport=new hn;const O=new sr;O.layers.enable(2),O.viewport=new hn;const N=[T,O],P=new O8;P.layers.enable(1),P.layers.enable(2);let R=null,j=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(le){let pe=S[le];return pe===void 0&&(pe=new aM,S[le]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(le){let pe=S[le];return pe===void 0&&(pe=new aM,S[le]=pe),pe.getGripSpace()},this.getHand=function(le){let pe=S[le];return pe===void 0&&(pe=new aM,S[le]=pe),pe.getHandSpace()};function Y(le){const pe=w.indexOf(le.inputSource);if(pe===-1)return;const we=S[pe];we!==void 0&&(we.update(le.inputSource,le.frame,u||a),we.dispatchEvent({type:le.type,data:le.inputSource}))}function F(){i.removeEventListener("select",Y),i.removeEventListener("selectstart",Y),i.removeEventListener("selectend",Y),i.removeEventListener("squeeze",Y),i.removeEventListener("squeezestart",Y),i.removeEventListener("squeezeend",Y),i.removeEventListener("end",F),i.removeEventListener("inputsourceschange",G);for(let le=0;le<S.length;le++){const pe=w[le];pe!==null&&(w[le]=null,S[le].disconnect(pe))}R=null,j=null,x.reset(),e.setRenderTarget(g),m=null,d=null,f=null,i=null,_=null,me.stop(),r.isPresenting=!1,e.setPixelRatio(E),e.setSize(M.width,M.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(le){o=le,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(le){s=le,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(le){u=le},this.getBaseLayer=function(){return d!==null?d:m},this.getBinding=function(){return f},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(le){if(i=le,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",Y),i.addEventListener("selectstart",Y),i.addEventListener("selectend",Y),i.addEventListener("squeeze",Y),i.addEventListener("squeezestart",Y),i.addEventListener("squeezeend",Y),i.addEventListener("end",F),i.addEventListener("inputsourceschange",G),v.xrCompatible!==!0&&await n.makeXRCompatible(),E=e.getPixelRatio(),e.getSize(M),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const pe={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:o};m=new XRWebGLLayer(i,n,pe),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),_=new oo(m.framebufferWidth,m.framebufferHeight,{format:ri,type:Da,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil})}else{let pe=null,we=null,ze=null;v.depth&&(ze=v.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,pe=v.stencil?mc:Tl,we=v.stencil?Al:cs);const Xe={colorFormat:n.RGBA8,depthFormat:ze,scaleFactor:o};f=new XRWebGLBinding(i,n),d=f.createProjectionLayer(Xe),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),_=new oo(d.textureWidth,d.textureHeight,{format:ri,type:Da,depthTexture:new uO(d.textureWidth,d.textureHeight,we,void 0,void 0,void 0,void 0,void 0,void 0,pe),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0});const xe=e.properties.get(_);xe.__ignoreDepthValues=d.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await i.requestReferenceSpace(s),me.setContext(i),me.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function G(le){for(let pe=0;pe<le.removed.length;pe++){const we=le.removed[pe],ze=w.indexOf(we);ze>=0&&(w[ze]=null,S[ze].disconnect(we))}for(let pe=0;pe<le.added.length;pe++){const we=le.added[pe];let ze=w.indexOf(we);if(ze===-1){for(let xe=0;xe<S.length;xe++)if(xe>=w.length){w.push(we),ze=xe;break}else if(w[xe]===null){w[xe]=we,ze=xe;break}if(ze===-1)break}const Xe=S[ze];Xe&&Xe.connect(we)}}const $=new K,te=new K;function B(le,pe,we){$.setFromMatrixPosition(pe.matrixWorld),te.setFromMatrixPosition(we.matrixWorld);const ze=$.distanceTo(te),Xe=pe.projectionMatrix.elements,xe=we.projectionMatrix.elements,Ve=Xe[14]/(Xe[10]-1),De=Xe[14]/(Xe[10]+1),V=(Xe[9]+1)/Xe[5],Ae=(Xe[9]-1)/Xe[5],de=(Xe[8]-1)/Xe[0],Re=(xe[8]+1)/xe[0],_e=Ve*de,Je=Ve*Re,Ge=ze/(-de+Re),W=Ge*-de;pe.matrixWorld.decompose(le.position,le.quaternion,le.scale),le.translateX(W),le.translateZ(Ge),le.matrixWorld.compose(le.position,le.quaternion,le.scale),le.matrixWorldInverse.copy(le.matrixWorld).invert();const z=Ve+Ge,he=De+Ge,Ne=_e-W,Le=Je+(ze-W),Oe=V*De/he*z,nt=Ae*De/he*z;le.projectionMatrix.makePerspective(Ne,Le,Oe,nt,z,he),le.projectionMatrixInverse.copy(le.projectionMatrix).invert()}function q(le,pe){pe===null?le.matrixWorld.copy(le.matrix):le.matrixWorld.multiplyMatrices(pe.matrixWorld,le.matrix),le.matrixWorldInverse.copy(le.matrixWorld).invert()}this.updateCamera=function(le){if(i===null)return;x.texture!==null&&(le.near=x.depthNear,le.far=x.depthFar),P.near=O.near=T.near=le.near,P.far=O.far=T.far=le.far,(R!==P.near||j!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),R=P.near,j=P.far,T.near=R,T.far=j,O.near=R,O.far=j,T.updateProjectionMatrix(),O.updateProjectionMatrix(),le.updateProjectionMatrix());const pe=le.parent,we=P.cameras;q(P,pe);for(let ze=0;ze<we.length;ze++)q(we[ze],pe);we.length===2?B(P,T,O):P.projectionMatrix.copy(T.projectionMatrix),Z(le,P,pe)};function Z(le,pe,we){we===null?le.matrix.copy(pe.matrixWorld):(le.matrix.copy(we.matrixWorld),le.matrix.invert(),le.matrix.multiply(pe.matrixWorld)),le.matrix.decompose(le.position,le.quaternion,le.scale),le.updateMatrixWorld(!0),le.projectionMatrix.copy(pe.projectionMatrix),le.projectionMatrixInverse.copy(pe.projectionMatrixInverse),le.isPerspectiveCamera&&(le.fov=Fh*2*Math.atan(1/le.projectionMatrix.elements[5]),le.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(d===null&&m===null))return l},this.setFoveation=function(le){l=le,d!==null&&(d.fixedFoveation=le),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=le)},this.hasDepthSensing=function(){return x.texture!==null};let oe=null;function re(le,pe){if(c=pe.getViewerPose(u||a),y=pe,c!==null){const we=c.views;m!==null&&(e.setRenderTargetFramebuffer(_,m.framebuffer),e.setRenderTarget(_));let ze=!1;we.length!==P.cameras.length&&(P.cameras.length=0,ze=!0);for(let xe=0;xe<we.length;xe++){const Ve=we[xe];let De=null;if(m!==null)De=m.getViewport(Ve);else{const Ae=f.getViewSubImage(d,Ve);De=Ae.viewport,xe===0&&(e.setRenderTargetTextures(_,Ae.colorTexture,d.ignoreDepthValues?void 0:Ae.depthStencilTexture),e.setRenderTarget(_))}let V=N[xe];V===void 0&&(V=new sr,V.layers.enable(xe),V.viewport=new hn,N[xe]=V),V.matrix.fromArray(Ve.transform.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale),V.projectionMatrix.fromArray(Ve.projectionMatrix),V.projectionMatrixInverse.copy(V.projectionMatrix).invert(),V.viewport.set(De.x,De.y,De.width,De.height),xe===0&&(P.matrix.copy(V.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),ze===!0&&P.cameras.push(V)}const Xe=i.enabledFeatures;if(Xe&&Xe.includes("depth-sensing")){const xe=f.getDepthInformation(we[0]);xe&&xe.isValid&&xe.texture&&x.init(e,xe,i.renderState)}}for(let we=0;we<S.length;we++){const ze=w[we],Xe=S[we];ze!==null&&Xe!==void 0&&Xe.update(ze,pe,u||a)}x.render(e,P),oe&&oe(le,pe),pe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:pe}),y=null}const me=new w8;me.setAnimationLoop(re),this.setAnimationLoop=function(le){oe=le},this.dispose=function(){}}}function sOe(t,e){function n(v,g){v.matrixAutoUpdate===!0&&v.updateMatrix(),g.value.copy(v.matrix)}function r(v,g){g.color.getRGB(v.fogColor.value,_8(t)),g.isFog?(v.fogNear.value=g.near,v.fogFar.value=g.far):g.isFogExp2&&(v.fogDensity.value=g.density)}function i(v,g,_,S,w){g.isMeshBasicMaterial||g.isMeshLambertMaterial?o(v,g):g.isMeshToonMaterial?(o(v,g),f(v,g)):g.isMeshPhongMaterial?(o(v,g),c(v,g)):g.isMeshStandardMaterial?(o(v,g),d(v,g),g.isMeshPhysicalMaterial&&m(v,g,w)):g.isMeshMatcapMaterial?(o(v,g),y(v,g)):g.isMeshDepthMaterial?o(v,g):g.isMeshDistanceMaterial?(o(v,g),x(v,g)):g.isMeshNormalMaterial?o(v,g):g.isLineBasicMaterial?(a(v,g),g.isLineDashedMaterial&&s(v,g)):g.isPointsMaterial?l(v,g,_,S):g.isSpriteMaterial?u(v,g):g.isShadowMaterial?(v.color.value.copy(g.color),v.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function o(v,g){v.opacity.value=g.opacity,g.color&&v.diffuse.value.copy(g.color),g.emissive&&v.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(v.map.value=g.map,n(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,n(g.alphaMap,v.alphaMapTransform)),g.bumpMap&&(v.bumpMap.value=g.bumpMap,n(g.bumpMap,v.bumpMapTransform),v.bumpScale.value=g.bumpScale,g.side===xi&&(v.bumpScale.value*=-1)),g.normalMap&&(v.normalMap.value=g.normalMap,n(g.normalMap,v.normalMapTransform),v.normalScale.value.copy(g.normalScale),g.side===xi&&v.normalScale.value.negate()),g.displacementMap&&(v.displacementMap.value=g.displacementMap,n(g.displacementMap,v.displacementMapTransform),v.displacementScale.value=g.displacementScale,v.displacementBias.value=g.displacementBias),g.emissiveMap&&(v.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,v.emissiveMapTransform)),g.specularMap&&(v.specularMap.value=g.specularMap,n(g.specularMap,v.specularMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest);const _=e.get(g).envMap;if(_&&(v.envMap.value=_,v.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=g.reflectivity,v.ior.value=g.ior,v.refractionRatio.value=g.refractionRatio),g.lightMap){v.lightMap.value=g.lightMap;const S=t._useLegacyLights===!0?Math.PI:1;v.lightMapIntensity.value=g.lightMapIntensity*S,n(g.lightMap,v.lightMapTransform)}g.aoMap&&(v.aoMap.value=g.aoMap,v.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,v.aoMapTransform))}function a(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,g.map&&(v.map.value=g.map,n(g.map,v.mapTransform))}function s(v,g){v.dashSize.value=g.dashSize,v.totalSize.value=g.dashSize+g.gapSize,v.scale.value=g.scale}function l(v,g,_,S){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.size.value=g.size*_,v.scale.value=S*.5,g.map&&(v.map.value=g.map,n(g.map,v.uvTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,n(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}function u(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.rotation.value=g.rotation,g.map&&(v.map.value=g.map,n(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,n(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}function c(v,g){v.specular.value.copy(g.specular),v.shininess.value=Math.max(g.shininess,1e-4)}function f(v,g){g.gradientMap&&(v.gradientMap.value=g.gradientMap)}function d(v,g){v.metalness.value=g.metalness,g.metalnessMap&&(v.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,v.metalnessMapTransform)),v.roughness.value=g.roughness,g.roughnessMap&&(v.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,v.roughnessMapTransform)),e.get(g).envMap&&(v.envMapIntensity.value=g.envMapIntensity)}function m(v,g,_){v.ior.value=g.ior,g.sheen>0&&(v.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),v.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(v.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,v.sheenColorMapTransform)),g.sheenRoughnessMap&&(v.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,v.sheenRoughnessMapTransform))),g.clearcoat>0&&(v.clearcoat.value=g.clearcoat,v.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(v.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,v.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(v.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===xi&&v.clearcoatNormalScale.value.negate())),g.iridescence>0&&(v.iridescence.value=g.iridescence,v.iridescenceIOR.value=g.iridescenceIOR,v.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(v.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,v.iridescenceMapTransform)),g.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),g.transmission>0&&(v.transmission.value=g.transmission,v.transmissionSamplerMap.value=_.texture,v.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(v.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,v.transmissionMapTransform)),v.thickness.value=g.thickness,g.thicknessMap&&(v.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=g.attenuationDistance,v.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(v.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(v.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=g.specularIntensity,v.specularColor.value.copy(g.specularColor),g.specularColorMap&&(v.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,v.specularColorMapTransform)),g.specularIntensityMap&&(v.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,v.specularIntensityMapTransform))}function y(v,g){g.matcap&&(v.matcap.value=g.matcap)}function x(v,g){const _=e.get(g).light;v.referencePosition.value.setFromMatrixPosition(_.matrixWorld),v.nearDistance.value=_.shadow.camera.near,v.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function lOe(t,e,n,r){let i={},o={},a=[];const s=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(_,S){const w=S.program;r.uniformBlockBinding(_,w)}function u(_,S){let w=i[_.id];w===void 0&&(y(_),w=c(_),i[_.id]=w,_.addEventListener("dispose",v));const M=S.program;r.updateUBOMapping(_,M);const E=e.render.frame;o[_.id]!==E&&(d(_),o[_.id]=E)}function c(_){const S=f();_.__bindingPointIndex=S;const w=t.createBuffer(),M=_.__size,E=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,w),t.bufferData(t.UNIFORM_BUFFER,M,E),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,S,w),w}function f(){for(let _=0;_<s;_++)if(a.indexOf(_)===-1)return a.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(_){const S=i[_.id],w=_.uniforms,M=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,S);for(let E=0,T=w.length;E<T;E++){const O=Array.isArray(w[E])?w[E]:[w[E]];for(let N=0,P=O.length;N<P;N++){const R=O[N];if(m(R,E,N,M)===!0){const j=R.__offset,Y=Array.isArray(R.value)?R.value:[R.value];let F=0;for(let G=0;G<Y.length;G++){const $=Y[G],te=x($);typeof $=="number"||typeof $=="boolean"?(R.__data[0]=$,t.bufferSubData(t.UNIFORM_BUFFER,j+F,R.__data)):$.isMatrix3?(R.__data[0]=$.elements[0],R.__data[1]=$.elements[1],R.__data[2]=$.elements[2],R.__data[3]=0,R.__data[4]=$.elements[3],R.__data[5]=$.elements[4],R.__data[6]=$.elements[5],R.__data[7]=0,R.__data[8]=$.elements[6],R.__data[9]=$.elements[7],R.__data[10]=$.elements[8],R.__data[11]=0):($.toArray(R.__data,F),F+=te.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,j,R.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(_,S,w,M){const E=_.value,T=S+"_"+w;if(M[T]===void 0)return typeof E=="number"||typeof E=="boolean"?M[T]=E:M[T]=E.clone(),!0;{const O=M[T];if(typeof E=="number"||typeof E=="boolean"){if(O!==E)return M[T]=E,!0}else if(O.equals(E)===!1)return O.copy(E),!0}return!1}function y(_){const S=_.uniforms;let w=0;const M=16;for(let T=0,O=S.length;T<O;T++){const N=Array.isArray(S[T])?S[T]:[S[T]];for(let P=0,R=N.length;P<R;P++){const j=N[P],Y=Array.isArray(j.value)?j.value:[j.value];for(let F=0,G=Y.length;F<G;F++){const $=Y[F],te=x($),B=w%M;B!==0&&M-B<te.boundary&&(w+=M-B),j.__data=new Float32Array(te.storage/Float32Array.BYTES_PER_ELEMENT),j.__offset=w,w+=te.storage}}}const E=w%M;return E>0&&(w+=M-E),_.__size=w,_.__cache={},this}function x(_){const S={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),S}function v(_){const S=_.target;S.removeEventListener("dispose",v);const w=a.indexOf(S.__bindingPointIndex);a.splice(w,1),t.deleteBuffer(i[S.id]),delete i[S.id],delete o[S.id]}function g(){for(const _ in i)t.deleteBuffer(i[_]);a=[],i={},o={}}return{bind:l,update:u,dispose:g}}class fO{constructor(e={}){const{canvas:n=v8(),context:r=null,depth:i=!0,stencil:o=!0,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let d;r!==null?d=r.getContextAttributes().alpha:d=a;const m=new Uint32Array(4),y=new Int32Array(4);let x=null,v=null;const g=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=xr,this._useLegacyLights=!1,this.toneMapping=Na,this.toneMappingExposure=1;const S=this;let w=!1,M=0,E=0,T=null,O=-1,N=null;const P=new hn,R=new hn;let j=null;const Y=new ot(0);let F=0,G=n.width,$=n.height,te=1,B=null,q=null;const Z=new hn(0,0,G,$),oe=new hn(0,0,G,$);let re=!1;const me=new Vg;let le=!1,pe=!1,we=null;const ze=new Ct,Xe=new Ce,xe=new K,Ve={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function De(){return T===null?te:1}let V=r;function Ae(L,X){for(let J=0;J<L.length;J++){const ie=L[J],ne=n.getContext(ie,X);if(ne!==null)return ne}return null}try{const L={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${ud}`),n.addEventListener("webglcontextlost",Ie,!1),n.addEventListener("webglcontextrestored",ee,!1),n.addEventListener("webglcontextcreationerror",Be,!1),V===null){const X=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&X.shift(),V=Ae(X,L),V===null)throw Ae(X)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&V instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),V.getShaderPrecisionFormat===void 0&&(V.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(L){throw console.error("THREE.WebGLRenderer: "+L.message),L}let de,Re,_e,Je,Ge,W,z,he,Ne,Le,Oe,nt,qe,rt,gt,Mt,ke,$t,Rt,_t,it,at,ae,Pe;function He(){de=new xCe(V),Re=new dCe(V,de,e),de.init(Re),at=new C8(V,de,Re),_e=new eOe(V,de,Re),Je=new bCe(V),Ge=new V2e,W=new tOe(V,de,_e,Ge,Re,at,Je),z=new mCe(S),he=new yCe(S),Ne=new OAe(V,Re),ae=new fCe(V,de,Ne,Re),Le=new _Ce(V,Ne,Je,ae),Oe=new ACe(V,Le,Ne,Je),Rt=new ECe(V,Re,W),Mt=new pCe(Ge),nt=new j2e(S,z,he,de,Re,ae,Mt),qe=new sOe(S,Ge),rt=new $2e,gt=new K2e(de,Re),$t=new cCe(S,z,he,_e,Oe,d,l),ke=new Q2e(S,Oe,Re),Pe=new lOe(V,Je,Re,_e),_t=new hCe(V,de,Je,Re),it=new SCe(V,de,Je,Re),Je.programs=nt.programs,S.capabilities=Re,S.extensions=de,S.properties=Ge,S.renderLists=rt,S.shadowMap=ke,S.state=_e,S.info=Je}He();const et=new aOe(S,V);this.xr=et,this.getContext=function(){return V},this.getContextAttributes=function(){return V.getContextAttributes()},this.forceContextLoss=function(){const L=de.get("WEBGL_lose_context");L&&L.loseContext()},this.forceContextRestore=function(){const L=de.get("WEBGL_lose_context");L&&L.restoreContext()},this.getPixelRatio=function(){return te},this.setPixelRatio=function(L){L!==void 0&&(te=L,this.setSize(G,$,!1))},this.getSize=function(L){return L.set(G,$)},this.setSize=function(L,X,J=!0){if(et.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=L,$=X,n.width=Math.floor(L*te),n.height=Math.floor(X*te),J===!0&&(n.style.width=L+"px",n.style.height=X+"px"),this.setViewport(0,0,L,X)},this.getDrawingBufferSize=function(L){return L.set(G*te,$*te).floor()},this.setDrawingBufferSize=function(L,X,J){G=L,$=X,te=J,n.width=Math.floor(L*J),n.height=Math.floor(X*J),this.setViewport(0,0,L,X)},this.getCurrentViewport=function(L){return L.copy(P)},this.getViewport=function(L){return L.copy(Z)},this.setViewport=function(L,X,J,ie){L.isVector4?Z.set(L.x,L.y,L.z,L.w):Z.set(L,X,J,ie),_e.viewport(P.copy(Z).multiplyScalar(te).floor())},this.getScissor=function(L){return L.copy(oe)},this.setScissor=function(L,X,J,ie){L.isVector4?oe.set(L.x,L.y,L.z,L.w):oe.set(L,X,J,ie),_e.scissor(R.copy(oe).multiplyScalar(te).floor())},this.getScissorTest=function(){return re},this.setScissorTest=function(L){_e.setScissorTest(re=L)},this.setOpaqueSort=function(L){B=L},this.setTransparentSort=function(L){q=L},this.getClearColor=function(L){return L.copy($t.getClearColor())},this.setClearColor=function(){$t.setClearColor.apply($t,arguments)},this.getClearAlpha=function(){return $t.getClearAlpha()},this.setClearAlpha=function(){$t.setClearAlpha.apply($t,arguments)},this.clear=function(L=!0,X=!0,J=!0){let ie=0;if(L){let ne=!1;if(T!==null){const ve=T.texture.format;ne=ve===Z2||ve===K2||ve===Y2}if(ne){const ve=T.texture.type,ye=ve===Da||ve===cs||ve===G1||ve===Al||ve===G2||ve===X2,Me=$t.getClearColor(),be=$t.getClearAlpha(),st=Me.r,Ue=Me.g,Fe=Me.b;ye?(m[0]=st,m[1]=Ue,m[2]=Fe,m[3]=be,V.clearBufferuiv(V.COLOR,0,m)):(y[0]=st,y[1]=Ue,y[2]=Fe,y[3]=be,V.clearBufferiv(V.COLOR,0,y))}else ie|=V.COLOR_BUFFER_BIT}X&&(ie|=V.DEPTH_BUFFER_BIT),J&&(ie|=V.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),V.clear(ie)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ie,!1),n.removeEventListener("webglcontextrestored",ee,!1),n.removeEventListener("webglcontextcreationerror",Be,!1),rt.dispose(),gt.dispose(),Ge.dispose(),z.dispose(),he.dispose(),Oe.dispose(),ae.dispose(),Pe.dispose(),nt.dispose(),et.dispose(),et.removeEventListener("sessionstart",Un),et.removeEventListener("sessionend",Jt),we&&(we.dispose(),we=null),pr.stop()};function Ie(L){L.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function ee(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const L=Je.autoReset,X=ke.enabled,J=ke.autoUpdate,ie=ke.needsUpdate,ne=ke.type;He(),Je.autoReset=L,ke.enabled=X,ke.autoUpdate=J,ke.needsUpdate=ie,ke.type=ne}function Be(L){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",L.statusMessage)}function $e(L){const X=L.target;X.removeEventListener("dispose",$e),ut(X)}function ut(L){dt(L),Ge.remove(L)}function dt(L){const X=Ge.get(L).programs;X!==void 0&&(X.forEach(function(J){nt.releaseProgram(J)}),L.isShaderMaterial&&nt.releaseShaderCache(L))}this.renderBufferDirect=function(L,X,J,ie,ne,ve){X===null&&(X=Ve);const ye=ne.isMesh&&ne.matrixWorld.determinant()<0,Me=D(L,X,J,ie,ne);_e.setMaterial(ie,ye);let be=J.index,st=1;if(ie.wireframe===!0){if(be=Le.getWireframeAttribute(J),be===void 0)return;st=2}const Ue=J.drawRange,Fe=J.attributes.position;let ct=Ue.start*st,xt=(Ue.start+Ue.count)*st;ve!==null&&(ct=Math.max(ct,ve.start*st),xt=Math.min(xt,(ve.start+ve.count)*st)),be!==null?(ct=Math.max(ct,0),xt=Math.min(xt,be.count)):Fe!=null&&(ct=Math.max(ct,0),xt=Math.min(xt,Fe.count));const St=xt-ct;if(St<0||St===1/0)return;ae.setup(ne,ie,Me,J,be);let Ot,lt=_t;if(be!==null&&(Ot=Ne.get(be),lt=it,lt.setIndex(Ot)),ne.isMesh)ie.wireframe===!0?(_e.setLineWidth(ie.wireframeLinewidth*De()),lt.setMode(V.LINES)):lt.setMode(V.TRIANGLES);else if(ne.isLine){let Ye=ie.linewidth;Ye===void 0&&(Ye=1),_e.setLineWidth(Ye*De()),ne.isLineSegments?lt.setMode(V.LINES):ne.isLineLoop?lt.setMode(V.LINE_LOOP):lt.setMode(V.LINE_STRIP)}else ne.isPoints?lt.setMode(V.POINTS):ne.isSprite&&lt.setMode(V.TRIANGLES);if(ne.isBatchedMesh)lt.renderMultiDraw(ne._multiDrawStarts,ne._multiDrawCounts,ne._multiDrawCount);else if(ne.isInstancedMesh)lt.renderInstances(ct,St,ne.count);else if(J.isInstancedBufferGeometry){const Ye=J._maxInstanceCount!==void 0?J._maxInstanceCount:1/0,Vt=Math.min(J.instanceCount,Ye);lt.renderInstances(ct,St,Vt)}else lt.render(ct,St)};function It(L,X,J){L.transparent===!0&&L.side===ta&&L.forceSinglePass===!1?(L.side=xi,L.needsUpdate=!0,Dt(L,X,J),L.side=Ts,L.needsUpdate=!0,Dt(L,X,J),L.side=ta):Dt(L,X,J)}this.compile=function(L,X,J=null){J===null&&(J=L),v=gt.get(J),v.init(),_.push(v),J.traverseVisible(function(ne){ne.isLight&&ne.layers.test(X.layers)&&(v.pushLight(ne),ne.castShadow&&v.pushShadow(ne))}),L!==J&&L.traverseVisible(function(ne){ne.isLight&&ne.layers.test(X.layers)&&(v.pushLight(ne),ne.castShadow&&v.pushShadow(ne))}),v.setupLights(S._useLegacyLights);const ie=new Set;return L.traverse(function(ne){const ve=ne.material;if(ve)if(Array.isArray(ve))for(let ye=0;ye<ve.length;ye++){const Me=ve[ye];It(Me,J,ne),ie.add(Me)}else It(ve,J,ne),ie.add(ve)}),_.pop(),v=null,ie},this.compileAsync=function(L,X,J=null){const ie=this.compile(L,X,J);return new Promise(ne=>{function ve(){if(ie.forEach(function(ye){Ge.get(ye).currentProgram.isReady()&&ie.delete(ye)}),ie.size===0){ne(L);return}setTimeout(ve,10)}de.get("KHR_parallel_shader_compile")!==null?ve():setTimeout(ve,10)})};let Xt=null;function gn(L){Xt&&Xt(L)}function Un(){pr.stop()}function Jt(){pr.start()}const pr=new w8;pr.setAnimationLoop(gn),typeof self<"u"&&pr.setContext(self),this.setAnimationLoop=function(L){Xt=L,et.setAnimationLoop(L),L===null?pr.stop():pr.start()},et.addEventListener("sessionstart",Un),et.addEventListener("sessionend",Jt),this.render=function(L,X){if(X!==void 0&&X.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;L.matrixWorldAutoUpdate===!0&&L.updateMatrixWorld(),X.parent===null&&X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),et.enabled===!0&&et.isPresenting===!0&&(et.cameraAutoUpdate===!0&&et.updateCamera(X),X=et.getCamera()),L.isScene===!0&&L.onBeforeRender(S,L,X,T),v=gt.get(L,_.length),v.init(),_.push(v),ze.multiplyMatrices(X.projectionMatrix,X.matrixWorldInverse),me.setFromProjectionMatrix(ze),pe=this.localClippingEnabled,le=Mt.init(this.clippingPlanes,pe),x=rt.get(L,g.length),x.init(),g.push(x),Ei(L,X,0,S.sortObjects),x.finish(),S.sortObjects===!0&&x.sort(B,q),this.info.render.frame++,le===!0&&Mt.beginShadows();const J=v.state.shadowsArray;if(ke.render(J,L,X),le===!0&&Mt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(et.enabled===!1||et.isPresenting===!1||et.hasDepthSensing()===!1)&&$t.render(x,L),v.setupLights(S._useLegacyLights),X.isArrayCamera){const ie=X.cameras;for(let ne=0,ve=ie.length;ne<ve;ne++){const ye=ie[ne];ca(x,L,ye,ye.viewport)}}else ca(x,L,X);T!==null&&(W.updateMultisampleRenderTarget(T),W.updateRenderTargetMipmap(T)),L.isScene===!0&&L.onAfterRender(S,L,X),ae.resetDefaultState(),O=-1,N=null,_.pop(),_.length>0?v=_[_.length-1]:v=null,g.pop(),g.length>0?x=g[g.length-1]:x=null};function Ei(L,X,J,ie){if(L.visible===!1)return;if(L.layers.test(X.layers)){if(L.isGroup)J=L.renderOrder;else if(L.isLOD)L.autoUpdate===!0&&L.update(X);else if(L.isLight)v.pushLight(L),L.castShadow&&v.pushShadow(L);else if(L.isSprite){if(!L.frustumCulled||me.intersectsSprite(L)){ie&&xe.setFromMatrixPosition(L.matrixWorld).applyMatrix4(ze);const ye=Oe.update(L),Me=L.material;Me.visible&&x.push(L,ye,Me,J,xe.z,null)}}else if((L.isMesh||L.isLine||L.isPoints)&&(!L.frustumCulled||me.intersectsObject(L))){const ye=Oe.update(L),Me=L.material;if(ie&&(L.boundingSphere!==void 0?(L.boundingSphere===null&&L.computeBoundingSphere(),xe.copy(L.boundingSphere.center)):(ye.boundingSphere===null&&ye.computeBoundingSphere(),xe.copy(ye.boundingSphere.center)),xe.applyMatrix4(L.matrixWorld).applyMatrix4(ze)),Array.isArray(Me)){const be=ye.groups;for(let st=0,Ue=be.length;st<Ue;st++){const Fe=be[st],ct=Me[Fe.materialIndex];ct&&ct.visible&&x.push(L,ye,ct,J,xe.z,Fe)}}else Me.visible&&x.push(L,ye,Me,J,xe.z,null)}}const ve=L.children;for(let ye=0,Me=ve.length;ye<Me;ye++)Ei(ve[ye],X,J,ie)}function ca(L,X,J,ie){const ne=L.opaque,ve=L.transmissive,ye=L.transparent;v.setupLightsView(J),le===!0&&Mt.setGlobalState(S.clippingPlanes,J),ve.length>0&&Kl(ne,ve,X,J),ie&&_e.viewport(P.copy(ie)),ne.length>0&&lo(ne,X,J),ve.length>0&&lo(ve,X,J),ye.length>0&&lo(ye,X,J),_e.buffers.depth.setTest(!0),_e.buffers.depth.setMask(!0),_e.buffers.color.setMask(!0),_e.setPolygonOffset(!1)}function Kl(L,X,J,ie){if((J.isScene===!0?J.overrideMaterial:null)!==null)return;const ve=Re.isWebGL2;we===null&&(we=new oo(1,1,{generateMipmaps:!0,type:de.has("EXT_color_buffer_half_float")?vi:Da,minFilter:Aa,samples:ve?4:0})),S.getDrawingBufferSize(Xe),ve?we.setSize(Xe.x,Xe.y):we.setSize(A_(Xe.x),A_(Xe.y));const ye=S.getRenderTarget();S.setRenderTarget(we),S.getClearColor(Y),F=S.getClearAlpha(),F<1&&S.setClearColor(16777215,.5),S.clear();const Me=S.toneMapping;S.toneMapping=Na,lo(L,J,ie),W.updateMultisampleRenderTarget(we),W.updateRenderTargetMipmap(we);let be=!1;for(let st=0,Ue=X.length;st<Ue;st++){const Fe=X[st],ct=Fe.object,xt=Fe.geometry,St=Fe.material,Ot=Fe.group;if(St.side===ta&&ct.layers.test(ie.layers)){const lt=St.side;St.side=xi,St.needsUpdate=!0,Ai(ct,J,ie,xt,St,Ot),St.side=lt,St.needsUpdate=!0,be=!0}}be===!0&&(W.updateMultisampleRenderTarget(we),W.updateRenderTargetMipmap(we)),S.setRenderTarget(ye),S.setClearColor(Y,F),S.toneMapping=Me}function lo(L,X,J){const ie=X.isScene===!0?X.overrideMaterial:null;for(let ne=0,ve=L.length;ne<ve;ne++){const ye=L[ne],Me=ye.object,be=ye.geometry,st=ie===null?ye.material:ie,Ue=ye.group;Me.layers.test(J.layers)&&Ai(Me,X,J,be,st,Ue)}}function Ai(L,X,J,ie,ne,ve){L.onBeforeRender(S,X,J,ie,ne,ve),L.modelViewMatrix.multiplyMatrices(J.matrixWorldInverse,L.matrixWorld),L.normalMatrix.getNormalMatrix(L.modelViewMatrix),ne.onBeforeRender(S,X,J,ie,L,ve),ne.transparent===!0&&ne.side===ta&&ne.forceSinglePass===!1?(ne.side=xi,ne.needsUpdate=!0,S.renderBufferDirect(J,X,ie,ne,L,ve),ne.side=Ts,ne.needsUpdate=!0,S.renderBufferDirect(J,X,ie,ne,L,ve),ne.side=ta):S.renderBufferDirect(J,X,ie,ne,L,ve),L.onAfterRender(S,X,J,ie,ne,ve)}function Dt(L,X,J){X.isScene!==!0&&(X=Ve);const ie=Ge.get(L),ne=v.state.lights,ve=v.state.shadowsArray,ye=ne.state.version,Me=nt.getParameters(L,ne.state,ve,X,J),be=nt.getProgramCacheKey(Me);let st=ie.programs;ie.environment=L.isMeshStandardMaterial?X.environment:null,ie.fog=X.fog,ie.envMap=(L.isMeshStandardMaterial?he:z).get(L.envMap||ie.environment),st===void 0&&(L.addEventListener("dispose",$e),st=new Map,ie.programs=st);let Ue=st.get(be);if(Ue!==void 0){if(ie.currentProgram===Ue&&ie.lightsStateVersion===ye)return Ic(L,Me),Ue}else Me.uniforms=nt.getUniforms(L),L.onBuild(J,Me,S),L.onBeforeCompile(Me,S),Ue=nt.acquireProgram(Me,be),st.set(be,Ue),ie.uniforms=Me.uniforms;const Fe=ie.uniforms;return(!L.isShaderMaterial&&!L.isRawShaderMaterial||L.clipping===!0)&&(Fe.clippingPlanes=Mt.uniform),Ic(L,Me),ie.needsLights=se(L),ie.lightsStateVersion=ye,ie.needsLights&&(Fe.ambientLightColor.value=ne.state.ambient,Fe.lightProbe.value=ne.state.probe,Fe.directionalLights.value=ne.state.directional,Fe.directionalLightShadows.value=ne.state.directionalShadow,Fe.spotLights.value=ne.state.spot,Fe.spotLightShadows.value=ne.state.spotShadow,Fe.rectAreaLights.value=ne.state.rectArea,Fe.ltc_1.value=ne.state.rectAreaLTC1,Fe.ltc_2.value=ne.state.rectAreaLTC2,Fe.pointLights.value=ne.state.point,Fe.pointLightShadows.value=ne.state.pointShadow,Fe.hemisphereLights.value=ne.state.hemi,Fe.directionalShadowMap.value=ne.state.directionalShadowMap,Fe.directionalShadowMatrix.value=ne.state.directionalShadowMatrix,Fe.spotShadowMap.value=ne.state.spotShadowMap,Fe.spotLightMatrix.value=ne.state.spotLightMatrix,Fe.spotLightMap.value=ne.state.spotLightMap,Fe.pointShadowMap.value=ne.state.pointShadowMap,Fe.pointShadowMatrix.value=ne.state.pointShadowMatrix),ie.currentProgram=Ue,ie.uniformsList=null,Ue}function Zl(L){if(L.uniformsList===null){const X=L.currentProgram.getUniforms();L.uniformsList=j0.seqWithValue(X.seq,L.uniforms)}return L.uniformsList}function Ic(L,X){const J=Ge.get(L);J.outputColorSpace=X.outputColorSpace,J.batching=X.batching,J.instancing=X.instancing,J.instancingColor=X.instancingColor,J.skinning=X.skinning,J.morphTargets=X.morphTargets,J.morphNormals=X.morphNormals,J.morphColors=X.morphColors,J.morphTargetsCount=X.morphTargetsCount,J.numClippingPlanes=X.numClippingPlanes,J.numIntersection=X.numClipIntersection,J.vertexAlphas=X.vertexAlphas,J.vertexTangents=X.vertexTangents,J.toneMapping=X.toneMapping}function D(L,X,J,ie,ne){X.isScene!==!0&&(X=Ve),W.resetTextureUnits();const ve=X.fog,ye=ie.isMeshStandardMaterial?X.environment:null,Me=T===null?S.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:za,be=(ie.isMeshStandardMaterial?he:z).get(ie.envMap||ye),st=ie.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,Ue=!!J.attributes.tangent&&(!!ie.normalMap||ie.anisotropy>0),Fe=!!J.morphAttributes.position,ct=!!J.morphAttributes.normal,xt=!!J.morphAttributes.color;let St=Na;ie.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(St=S.toneMapping);const Ot=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,lt=Ot!==void 0?Ot.length:0,Ye=Ge.get(ie),Vt=v.state.lights;if(le===!0&&(pe===!0||L!==N)){const kt=L===N&&ie.id===O;Mt.setState(ie,L,kt)}let Et=!1;ie.version===Ye.__version?(Ye.needsLights&&Ye.lightsStateVersion!==Vt.state.version||Ye.outputColorSpace!==Me||ne.isBatchedMesh&&Ye.batching===!1||!ne.isBatchedMesh&&Ye.batching===!0||ne.isInstancedMesh&&Ye.instancing===!1||!ne.isInstancedMesh&&Ye.instancing===!0||ne.isSkinnedMesh&&Ye.skinning===!1||!ne.isSkinnedMesh&&Ye.skinning===!0||ne.isInstancedMesh&&Ye.instancingColor===!0&&ne.instanceColor===null||ne.isInstancedMesh&&Ye.instancingColor===!1&&ne.instanceColor!==null||Ye.envMap!==be||ie.fog===!0&&Ye.fog!==ve||Ye.numClippingPlanes!==void 0&&(Ye.numClippingPlanes!==Mt.numPlanes||Ye.numIntersection!==Mt.numIntersection)||Ye.vertexAlphas!==st||Ye.vertexTangents!==Ue||Ye.morphTargets!==Fe||Ye.morphNormals!==ct||Ye.morphColors!==xt||Ye.toneMapping!==St||Re.isWebGL2===!0&&Ye.morphTargetsCount!==lt)&&(Et=!0):(Et=!0,Ye.__version=ie.version);let Pt=Ye.currentProgram;Et===!0&&(Pt=Dt(ie,X,ne));let cn=!1,qn=!1,Ln=!1;const Qt=Pt.getUniforms(),Wt=Ye.uniforms;if(_e.useProgram(Pt.program)&&(cn=!0,qn=!0,Ln=!0),ie.id!==O&&(O=ie.id,qn=!0),cn||N!==L){Qt.setValue(V,"projectionMatrix",L.projectionMatrix),Qt.setValue(V,"viewMatrix",L.matrixWorldInverse);const kt=Qt.map.cameraPosition;kt!==void 0&&kt.setValue(V,xe.setFromMatrixPosition(L.matrixWorld)),Re.logarithmicDepthBuffer&&Qt.setValue(V,"logDepthBufFC",2/(Math.log(L.far+1)/Math.LN2)),(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial)&&Qt.setValue(V,"isOrthographic",L.isOrthographicCamera===!0),N!==L&&(N=L,qn=!0,Ln=!0)}if(ne.isSkinnedMesh){Qt.setOptional(V,ne,"bindMatrix"),Qt.setOptional(V,ne,"bindMatrixInverse");const kt=ne.skeleton;kt&&(Re.floatVertexTextures?(kt.boneTexture===null&&kt.computeBoneTexture(),Qt.setValue(V,"boneTexture",kt.boneTexture,W)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}ne.isBatchedMesh&&(Qt.setOptional(V,ne,"batchingTexture"),Qt.setValue(V,"batchingTexture",ne._matricesTexture,W));const Fn=J.morphAttributes;if((Fn.position!==void 0||Fn.normal!==void 0||Fn.color!==void 0&&Re.isWebGL2===!0)&&Rt.update(ne,J,Pt),(qn||Ye.receiveShadow!==ne.receiveShadow)&&(Ye.receiveShadow=ne.receiveShadow,Qt.setValue(V,"receiveShadow",ne.receiveShadow)),ie.isMeshGouraudMaterial&&ie.envMap!==null&&(Wt.envMap.value=be,Wt.flipEnvMap.value=be.isCubeTexture&&be.isRenderTargetTexture===!1?-1:1),qn&&(Qt.setValue(V,"toneMappingExposure",S.toneMappingExposure),Ye.needsLights&&H(Wt,Ln),ve&&ie.fog===!0&&qe.refreshFogUniforms(Wt,ve),qe.refreshMaterialUniforms(Wt,ie,te,$,we),j0.upload(V,Zl(Ye),Wt,W)),ie.isShaderMaterial&&ie.uniformsNeedUpdate===!0&&(j0.upload(V,Zl(Ye),Wt,W),ie.uniformsNeedUpdate=!1),ie.isSpriteMaterial&&Qt.setValue(V,"center",ne.center),Qt.setValue(V,"modelViewMatrix",ne.modelViewMatrix),Qt.setValue(V,"normalMatrix",ne.normalMatrix),Qt.setValue(V,"modelMatrix",ne.matrixWorld),ie.isShaderMaterial||ie.isRawShaderMaterial){const kt=ie.uniformsGroups;for(let Yt=0,bn=kt.length;Yt<bn;Yt++)if(Re.isWebGL2){const uo=kt[Yt];Pe.update(uo,Pt),Pe.bind(uo,Pt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Pt}function H(L,X){L.ambientLightColor.needsUpdate=X,L.lightProbe.needsUpdate=X,L.directionalLights.needsUpdate=X,L.directionalLightShadows.needsUpdate=X,L.pointLights.needsUpdate=X,L.pointLightShadows.needsUpdate=X,L.spotLights.needsUpdate=X,L.spotLightShadows.needsUpdate=X,L.rectAreaLights.needsUpdate=X,L.hemisphereLights.needsUpdate=X}function se(L){return L.isMeshLambertMaterial||L.isMeshToonMaterial||L.isMeshPhongMaterial||L.isMeshStandardMaterial||L.isShadowMaterial||L.isShaderMaterial&&L.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(L,X,J){Ge.get(L.texture).__webglTexture=X,Ge.get(L.depthTexture).__webglTexture=J;const ie=Ge.get(L);ie.__hasExternalTextures=!0,ie.__hasExternalTextures&&(ie.__autoAllocateDepthBuffer=J===void 0,ie.__autoAllocateDepthBuffer||de.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ie.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(L,X){const J=Ge.get(L);J.__webglFramebuffer=X,J.__useDefaultFramebuffer=X===void 0},this.setRenderTarget=function(L,X=0,J=0){T=L,M=X,E=J;let ie=!0,ne=null,ve=!1,ye=!1;if(L){const be=Ge.get(L);be.__useDefaultFramebuffer!==void 0?(_e.bindFramebuffer(V.FRAMEBUFFER,null),ie=!1):be.__webglFramebuffer===void 0?W.setupRenderTarget(L):be.__hasExternalTextures&&W.rebindTextures(L,Ge.get(L.texture).__webglTexture,Ge.get(L.depthTexture).__webglTexture);const st=L.texture;(st.isData3DTexture||st.isDataArrayTexture||st.isCompressedArrayTexture)&&(ye=!0);const Ue=Ge.get(L).__webglFramebuffer;L.isWebGLCubeRenderTarget?(Array.isArray(Ue[X])?ne=Ue[X][J]:ne=Ue[X],ve=!0):Re.isWebGL2&&L.samples>0&&W.useMultisampledRTT(L)===!1?ne=Ge.get(L).__webglMultisampledFramebuffer:Array.isArray(Ue)?ne=Ue[J]:ne=Ue,P.copy(L.viewport),R.copy(L.scissor),j=L.scissorTest}else P.copy(Z).multiplyScalar(te).floor(),R.copy(oe).multiplyScalar(te).floor(),j=re;if(_e.bindFramebuffer(V.FRAMEBUFFER,ne)&&Re.drawBuffers&&ie&&_e.drawBuffers(L,ne),_e.viewport(P),_e.scissor(R),_e.setScissorTest(j),ve){const be=Ge.get(L.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_CUBE_MAP_POSITIVE_X+X,be.__webglTexture,J)}else if(ye){const be=Ge.get(L.texture),st=X||0;V.framebufferTextureLayer(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,be.__webglTexture,J||0,st)}O=-1},this.readRenderTargetPixels=function(L,X,J,ie,ne,ve,ye){if(!(L&&L.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Me=Ge.get(L).__webglFramebuffer;if(L.isWebGLCubeRenderTarget&&ye!==void 0&&(Me=Me[ye]),Me){_e.bindFramebuffer(V.FRAMEBUFFER,Me);try{const be=L.texture,st=be.format,Ue=be.type;if(st!==ri&&at.convert(st)!==V.getParameter(V.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Fe=Ue===vi&&(de.has("EXT_color_buffer_half_float")||Re.isWebGL2&&de.has("EXT_color_buffer_float"));if(Ue!==Da&&at.convert(Ue)!==V.getParameter(V.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ue===Rr&&(Re.isWebGL2||de.has("OES_texture_float")||de.has("WEBGL_color_buffer_float")))&&!Fe){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}X>=0&&X<=L.width-ie&&J>=0&&J<=L.height-ne&&V.readPixels(X,J,ie,ne,at.convert(st),at.convert(Ue),ve)}finally{const be=T!==null?Ge.get(T).__webglFramebuffer:null;_e.bindFramebuffer(V.FRAMEBUFFER,be)}}},this.copyFramebufferToTexture=function(L,X,J=0){const ie=Math.pow(2,-J),ne=Math.floor(X.image.width*ie),ve=Math.floor(X.image.height*ie);W.setTexture2D(X,0),V.copyTexSubImage2D(V.TEXTURE_2D,J,0,0,L.x,L.y,ne,ve),_e.unbindTexture()},this.copyTextureToTexture=function(L,X,J,ie=0){const ne=X.image.width,ve=X.image.height,ye=at.convert(J.format),Me=at.convert(J.type);W.setTexture2D(J,0),V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,J.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,J.unpackAlignment),X.isDataTexture?V.texSubImage2D(V.TEXTURE_2D,ie,L.x,L.y,ne,ve,ye,Me,X.image.data):X.isCompressedTexture?V.compressedTexSubImage2D(V.TEXTURE_2D,ie,L.x,L.y,X.mipmaps[0].width,X.mipmaps[0].height,ye,X.mipmaps[0].data):V.texSubImage2D(V.TEXTURE_2D,ie,L.x,L.y,ye,Me,X.image),ie===0&&J.generateMipmaps&&V.generateMipmap(V.TEXTURE_2D),_e.unbindTexture()},this.copyTextureToTexture3D=function(L,X,J,ie,ne=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ve=L.max.x-L.min.x+1,ye=L.max.y-L.min.y+1,Me=L.max.z-L.min.z+1,be=at.convert(ie.format),st=at.convert(ie.type);let Ue;if(ie.isData3DTexture)W.setTexture3D(ie,0),Ue=V.TEXTURE_3D;else if(ie.isDataArrayTexture||ie.isCompressedArrayTexture)W.setTexture2DArray(ie,0),Ue=V.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,ie.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,ie.unpackAlignment);const Fe=V.getParameter(V.UNPACK_ROW_LENGTH),ct=V.getParameter(V.UNPACK_IMAGE_HEIGHT),xt=V.getParameter(V.UNPACK_SKIP_PIXELS),St=V.getParameter(V.UNPACK_SKIP_ROWS),Ot=V.getParameter(V.UNPACK_SKIP_IMAGES),lt=J.isCompressedTexture?J.mipmaps[ne]:J.image;V.pixelStorei(V.UNPACK_ROW_LENGTH,lt.width),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,lt.height),V.pixelStorei(V.UNPACK_SKIP_PIXELS,L.min.x),V.pixelStorei(V.UNPACK_SKIP_ROWS,L.min.y),V.pixelStorei(V.UNPACK_SKIP_IMAGES,L.min.z),J.isDataTexture||J.isData3DTexture?V.texSubImage3D(Ue,ne,X.x,X.y,X.z,ve,ye,Me,be,st,lt.data):J.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),V.compressedTexSubImage3D(Ue,ne,X.x,X.y,X.z,ve,ye,Me,be,lt.data)):V.texSubImage3D(Ue,ne,X.x,X.y,X.z,ve,ye,Me,be,st,lt),V.pixelStorei(V.UNPACK_ROW_LENGTH,Fe),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,ct),V.pixelStorei(V.UNPACK_SKIP_PIXELS,xt),V.pixelStorei(V.UNPACK_SKIP_ROWS,St),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Ot),ne===0&&ie.generateMipmaps&&V.generateMipmap(Ue),_e.unbindTexture()},this.initTexture=function(L){L.isCubeTexture?W.setTextureCube(L,0):L.isData3DTexture?W.setTexture3D(L,0):L.isDataArrayTexture||L.isCompressedArrayTexture?W.setTexture2DArray(L,0):W.setTexture2D(L,0),_e.unbindTexture()},this.resetState=function(){M=0,E=0,T=null,_e.reset(),ae.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ta}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===q1?"display-p3":"srgb",n.unpackColorSpace=fn.workingColorSpace===Fg?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===xr?Pl:eO}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Pl?xr:za}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class R8 extends fO{}R8.prototype.isWebGL1Renderer=!0;class J1{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new ot(e),this.density=n}clone(){return new J1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Q1{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new ot(e),this.near=n,this.far=r}clone(){return new Q1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class fg extends sn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class eS{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=lg,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=to()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return tc("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=to()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=to()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const hi=new K;class gc{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)hi.fromBufferAttribute(this,n),hi.applyMatrix4(e),this.setXYZ(n,hi.x,hi.y,hi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)hi.fromBufferAttribute(this,n),hi.applyNormalMatrix(e),this.setXYZ(n,hi.x,hi.y,hi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)hi.fromBufferAttribute(this,n),hi.transformDirection(e),this.setXYZ(n,hi.x,hi.y,hi.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=mi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ut(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Ut(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Ut(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Ut(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Ut(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=mi(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=mi(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=mi(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=mi(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array),o=Ut(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new pn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new gc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class hO extends jr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ot(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let cf;const rp=new K,ff=new K,hf=new K,df=new Ce,ip=new Ce,I8=new Ct,Wy=new K,op=new K,Gy=new K,CF=new Ce,sM=new Ce,OF=new Ce;class L8 extends sn{constructor(e=new hO){if(super(),this.isSprite=!0,this.type="Sprite",cf===void 0){cf=new Bt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new eS(n,5);cf.setIndex([0,1,2,0,2,3]),cf.setAttribute("position",new gc(r,3,0,!1)),cf.setAttribute("uv",new gc(r,2,3,!1))}this.geometry=cf,this.material=e,this.center=new Ce(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ff.setFromMatrixScale(this.matrixWorld),I8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),hf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ff.multiplyScalar(-hf.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const a=this.center;Xy(Wy.set(-.5,-.5,0),hf,a,ff,i,o),Xy(op.set(.5,-.5,0),hf,a,ff,i,o),Xy(Gy.set(.5,.5,0),hf,a,ff,i,o),CF.set(0,0),sM.set(1,0),OF.set(1,1);let s=e.ray.intersectTriangle(Wy,op,Gy,!1,rp);if(s===null&&(Xy(op.set(-.5,.5,0),hf,a,ff,i,o),sM.set(0,1),s=e.ray.intersectTriangle(Wy,Gy,op,!1,rp),s===null))return;const l=e.ray.origin.distanceTo(rp);l<e.near||l>e.far||n.push({distance:l,point:rp.clone(),uv:Zi.getInterpolation(rp,Wy,op,Gy,CF,sM,OF,new Ce),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Xy(t,e,n,r,i,o){df.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(ip.x=o*df.x-i*df.y,ip.y=i*df.x+o*df.y):ip.copy(df),t.copy(e),t.x+=ip.x,t.y+=ip.y,t.applyMatrix4(I8)}const qy=new K,RF=new K;class N8 extends sn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){qy.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(qy);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){qy.setFromMatrixPosition(e.matrixWorld),RF.setFromMatrixPosition(this.matrixWorld);const r=qy.distanceTo(RF)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const IF=new K,LF=new hn,NF=new hn,uOe=new K,DF=new Ct,Yy=new K,lM=new ai,kF=new Ct,uM=new Ac;class D8 extends tr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=ST,this.bindMatrix=new Ct,this.bindMatrixInverse=new Ct,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new _i),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Yy),this.boundingBox.expandByPoint(Yy)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ai),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Yy),this.boundingSphere.expandByPoint(Yy)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),lM.copy(this.boundingSphere),lM.applyMatrix4(i),e.ray.intersectsSphere(lM)!==!1&&(kF.copy(i).invert(),uM.copy(e.ray).applyMatrix4(kF),!(this.boundingBox!==null&&uM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,uM)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new hn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===ST?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===q6?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;LF.fromBufferAttribute(i.attributes.skinIndex,e),NF.fromBufferAttribute(i.attributes.skinWeight,e),IF.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const a=NF.getComponent(o);if(a!==0){const s=LF.getComponent(o);DF.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(uOe.copy(IF).applyMatrix4(DF),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class dO extends sn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class rc extends Gn{constructor(e=null,n=1,r=1,i,o,a,s,l,u=or,c=or,f,d){super(null,a,s,l,u,c,i,o,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const UF=new Ct,cOe=new Ct;class tS{constructor(e=[],n=[]){this.uuid=to(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ct)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Ct;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:cOe;UF.multiplyMatrices(s,n[o]),UF.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new tS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new rc(n,e,e,ri,Rr);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let a=n[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new dO),this.bones.push(a),this.boneInverses.push(new Ct().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const a=n[i];e.bones.push(a.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class zh extends pn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const pf=new Ct,FF=new Ct,Ky=[],BF=new _i,fOe=new Ct,ap=new tr,sp=new ai;class k8 extends tr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new zh(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,fOe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new _i),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,pf),BF.copy(e.boundingBox).applyMatrix4(pf),this.boundingBox.union(BF)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ai),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,pf),sp.copy(e.boundingSphere).applyMatrix4(pf),this.boundingSphere.union(sp)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(ap.geometry=this.geometry,ap.material=this.material,ap.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),sp.copy(this.boundingSphere),sp.applyMatrix4(r),e.ray.intersectsSphere(sp)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,pf),FF.multiplyMatrices(r,pf),ap.matrixWorld=FF,ap.raycast(e,Ky);for(let a=0,s=Ky.length;a<s;a++){const l=Ky[a];l.instanceId=o,l.object=this,n.push(l)}Ky.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new zh(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function hOe(t,e){return t.z-e.z}function dOe(t,e){return e.z-t.z}class pOe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const o=r[this.index];i.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=n}reset(){this.list.length=0,this.index=0}}const mf="batchId",Js=new Ct,zF=new Ct,mOe=new Ct,jF=new Ct,cM=new Vg,Zy=new _i,du=new ai,lp=new K,fM=new pOe,Kr=new tr,Jy=[];function gOe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let a=0;a<r;a++)e.setComponent(o+n,a,t.getComponent(o,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class U8 extends tr{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new Bt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new rc(n,e,e,ri,Rr);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,o=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const l=e.getAttribute(s),{array:u,itemSize:c,normalized:f}=l,d=new u.constructor(r*c),m=new l.constructor(d,c,f);m.setUsage(l.usage),n.setAttribute(s,m)}if(e.getIndex()!==null){const s=r>65536?new Uint32Array(o):new Uint16Array(o);n.setIndex(new pn(s,1))}const a=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(mf,new pn(a,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(mf))throw new Error(`BatchedMesh: Geometry cannot use attribute "${mf}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===mf)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _i);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Js),this.getBoundingBoxAt(i,Zy).applyMatrix4(Js),n.union(Zy))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ai);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Js),this.getBoundingSphereAt(i,du).applyMatrix4(Js),n.union(du))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let o=null;const a=this._reservedRanges,s=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(o=a[a.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,o===null?i.vertexStart=0:i.vertexStart=o.vertexStart+o.vertexCount;const u=e.getIndex(),c=u!==null;if(c&&(r===-1?i.indexCount=u.count:i.indexCount=r,o===null?i.indexStart=0:i.indexStart=o.indexStart+o.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,d=this._active,m=this._matricesTexture,y=this._matricesTexture.image.data;f.push(!0),d.push(!0);const x=this._geometryCount;this._geometryCount++,mOe.toArray(y,x*16),m.needsUpdate=!0,a.push(i),s.push({start:c?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new _i,sphereInitialized:!1,sphere:new ai});const v=this.geometry.getAttribute(mf);for(let g=0;g<i.vertexCount;g++)v.setX(i.vertexStart+g,x);return v.needsUpdate=!0,this.setGeometryAt(x,e),x}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),a=n.getIndex(),s=this._reservedRanges[e];if(i&&a.count>s.indexCount||n.attributes.position.count>s.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,u=s.vertexCount;for(const m in r.attributes){if(m===mf)continue;const y=n.getAttribute(m),x=r.getAttribute(m);gOe(y,x,l);const v=y.itemSize;for(let g=y.count,_=u;g<_;g++){const S=l+g;for(let w=0;w<v;w++)x.setComponent(S,w,0)}x.needsUpdate=!0}if(i){const m=s.indexStart;for(let y=0;y<a.count;y++)o.setX(m+y,l+a.getX(y));for(let y=a.count,x=s.indexCount;y<x;y++)o.setX(m+y,l);o.needsUpdate=!0}const c=this._bounds[e];n.boundingBox!==null?(c.box.copy(n.boundingBox),c.boxInitialized=!0):c.boxInitialized=!1,n.boundingSphere!==null?(c.sphere.copy(n.boundingSphere),c.sphereInitialized=!0):c.sphereInitialized=!1;const f=this._drawRanges[e],d=n.getAttribute("position");return f.count=i?a.count:d.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],o=i.box,a=this.geometry;if(i.boxInitialized===!1){o.makeEmpty();const s=a.index,l=a.attributes.position,u=this._drawRanges[e];for(let c=u.start,f=u.start+u.count;c<f;c++){let d=c;s&&(d=s.getX(d)),o.expandByPoint(lp.fromBufferAttribute(l,d))}i.boxInitialized=!0}return n.copy(o),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],o=i.sphere,a=this.geometry;if(i.sphereInitialized===!1){o.makeEmpty(),this.getBoundingBoxAt(e,Zy),Zy.getCenter(o.center);const s=a.index,l=a.attributes.position,u=this._drawRanges[e];let c=0;for(let f=u.start,d=u.start+u.count;f<d;f++){let m=f;s&&(m=s.getX(m)),lp.fromBufferAttribute(l,m),c=Math.max(c,o.center.distanceToSquared(lp))}o.radius=Math.sqrt(c),i.sphereInitialized=!0}return n.copy(o),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,o=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?this:(n.toArray(o,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,o=this._geometryCount;return e>=o||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,o=this._drawRanges,a=this._geometryCount,s=this.matrixWorld,l=this.geometry;Kr.material=this.material,Kr.geometry.index=l.index,Kr.geometry.attributes=l.attributes,Kr.geometry.boundingBox===null&&(Kr.geometry.boundingBox=new _i),Kr.geometry.boundingSphere===null&&(Kr.geometry.boundingSphere=new ai);for(let u=0;u<a;u++){if(!r[u]||!i[u])continue;const c=o[u];Kr.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(u,Kr.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,Kr.geometry.boundingBox),this.getBoundingSphereAt(u,Kr.geometry.boundingSphere),Kr.raycast(e,Jy);for(let f=0,d=Jy.length;f<d;f++){const m=Jy[f];m.object=this,m.batchId=u,n.push(m)}Jy.length=0}Kr.material=null,Kr.geometry.index=null,Kr.geometry.attributes={},Kr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),s=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._active,u=this._visibility,c=this._multiDrawStarts,f=this._multiDrawCounts,d=this._drawRanges,m=this.perObjectFrustumCulled;m&&(jF.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),cM.setFromProjectionMatrix(jF,e.coordinateSystem));let y=0;if(this.sortObjects){zF.copy(this.matrixWorld).invert(),lp.setFromMatrixPosition(r.matrixWorld).applyMatrix4(zF);for(let g=0,_=u.length;g<_;g++)if(u[g]&&l[g]){this.getMatrixAt(g,Js),this.getBoundingSphereAt(g,du).applyMatrix4(Js);let S=!1;if(m&&(S=!cM.intersectsSphere(du)),!S){const w=lp.distanceTo(du.center);fM.push(d[g],w)}}const x=fM.list,v=this.customSort;v===null?x.sort(o.transparent?dOe:hOe):v.call(this,x,r);for(let g=0,_=x.length;g<_;g++){const S=x[g];c[y]=S.start*s,f[y]=S.count,y++}fM.reset()}else for(let x=0,v=u.length;x<v;x++)if(u[x]&&l[x]){let g=!1;if(m&&(this.getMatrixAt(x,Js),this.getBoundingSphereAt(x,du).applyMatrix4(Js),g=!cM.intersectsSphere(du)),!g){const _=d[x];c[y]=_.start*s,f[y]=_.count,y++}}this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,a){this.onBeforeRender(e,null,i,o,a)}}class Mi extends jr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ot(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const VF=new K,HF=new K,$F=new Ct,hM=new Ac,Qy=new ai;class Dl extends sn{constructor(e=new Bt,n=new Mi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)VF.fromBufferAttribute(n,i-1),HF.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=VF.distanceTo(HF);e.setAttribute("lineDistance",new mt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Qy.copy(r.boundingSphere),Qy.applyMatrix4(i),Qy.radius+=o,e.ray.intersectsSphere(Qy)===!1)return;$F.copy(i).invert(),hM.copy(e.ray).applyMatrix4($F);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=new K,c=new K,f=new K,d=new K,m=this.isLineSegments?2:1,y=r.index,v=r.attributes.position;if(y!==null){const g=Math.max(0,a.start),_=Math.min(y.count,a.start+a.count);for(let S=g,w=_-1;S<w;S+=m){const M=y.getX(S),E=y.getX(S+1);if(u.fromBufferAttribute(v,M),c.fromBufferAttribute(v,E),hM.distanceSqToSegment(u,c,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const O=e.ray.origin.distanceTo(d);O<e.near||O>e.far||n.push({distance:O,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,a.start),_=Math.min(v.count,a.start+a.count);for(let S=g,w=_-1;S<w;S+=m){if(u.fromBufferAttribute(v,S),c.fromBufferAttribute(v,S+1),hM.distanceSqToSegment(u,c,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(d);E<e.near||E>e.far||n.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}const WF=new K,GF=new K;class Va extends Dl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)WF.fromBufferAttribute(n,i),GF.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+WF.distanceTo(GF);e.setAttribute("lineDistance",new mt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class F8 extends Dl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class pO extends jr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ot(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const XF=new Ct,JT=new Ac,e0=new ai,t0=new K;class B8 extends sn{constructor(e=new Bt,n=new pO){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),e0.copy(r.boundingSphere),e0.applyMatrix4(i),e0.radius+=o,e.ray.intersectsSphere(e0)===!1)return;XF.copy(i).invert(),JT.copy(e.ray).applyMatrix4(XF);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=r.index,f=r.attributes.position;if(u!==null){const d=Math.max(0,a.start),m=Math.min(u.count,a.start+a.count);for(let y=d,x=m;y<x;y++){const v=u.getX(y);t0.fromBufferAttribute(f,v),qF(t0,v,l,i,e,n,this)}}else{const d=Math.max(0,a.start),m=Math.min(f.count,a.start+a.count);for(let y=d,x=m;y<x;y++)t0.fromBufferAttribute(f,y),qF(t0,y,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function qF(t,e,n,r,i,o,a){const s=JT.distanceSqToPoint(t);if(s<n){const l=new K;JT.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:a})}}class vOe extends Gn{constructor(e,n,r,i,o,a,s,l,u){super(e,n,r,i,o,a,s,l,u),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:xn,this.magFilter=o!==void 0?o:xn,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class yOe extends Gn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=or,this.minFilter=or,this.generateMipmaps=!1,this.needsUpdate=!0}}class nS extends Gn{constructor(e,n,r,i,o,a,s,l,u,c,f,d){super(null,a,s,l,u,c,i,o,f,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class xOe extends nS{constructor(e,n,r,i,o,a){super(e,n,r,o,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ni}}class _Oe extends nS{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Ba),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class z8 extends Gn{constructor(e,n,r,i,o,a,s,l,u){super(e,n,r,i,o,a,s,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class la{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,u;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),u=r[i]-a,u<0)s=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const c=r[i],d=r[i+1]-c,m=(a-c)/d;return(i+m)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new Ce:new K);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new K,i=[],o=[],a=[],s=new K,l=new Ct;for(let m=0;m<=e;m++){const y=m/e;i[m]=this.getTangentAt(y,new K)}o[0]=new K,a[0]=new K;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),d<=u&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let m=1;m<=e;m++){if(o[m]=o[m-1].clone(),a[m]=a[m-1].clone(),s.crossVectors(i[m-1],i[m]),s.length()>Number.EPSILON){s.normalize();const y=Math.acos(er(i[m-1].dot(i[m]),-1,1));o[m].applyMatrix4(l.makeRotationAxis(s,y))}a[m].crossVectors(i[m],o[m])}if(n===!0){let m=Math.acos(er(o[0].dot(o[e]),-1,1));m/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(m=-m);for(let y=1;y<=e;y++)o[y].applyMatrix4(l.makeRotationAxis(i[y],m*y)),a[y].crossVectors(i[y],o[y])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class rS extends la{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n){const r=n||new Ce,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,m=u-this.aY;l=d*c-m*f+this.aX,u=d*f+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class j8 extends rS{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function mO(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,u){i(a,s,u*(s-o),u*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,u,c,f){let d=(a-o)/u-(s-o)/(u+c)+(s-a)/c,m=(s-a)/c-(l-a)/(c+f)+(l-s)/f;d*=c,m*=c,i(a,s,d,m)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const n0=new K,dM=new mO,pM=new mO,mM=new mO;class V8 extends la{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new K){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let u,c;this.closed||s>0?u=i[(s-1)%o]:(n0.subVectors(i[0],i[1]).add(i[0]),u=n0);const f=i[s%o],d=i[(s+1)%o];if(this.closed||s+2<o?c=i[(s+2)%o]:(n0.subVectors(i[o-1],i[o-2]).add(i[o-1]),c=n0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(f),m),x=Math.pow(f.distanceToSquared(d),m),v=Math.pow(d.distanceToSquared(c),m);x<1e-4&&(x=1),y<1e-4&&(y=x),v<1e-4&&(v=x),dM.initNonuniformCatmullRom(u.x,f.x,d.x,c.x,y,x,v),pM.initNonuniformCatmullRom(u.y,f.y,d.y,c.y,y,x,v),mM.initNonuniformCatmullRom(u.z,f.z,d.z,c.z,y,x,v)}else this.curveType==="catmullrom"&&(dM.initCatmullRom(u.x,f.x,d.x,c.x,this.tension),pM.initCatmullRom(u.y,f.y,d.y,c.y,this.tension),mM.initCatmullRom(u.z,f.z,d.z,c.z,this.tension));return r.set(dM.calc(l),pM.calc(l),mM.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new K().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function YF(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function SOe(t,e){const n=1-t;return n*n*e}function bOe(t,e){return 2*(1-t)*t*e}function wOe(t,e){return t*t*e}function Hp(t,e,n,r){return SOe(t,e)+bOe(t,n)+wOe(t,r)}function MOe(t,e){const n=1-t;return n*n*n*e}function EOe(t,e){const n=1-t;return 3*n*n*t*e}function AOe(t,e){return 3*(1-t)*t*t*e}function TOe(t,e){return t*t*t*e}function $p(t,e,n,r,i){return MOe(t,e)+EOe(t,n)+AOe(t,r)+TOe(t,i)}class gO extends la{constructor(e=new Ce,n=new Ce,r=new Ce,i=new Ce){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ce){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set($p(e,i.x,o.x,a.x,s.x),$p(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class H8 extends la{constructor(e=new K,n=new K,r=new K,i=new K){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new K){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set($p(e,i.x,o.x,a.x,s.x),$p(e,i.y,o.y,a.y,s.y),$p(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class vO extends la{constructor(e=new Ce,n=new Ce){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ce){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ce){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $8 extends la{constructor(e=new K,n=new K){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new K){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new K){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yO extends la{constructor(e=new Ce,n=new Ce,r=new Ce){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ce){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Hp(e,i.x,o.x,a.x),Hp(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xO extends la{constructor(e=new K,n=new K,r=new K){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new K){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Hp(e,i.x,o.x,a.x),Hp(e,i.y,o.y,a.y),Hp(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _O extends la{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ce){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],u=i[a],c=i[a>i.length-2?i.length-1:a+1],f=i[a>i.length-3?i.length-1:a+2];return r.set(YF(s,l.x,u.x,c.x,f.x),YF(s,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ce().fromArray(i))}return this}}var T_=Object.freeze({__proto__:null,ArcCurve:j8,CatmullRomCurve3:V8,CubicBezierCurve:gO,CubicBezierCurve3:H8,EllipseCurve:rS,LineCurve:vO,LineCurve3:$8,QuadraticBezierCurve:yO,QuadraticBezierCurve3:xO,SplineCurve:_O});class W8 extends la{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new T_[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),u=l===0?0:1-a/l;return s.getPointAt(u,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new T_[i.type]().fromJSON(i))}return this}}class hg extends W8{constructor(e){super(),this.type="Path",this.currentPoint=new Ce,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new vO(this.currentPoint.clone(),new Ce(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new yO(this.currentPoint.clone(),new Ce(e,n),new Ce(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new gO(this.currentPoint.clone(),new Ce(e,n),new Ce(r,i),new Ce(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new _O(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const u=new rS(e,n,r,i,o,a,s,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Hg extends Bt{constructor(e=[new Ce(0,-.5),new Ce(.5,0),new Ce(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=er(i,0,Math.PI*2);const o=[],a=[],s=[],l=[],u=[],c=1/n,f=new K,d=new Ce,m=new K,y=new K,x=new K;let v=0,g=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:v=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-v,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:v=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-v,m.z=g*0,y.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(y)}for(let _=0;_<=n;_++){const S=r+_*c*i,w=Math.sin(S),M=Math.cos(S);for(let E=0;E<=e.length-1;E++){f.x=e[E].x*w,f.y=e[E].y,f.z=e[E].x*M,a.push(f.x,f.y,f.z),d.x=_/n,d.y=E/(e.length-1),s.push(d.x,d.y);const T=l[3*E+0]*w,O=l[3*E+1],N=l[3*E+0]*M;u.push(T,O,N)}}for(let _=0;_<n;_++)for(let S=0;S<e.length-1;S++){const w=S+_*e.length,M=w,E=w+e.length,T=w+e.length+1,O=w+1;o.push(M,E,O),o.push(T,O,E)}this.setIndex(o),this.setAttribute("position",new mt(a,3)),this.setAttribute("uv",new mt(s,2)),this.setAttribute("normal",new mt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hg(e.points,e.segments,e.phiStart,e.phiLength)}}class iS extends Hg{constructor(e=1,n=1,r=4,i=8){const o=new hg;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new iS(e.radius,e.length,e.capSegments,e.radialSegments)}}class oS extends Bt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],l=[],u=new K,c=new Ce;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=n;f++,d+=3){const m=r+f/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),a.push(u.x,u.y,u.z),s.push(0,0,1),c.x=(a[d]/e+1)/2,c.y=(a[d+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)o.push(f,f+1,0);this.setIndex(o),this.setAttribute("position",new mt(a,3)),this.setAttribute("normal",new mt(s,3)),this.setAttribute("uv",new mt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oS(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class hd extends Bt{constructor(e=1,n=1,r=1,i=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const u=this;i=Math.floor(i),o=Math.floor(o);const c=[],f=[],d=[],m=[];let y=0;const x=[],v=r/2;let g=0;_(),a===!1&&(e>0&&S(!0),n>0&&S(!1)),this.setIndex(c),this.setAttribute("position",new mt(f,3)),this.setAttribute("normal",new mt(d,3)),this.setAttribute("uv",new mt(m,2));function _(){const w=new K,M=new K;let E=0;const T=(n-e)/r;for(let O=0;O<=o;O++){const N=[],P=O/o,R=P*(n-e)+e;for(let j=0;j<=i;j++){const Y=j/i,F=Y*l+s,G=Math.sin(F),$=Math.cos(F);M.x=R*G,M.y=-P*r+v,M.z=R*$,f.push(M.x,M.y,M.z),w.set(G,T,$).normalize(),d.push(w.x,w.y,w.z),m.push(Y,1-P),N.push(y++)}x.push(N)}for(let O=0;O<i;O++)for(let N=0;N<o;N++){const P=x[N][O],R=x[N+1][O],j=x[N+1][O+1],Y=x[N][O+1];c.push(P,R,Y),c.push(R,j,Y),E+=6}u.addGroup(g,E,0),g+=E}function S(w){const M=y,E=new Ce,T=new K;let O=0;const N=w===!0?e:n,P=w===!0?1:-1;for(let j=1;j<=i;j++)f.push(0,v*P,0),d.push(0,P,0),m.push(.5,.5),y++;const R=y;for(let j=0;j<=i;j++){const F=j/i*l+s,G=Math.cos(F),$=Math.sin(F);T.x=N*$,T.y=v*P,T.z=N*G,f.push(T.x,T.y,T.z),d.push(0,P,0),E.x=G*.5+.5,E.y=$*.5*P+.5,m.push(E.x,E.y),y++}for(let j=0;j<i;j++){const Y=M+j,F=R+j;w===!0?c.push(F,F+1,Y):c.push(F+1,F,Y),O+=3}u.addGroup(g,O,w===!0?1:2),g+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hd(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class aS extends hd{constructor(e=1,n=1,r=32,i=1,o=!1,a=0,s=Math.PI*2){super(0,e,n,r,i,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new aS(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ql extends Bt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],a=[];s(i),u(r),c(),this.setAttribute("position",new mt(o,3)),this.setAttribute("normal",new mt(o.slice(),3)),this.setAttribute("uv",new mt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(_){const S=new K,w=new K,M=new K;for(let E=0;E<n.length;E+=3)m(n[E+0],S),m(n[E+1],w),m(n[E+2],M),l(S,w,M,_)}function l(_,S,w,M){const E=M+1,T=[];for(let O=0;O<=E;O++){T[O]=[];const N=_.clone().lerp(w,O/E),P=S.clone().lerp(w,O/E),R=E-O;for(let j=0;j<=R;j++)j===0&&O===E?T[O][j]=N:T[O][j]=N.clone().lerp(P,j/R)}for(let O=0;O<E;O++)for(let N=0;N<2*(E-O)-1;N++){const P=Math.floor(N/2);N%2===0?(d(T[O][P+1]),d(T[O+1][P]),d(T[O][P])):(d(T[O][P+1]),d(T[O+1][P+1]),d(T[O+1][P]))}}function u(_){const S=new K;for(let w=0;w<o.length;w+=3)S.x=o[w+0],S.y=o[w+1],S.z=o[w+2],S.normalize().multiplyScalar(_),o[w+0]=S.x,o[w+1]=S.y,o[w+2]=S.z}function c(){const _=new K;for(let S=0;S<o.length;S+=3){_.x=o[S+0],_.y=o[S+1],_.z=o[S+2];const w=v(_)/2/Math.PI+.5,M=g(_)/Math.PI+.5;a.push(w,1-M)}y(),f()}function f(){for(let _=0;_<a.length;_+=6){const S=a[_+0],w=a[_+2],M=a[_+4],E=Math.max(S,w,M),T=Math.min(S,w,M);E>.9&&T<.1&&(S<.2&&(a[_+0]+=1),w<.2&&(a[_+2]+=1),M<.2&&(a[_+4]+=1))}}function d(_){o.push(_.x,_.y,_.z)}function m(_,S){const w=_*3;S.x=e[w+0],S.y=e[w+1],S.z=e[w+2]}function y(){const _=new K,S=new K,w=new K,M=new K,E=new Ce,T=new Ce,O=new Ce;for(let N=0,P=0;N<o.length;N+=9,P+=6){_.set(o[N+0],o[N+1],o[N+2]),S.set(o[N+3],o[N+4],o[N+5]),w.set(o[N+6],o[N+7],o[N+8]),E.set(a[P+0],a[P+1]),T.set(a[P+2],a[P+3]),O.set(a[P+4],a[P+5]),M.copy(_).add(S).add(w).divideScalar(3);const R=v(M);x(E,P+0,_,R),x(T,P+2,S,R),x(O,P+4,w,R)}}function x(_,S,w,M){M<0&&_.x===1&&(a[S]=_.x-1),w.x===0&&w.z===0&&(a[S]=M/2/Math.PI+.5)}function v(_){return Math.atan2(_.z,-_.x)}function g(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ql(e.vertices,e.indices,e.radius,e.details)}}class sS extends ql{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new sS(e.radius,e.detail)}}const r0=new K,i0=new K,gM=new K,o0=new Zi;class G8 extends Bt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(ec*n),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),d={},m=[];for(let y=0;y<l;y+=3){a?(u[0]=a.getX(y),u[1]=a.getX(y+1),u[2]=a.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:x,b:v,c:g}=o0;if(x.fromBufferAttribute(s,u[0]),v.fromBufferAttribute(s,u[1]),g.fromBufferAttribute(s,u[2]),o0.getNormal(gM),f[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const S=(_+1)%3,w=f[_],M=f[S],E=o0[c[_]],T=o0[c[S]],O=`${w}_${M}`,N=`${M}_${w}`;N in d&&d[N]?(gM.dot(d[N].normal)<=o&&(m.push(E.x,E.y,E.z),m.push(T.x,T.y,T.z)),d[N]=null):O in d||(d[O]={index0:u[_],index1:u[S],normal:gM.clone()})}}for(const y in d)if(d[y]){const{index0:x,index1:v}=d[y];r0.fromBufferAttribute(s,x),i0.fromBufferAttribute(s,v),m.push(r0.x,r0.y,r0.z),m.push(i0.x,i0.y,i0.z)}this.setAttribute("position",new mt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ic extends hg{constructor(e){super(e),this.uuid=to(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new hg().fromJSON(i))}return this}}const POe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=X8(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,u,c,f,d,m;if(r&&(o=LOe(t,e,o,n)),t.length>80*n){s=u=t[0],l=c=t[1];for(let y=n;y<i;y+=n)f=t[y],d=t[y+1],f<s&&(s=f),d<l&&(l=d),f>u&&(u=f),d>c&&(c=d);m=Math.max(u-s,c-l),m=m!==0?32767/m:0}return dg(o,a,n,s,l,m,0),a}};function X8(t,e,n,r,i){let o,a;if(i===$Oe(t,e,n,r)>0)for(o=e;o<n;o+=r)a=KF(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=KF(o,t[o],t[o+1],a);return a&&lS(a,a.next)&&(mg(a),a=a.next),a}function vc(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(lS(n,n.next)||Hn(n.prev,n,n.next)===0)){if(mg(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function dg(t,e,n,r,i,o,a){if(!t)return;!a&&o&&FOe(t,r,i,o);let s=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,o?OOe(t,r,i,o):COe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),mg(t),t=u.next,s=u.next;continue}if(t=u,t===s){a?a===1?(t=ROe(vc(t),e,n),dg(t,e,n,r,i,o,2)):a===2&&IOe(t,e,n,r,i,o):dg(vc(t),e,n,r,i,o,1);break}}}function COe(t){const e=t.prev,n=t,r=t.next;if(Hn(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,u=r.y,c=i<o?i<a?i:a:o<a?o:a,f=s<l?s<u?s:u:l<u?l:u,d=i>o?i>a?i:a:o>a?o:a,m=s>l?s>u?s:u:l>u?l:u;let y=r.next;for(;y!==e;){if(y.x>=c&&y.x<=d&&y.y>=f&&y.y<=m&&Wf(i,s,o,l,a,u,y.x,y.y)&&Hn(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function OOe(t,e,n,r){const i=t.prev,o=t,a=t.next;if(Hn(i,o,a)>=0)return!1;const s=i.x,l=o.x,u=a.x,c=i.y,f=o.y,d=a.y,m=s<l?s<u?s:u:l<u?l:u,y=c<f?c<d?c:d:f<d?f:d,x=s>l?s>u?s:u:l>u?l:u,v=c>f?c>d?c:d:f>d?f:d,g=QT(m,y,e,n,r),_=QT(x,v,e,n,r);let S=t.prevZ,w=t.nextZ;for(;S&&S.z>=g&&w&&w.z<=_;){if(S.x>=m&&S.x<=x&&S.y>=y&&S.y<=v&&S!==i&&S!==a&&Wf(s,c,l,f,u,d,S.x,S.y)&&Hn(S.prev,S,S.next)>=0||(S=S.prevZ,w.x>=m&&w.x<=x&&w.y>=y&&w.y<=v&&w!==i&&w!==a&&Wf(s,c,l,f,u,d,w.x,w.y)&&Hn(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=x&&S.y>=y&&S.y<=v&&S!==i&&S!==a&&Wf(s,c,l,f,u,d,S.x,S.y)&&Hn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;w&&w.z<=_;){if(w.x>=m&&w.x<=x&&w.y>=y&&w.y<=v&&w!==i&&w!==a&&Wf(s,c,l,f,u,d,w.x,w.y)&&Hn(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function ROe(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!lS(i,o)&&q8(i,r,r.next,o)&&pg(i,o)&&pg(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),mg(r),mg(r.next),r=t=o),r=r.next}while(r!==t);return vc(r)}function IOe(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&jOe(a,s)){let l=Y8(a,s);a=vc(a,a.next),l=vc(l,l.next),dg(a,e,n,r,i,o,0),dg(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function LOe(t,e,n,r){const i=[];let o,a,s,l,u;for(o=0,a=e.length;o<a;o++)s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,u=X8(t,s,l,r,!1),u===u.next&&(u.steiner=!0),i.push(zOe(u));for(i.sort(NOe),o=0;o<i.length;o++)n=DOe(i[o],n);return n}function NOe(t,e){return t.x-e.x}function DOe(t,e){const n=kOe(t,e);if(!n)return e;const r=Y8(n,t);return vc(r,r.next),vc(n,n.next)}function kOe(t,e){let n=e,r=-1/0,i;const o=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const d=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=o&&d>r&&(r=d,i=n.x<n.next.x?n:n.next,d===o))return i}n=n.next}while(n!==e);if(!i)return null;const s=i,l=i.x,u=i.y;let c=1/0,f;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&Wf(a<u?o:r,a,l,u,a<u?r:o,a,n.x,n.y)&&(f=Math.abs(a-n.y)/(o-n.x),pg(n,t)&&(f<c||f===c&&(n.x>i.x||n.x===i.x&&UOe(i,n)))&&(i=n,c=f)),n=n.next;while(n!==s);return i}function UOe(t,e){return Hn(t.prev,t,e.prev)<0&&Hn(e.next,t,t.next)<0}function FOe(t,e,n,r){let i=t;do i.z===0&&(i.z=QT(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,BOe(i)}function BOe(t){let e,n,r,i,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ,!!r);e++);for(l=u;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1);return t}function QT(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function zOe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Wf(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function jOe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!VOe(t,e)&&(pg(t,e)&&pg(e,t)&&HOe(t,e)&&(Hn(t.prev,t,e.prev)||Hn(t,e.prev,e))||lS(t,e)&&Hn(t.prev,t,t.next)>0&&Hn(e.prev,e,e.next)>0)}function Hn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function lS(t,e){return t.x===e.x&&t.y===e.y}function q8(t,e,n,r){const i=s0(Hn(t,e,n)),o=s0(Hn(t,e,r)),a=s0(Hn(n,r,t)),s=s0(Hn(n,r,e));return!!(i!==o&&a!==s||i===0&&a0(t,n,e)||o===0&&a0(t,r,e)||a===0&&a0(n,t,r)||s===0&&a0(n,e,r))}function a0(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function s0(t){return t>0?1:t<0?-1:0}function VOe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&q8(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function pg(t,e){return Hn(t.prev,t,t.next)<0?Hn(t,e,t.next)>=0&&Hn(t,t.prev,e)>=0:Hn(t,e,t.prev)<0||Hn(t,t.next,e)<0}function HOe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Y8(t,e){const n=new eP(t.i,t.x,t.y),r=new eP(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function KF(t,e,n,r){const i=new eP(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function mg(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function eP(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $Oe(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class ka{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return ka.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];ZF(e),JF(r,e);let a=e.length;n.forEach(ZF);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,JF(r,n[l]);const s=POe.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function ZF(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function JF(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class uS extends Bt{constructor(e=new ic([new Ce(.5,.5),new Ce(-.5,.5),new Ce(-.5,-.5),new Ce(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const u=e[s];a(u)}this.setAttribute("position",new mt(i,3)),this.setAttribute("uv",new mt(o,2)),this.computeVertexNormals();function a(s){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:m-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:WOe;let S,w=!1,M,E,T,O;g&&(S=g.getSpacedPoints(c),w=!0,d=!1,M=g.computeFrenetFrames(c,!1),E=new K,T=new K,O=new K),d||(v=0,m=0,y=0,x=0);const N=s.extractPoints(u);let P=N.shape;const R=N.holes;if(!ka.isClockWise(P)){P=P.reverse();for(let V=0,Ae=R.length;V<Ae;V++){const de=R[V];ka.isClockWise(de)&&(R[V]=de.reverse())}}const Y=ka.triangulateShape(P,R),F=P;for(let V=0,Ae=R.length;V<Ae;V++){const de=R[V];P=P.concat(de)}function G(V,Ae,de){return Ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),V.clone().addScaledVector(Ae,de)}const $=P.length,te=Y.length;function B(V,Ae,de){let Re,_e,Je;const Ge=V.x-Ae.x,W=V.y-Ae.y,z=de.x-V.x,he=de.y-V.y,Ne=Ge*Ge+W*W,Le=Ge*he-W*z;if(Math.abs(Le)>Number.EPSILON){const Oe=Math.sqrt(Ne),nt=Math.sqrt(z*z+he*he),qe=Ae.x-W/Oe,rt=Ae.y+Ge/Oe,gt=de.x-he/nt,Mt=de.y+z/nt,ke=((gt-qe)*he-(Mt-rt)*z)/(Ge*he-W*z);Re=qe+Ge*ke-V.x,_e=rt+W*ke-V.y;const $t=Re*Re+_e*_e;if($t<=2)return new Ce(Re,_e);Je=Math.sqrt($t/2)}else{let Oe=!1;Ge>Number.EPSILON?z>Number.EPSILON&&(Oe=!0):Ge<-Number.EPSILON?z<-Number.EPSILON&&(Oe=!0):Math.sign(W)===Math.sign(he)&&(Oe=!0),Oe?(Re=-W,_e=Ge,Je=Math.sqrt(Ne)):(Re=Ge,_e=W,Je=Math.sqrt(Ne/2))}return new Ce(Re/Je,_e/Je)}const q=[];for(let V=0,Ae=F.length,de=Ae-1,Re=V+1;V<Ae;V++,de++,Re++)de===Ae&&(de=0),Re===Ae&&(Re=0),q[V]=B(F[V],F[de],F[Re]);const Z=[];let oe,re=q.concat();for(let V=0,Ae=R.length;V<Ae;V++){const de=R[V];oe=[];for(let Re=0,_e=de.length,Je=_e-1,Ge=Re+1;Re<_e;Re++,Je++,Ge++)Je===_e&&(Je=0),Ge===_e&&(Ge=0),oe[Re]=B(de[Re],de[Je],de[Ge]);Z.push(oe),re=re.concat(oe)}for(let V=0;V<v;V++){const Ae=V/v,de=m*Math.cos(Ae*Math.PI/2),Re=y*Math.sin(Ae*Math.PI/2)+x;for(let _e=0,Je=F.length;_e<Je;_e++){const Ge=G(F[_e],q[_e],Re);ze(Ge.x,Ge.y,-de)}for(let _e=0,Je=R.length;_e<Je;_e++){const Ge=R[_e];oe=Z[_e];for(let W=0,z=Ge.length;W<z;W++){const he=G(Ge[W],oe[W],Re);ze(he.x,he.y,-de)}}}const me=y+x;for(let V=0;V<$;V++){const Ae=d?G(P[V],re[V],me):P[V];w?(T.copy(M.normals[0]).multiplyScalar(Ae.x),E.copy(M.binormals[0]).multiplyScalar(Ae.y),O.copy(S[0]).add(T).add(E),ze(O.x,O.y,O.z)):ze(Ae.x,Ae.y,0)}for(let V=1;V<=c;V++)for(let Ae=0;Ae<$;Ae++){const de=d?G(P[Ae],re[Ae],me):P[Ae];w?(T.copy(M.normals[V]).multiplyScalar(de.x),E.copy(M.binormals[V]).multiplyScalar(de.y),O.copy(S[V]).add(T).add(E),ze(O.x,O.y,O.z)):ze(de.x,de.y,f/c*V)}for(let V=v-1;V>=0;V--){const Ae=V/v,de=m*Math.cos(Ae*Math.PI/2),Re=y*Math.sin(Ae*Math.PI/2)+x;for(let _e=0,Je=F.length;_e<Je;_e++){const Ge=G(F[_e],q[_e],Re);ze(Ge.x,Ge.y,f+de)}for(let _e=0,Je=R.length;_e<Je;_e++){const Ge=R[_e];oe=Z[_e];for(let W=0,z=Ge.length;W<z;W++){const he=G(Ge[W],oe[W],Re);w?ze(he.x,he.y+S[c-1].y,S[c-1].x+de):ze(he.x,he.y,f+de)}}}le(),pe();function le(){const V=i.length/3;if(d){let Ae=0,de=$*Ae;for(let Re=0;Re<te;Re++){const _e=Y[Re];Xe(_e[2]+de,_e[1]+de,_e[0]+de)}Ae=c+v*2,de=$*Ae;for(let Re=0;Re<te;Re++){const _e=Y[Re];Xe(_e[0]+de,_e[1]+de,_e[2]+de)}}else{for(let Ae=0;Ae<te;Ae++){const de=Y[Ae];Xe(de[2],de[1],de[0])}for(let Ae=0;Ae<te;Ae++){const de=Y[Ae];Xe(de[0]+$*c,de[1]+$*c,de[2]+$*c)}}r.addGroup(V,i.length/3-V,0)}function pe(){const V=i.length/3;let Ae=0;we(F,Ae),Ae+=F.length;for(let de=0,Re=R.length;de<Re;de++){const _e=R[de];we(_e,Ae),Ae+=_e.length}r.addGroup(V,i.length/3-V,1)}function we(V,Ae){let de=V.length;for(;--de>=0;){const Re=de;let _e=de-1;_e<0&&(_e=V.length-1);for(let Je=0,Ge=c+v*2;Je<Ge;Je++){const W=$*Je,z=$*(Je+1),he=Ae+Re+W,Ne=Ae+_e+W,Le=Ae+_e+z,Oe=Ae+Re+z;xe(he,Ne,Le,Oe)}}}function ze(V,Ae,de){l.push(V),l.push(Ae),l.push(de)}function Xe(V,Ae,de){Ve(V),Ve(Ae),Ve(de);const Re=i.length/3,_e=_.generateTopUV(r,i,Re-3,Re-2,Re-1);De(_e[0]),De(_e[1]),De(_e[2])}function xe(V,Ae,de,Re){Ve(V),Ve(Ae),Ve(Re),Ve(Ae),Ve(de),Ve(Re);const _e=i.length/3,Je=_.generateSideWallUV(r,i,_e-6,_e-3,_e-2,_e-1);De(Je[0]),De(Je[1]),De(Je[3]),De(Je[1]),De(Je[2]),De(Je[3])}function Ve(V){i.push(l[V*3+0]),i.push(l[V*3+1]),i.push(l[V*3+2])}function De(V){o.push(V.x),o.push(V.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return GOe(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new T_[i.type]().fromJSON(i)),new uS(r,e.options)}}const WOe={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new Ce(o,a),new Ce(s,l),new Ce(u,c)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],d=e[i*3],m=e[i*3+1],y=e[i*3+2],x=e[o*3],v=e[o*3+1],g=e[o*3+2];return Math.abs(s-c)<Math.abs(a-u)?[new Ce(a,1-l),new Ce(u,1-f),new Ce(d,1-y),new Ce(x,1-g)]:[new Ce(s,1-l),new Ce(c,1-f),new Ce(m,1-y),new Ce(v,1-g)]}};function GOe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class $g extends ql{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new $g(e.radius,e.detail)}}class Wg extends ql{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Wg(e.radius,e.detail)}}class cS extends Bt{constructor(e=.5,n=1,r=32,i=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],u=[],c=[];let f=e;const d=(n-e)/i,m=new K,y=new Ce;for(let x=0;x<=i;x++){for(let v=0;v<=r;v++){const g=o+v/r*a;m.x=f*Math.cos(g),m.y=f*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),y.x=(m.x/n+1)/2,y.y=(m.y/n+1)/2,c.push(y.x,y.y)}f+=d}for(let x=0;x<i;x++){const v=x*(r+1);for(let g=0;g<r;g++){const _=g+v,S=_,w=_+r+1,M=_+r+2,E=_+1;s.push(S,w,E),s.push(w,M,E)}}this.setIndex(s),this.setAttribute("position",new mt(l,3)),this.setAttribute("normal",new mt(u,3)),this.setAttribute("uv",new mt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class fS extends Bt{constructor(e=new ic([new Ce(0,.5),new Ce(-.5,-.5),new Ce(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new mt(i,3)),this.setAttribute("normal",new mt(o,3)),this.setAttribute("uv",new mt(a,2));function u(c){const f=i.length/3,d=c.extractPoints(n);let m=d.shape;const y=d.holes;ka.isClockWise(m)===!1&&(m=m.reverse());for(let v=0,g=y.length;v<g;v++){const _=y[v];ka.isClockWise(_)===!0&&(y[v]=_.reverse())}const x=ka.triangulateShape(m,y);for(let v=0,g=y.length;v<g;v++){const _=y[v];m=m.concat(_)}for(let v=0,g=m.length;v<g;v++){const _=m[v];i.push(_.x,_.y,0),o.push(0,0,1),a.push(_.x,_.y)}for(let v=0,g=x.length;v<g;v++){const _=x[v],S=_[0]+f,w=_[1]+f,M=_[2]+f;r.push(S,w,M),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return XOe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const a=n[e.shapes[i]];r.push(a)}return new fS(r,e.curveSegments)}}function XOe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Gg extends Bt{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let u=0;const c=[],f=new K,d=new K,m=[],y=[],x=[],v=[];for(let g=0;g<=r;g++){const _=[],S=g/r;let w=0;g===0&&a===0?w=.5/n:g===r&&l===Math.PI&&(w=-.5/n);for(let M=0;M<=n;M++){const E=M/n;f.x=-e*Math.cos(i+E*o)*Math.sin(a+S*s),f.y=e*Math.cos(a+S*s),f.z=e*Math.sin(i+E*o)*Math.sin(a+S*s),y.push(f.x,f.y,f.z),d.copy(f).normalize(),x.push(d.x,d.y,d.z),v.push(E+w,1-S),_.push(u++)}c.push(_)}for(let g=0;g<r;g++)for(let _=0;_<n;_++){const S=c[g][_+1],w=c[g][_],M=c[g+1][_],E=c[g+1][_+1];(g!==0||a>0)&&m.push(S,w,E),(g!==r-1||l<Math.PI)&&m.push(w,M,E)}this.setIndex(m),this.setAttribute("position",new mt(y,3)),this.setAttribute("normal",new mt(x,3)),this.setAttribute("uv",new mt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class hS extends ql{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new hS(e.radius,e.detail)}}class dS extends Bt{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const a=[],s=[],l=[],u=[],c=new K,f=new K,d=new K;for(let m=0;m<=r;m++)for(let y=0;y<=i;y++){const x=y/i*o,v=m/r*Math.PI*2;f.x=(e+n*Math.cos(v))*Math.cos(x),f.y=(e+n*Math.cos(v))*Math.sin(x),f.z=n*Math.sin(v),s.push(f.x,f.y,f.z),c.x=e*Math.cos(x),c.y=e*Math.sin(x),d.subVectors(f,c).normalize(),l.push(d.x,d.y,d.z),u.push(y/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let y=1;y<=i;y++){const x=(i+1)*m+y-1,v=(i+1)*(m-1)+y-1,g=(i+1)*(m-1)+y,_=(i+1)*m+y;a.push(x,v,_),a.push(v,g,_)}this.setIndex(a),this.setAttribute("position",new mt(s,3)),this.setAttribute("normal",new mt(l,3)),this.setAttribute("uv",new mt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class pS extends Bt{constructor(e=1,n=.4,r=64,i=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:a},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],u=[],c=[],f=new K,d=new K,m=new K,y=new K,x=new K,v=new K,g=new K;for(let S=0;S<=r;++S){const w=S/r*o*Math.PI*2;_(w,o,a,e,m),_(w+.01,o,a,e,y),v.subVectors(y,m),g.addVectors(y,m),x.crossVectors(v,g),g.crossVectors(x,v),x.normalize(),g.normalize();for(let M=0;M<=i;++M){const E=M/i*Math.PI*2,T=-n*Math.cos(E),O=n*Math.sin(E);f.x=m.x+(T*g.x+O*x.x),f.y=m.y+(T*g.y+O*x.y),f.z=m.z+(T*g.z+O*x.z),l.push(f.x,f.y,f.z),d.subVectors(f,m).normalize(),u.push(d.x,d.y,d.z),c.push(S/r),c.push(M/i)}}for(let S=1;S<=r;S++)for(let w=1;w<=i;w++){const M=(i+1)*(S-1)+(w-1),E=(i+1)*S+(w-1),T=(i+1)*S+w,O=(i+1)*(S-1)+w;s.push(M,E,O),s.push(E,T,O)}this.setIndex(s),this.setAttribute("position",new mt(l,3)),this.setAttribute("normal",new mt(u,3)),this.setAttribute("uv",new mt(c,2));function _(S,w,M,E,T){const O=Math.cos(S),N=Math.sin(S),P=M/w*S,R=Math.cos(P);T.x=E*(2+R)*.5*O,T.y=E*(2+R)*N*.5,T.z=E*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class mS extends Bt{constructor(e=new xO(new K(-1,-1,0),new K(-1,1,0),new K(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new K,l=new K,u=new Ce;let c=new K;const f=[],d=[],m=[],y=[];x(),this.setIndex(y),this.setAttribute("position",new mt(f,3)),this.setAttribute("normal",new mt(d,3)),this.setAttribute("uv",new mt(m,2));function x(){for(let S=0;S<n;S++)v(S);v(o===!1?n:0),_(),g()}function v(S){c=e.getPointAt(S/n,c);const w=a.normals[S],M=a.binormals[S];for(let E=0;E<=i;E++){const T=E/i*Math.PI*2,O=Math.sin(T),N=-Math.cos(T);l.x=N*w.x+O*M.x,l.y=N*w.y+O*M.y,l.z=N*w.z+O*M.z,l.normalize(),d.push(l.x,l.y,l.z),s.x=c.x+r*l.x,s.y=c.y+r*l.y,s.z=c.z+r*l.z,f.push(s.x,s.y,s.z)}}function g(){for(let S=1;S<=n;S++)for(let w=1;w<=i;w++){const M=(i+1)*(S-1)+(w-1),E=(i+1)*S+(w-1),T=(i+1)*S+w,O=(i+1)*(S-1)+w;y.push(M,E,O),y.push(E,T,O)}}function _(){for(let S=0;S<=n;S++)for(let w=0;w<=i;w++)u.x=S/n,u.y=w/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new mS(new T_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class K8 extends Bt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new K,o=new K;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],d=f.start,m=f.count;for(let y=d,x=d+m;y<x;y+=3)for(let v=0;v<3;v++){const g=s.getX(y+v),_=s.getX(y+(v+1)%3);i.fromBufferAttribute(a,g),o.fromBufferAttribute(a,_),QF(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let u=0;u<3;u++){const c=3*s+u,f=3*s+(u+1)%3;i.fromBufferAttribute(a,c),o.fromBufferAttribute(a,f),QF(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new mt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function QF(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var eB=Object.freeze({__proto__:null,BoxGeometry:Tc,CapsuleGeometry:iS,CircleGeometry:oS,ConeGeometry:aS,CylinderGeometry:hd,DodecahedronGeometry:sS,EdgesGeometry:G8,ExtrudeGeometry:uS,IcosahedronGeometry:$g,LatheGeometry:Hg,OctahedronGeometry:Wg,PlaneGeometry:Pc,PolyhedronGeometry:ql,RingGeometry:cS,ShapeGeometry:fS,SphereGeometry:Gg,TetrahedronGeometry:hS,TorusGeometry:dS,TorusKnotGeometry:pS,TubeGeometry:mS,WireframeGeometry:K8});class Z8 extends jr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ot(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class J8 extends Si{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class SO extends jr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ot(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Q8 extends SO{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ce(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return er(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ot(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ot(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ot(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class eW extends jr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ot(16777215),this.specular=new ot(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ug,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tW extends jr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ot(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class nW extends jr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class rW extends jr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ug,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class iW extends jr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ot(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class oW extends Mi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Wu(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function aW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sW(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function tP(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const s=n[o]*e;for(let l=0;l!==e;++l)i[a++]=t[s+l]}return i}function bO(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(e.push(o.time),n.push.apply(n,a)),o=t[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(e.push(o.time),n.push(a)),o=t[i++];while(o!==void 0)}function qOe(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const u=o.tracks[l],c=u.getValueSize(),f=[],d=[];for(let m=0;m<u.times.length;++m){const y=u.times[m]*i;if(!(y<n||y>=r)){f.push(u.times[m]);for(let x=0;x<c;++x)d.push(u.values[m*c+x])}}f.length!==0&&(u.times=Wu(f,u.times.constructor),u.values=Wu(d,u.values.constructor),a.push(u))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o}function YOe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let a=0;a<i;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(g){return g.name===s.name&&g.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let d=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);const y=s.times.length-1;let x;if(o<=s.times[0]){const g=c,_=f-c;x=s.values.slice(g,_)}else if(o>=s.times[y]){const g=y*f+c,_=g+f-c;x=s.values.slice(g,_)}else{const g=s.createInterpolant(),_=c,S=f-c;g.evaluate(o),x=g.resultBuffer.slice(_,S)}l==="quaternion"&&new oi().fromArray(x).normalize().conjugate().toArray(x);const v=u.times.length;for(let g=0;g<v;++g){const _=g*m+d;if(l==="quaternion")oi.multiplyQuaternionsFlat(u.values,_,x,0,u.values,_);else{const S=m-d*2;for(let w=0;w<S;++w)u.values[_+w]-=x[w]}}}return t.blendMode=Q2,t}const KOe={convertArray:Wu,isTypedArray:aW,getKeyframeOrder:sW,sortedArray:tP,flattenJSON:bO,subclip:qOe,makeClipAdditive:YOe};class Xg{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=o)){const s=n[1];e<s&&(r=2,o=s);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}a=r,r=0;break n}break e}for(;r<a;){const s=r+a>>>1;e<n[s]?a=s:r=s+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let a=0;a!==i;++a)n[a]=r[o+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class lW extends Xg{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ju,endingEnd:ju}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,a=e+1,s=i[o],l=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case Vu:o=e,s=2*n-r;break;case ig:o=i.length-2,s=n+i[o]-i[o+1];break;default:o=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Vu:a=e,l=2*r-n;break;case ig:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-s),this._weightNext=u/(l-r),this._offsetPrev=o*c,this._offsetNext=a*c}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,m=this._weightNext,y=(r-n)/(i-n),x=y*y,v=x*y,g=-d*v+2*d*x-d*y,_=(1+d)*v+(-1.5-2*d)*x+(-.5+d)*y+1,S=(-1-m)*v+(1.5+m)*x+.5*y,w=m*v-m*x;for(let M=0;M!==s;++M)o[M]=g*a[c+M]+_*a[u+M]+S*a[l+M]+w*a[f+M];return o}}class wO extends Xg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=(r-n)/(i-n),f=1-c;for(let d=0;d!==s;++d)o[d]=a[u+d]*f+a[l+d]*c;return o}}class uW extends Xg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ua{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Wu(n,this.TimeBufferType),this.values=Wu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Wu(e.times,Array),values:Wu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new uW(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new wO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new lW(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case ng:n=this.InterpolantFactoryMethodDiscrete;break;case rg:n=this.InterpolantFactoryMethodLinear;break;case z0:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ng;case this.InterpolantFactoryMethodLinear:return rg;case this.InterpolantFactoryMethodSmooth:return z0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,a=i-1;for(;o!==i&&r[o]<e;)++o;for(;a!==-1&&r[a]>n;)--a;if(++a,o!==0||a!==i){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=r.slice(o,a),this.values=this.values.slice(o*s,a*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(i!==void 0&&aW(i))for(let s=0,l=i.length;s!==l;++s){const u=i[s];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===z0,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const u=e[s],c=e[s+1];if(u!==c&&(s!==1||u!==e[0]))if(i)l=!0;else{const f=s*r,d=f-r,m=f+r;for(let y=0;y!==r;++y){const x=n[f+y];if(x!==n[d+y]||x!==n[m+y]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const f=s*r,d=a*r;for(let m=0;m!==r;++m)n[d+m]=n[f+m]}++a}}if(o>0){e[a]=e[o];for(let s=o*r,l=a*r,u=0;u!==r;++u)n[l+u]=n[s+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ua.prototype.TimeBufferType=Float32Array;ua.prototype.ValueBufferType=Float32Array;ua.prototype.DefaultInterpolation=rg;class Cc extends ua{}Cc.prototype.ValueTypeName="bool";Cc.prototype.ValueBufferType=Array;Cc.prototype.DefaultInterpolation=ng;Cc.prototype.InterpolantFactoryMethodLinear=void 0;Cc.prototype.InterpolantFactoryMethodSmooth=void 0;class MO extends ua{}MO.prototype.ValueTypeName="color";class gg extends ua{}gg.prototype.ValueTypeName="number";class cW extends Xg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let u=e*s;for(let c=u+s;u!==c;u+=4)oi.slerpFlat(o,0,a,u-s,a,u,l);return o}}class dd extends ua{InterpolantFactoryMethodLinear(e){return new cW(this.times,this.values,this.getValueSize(),e)}}dd.prototype.ValueTypeName="quaternion";dd.prototype.DefaultInterpolation=rg;dd.prototype.InterpolantFactoryMethodSmooth=void 0;class Oc extends ua{}Oc.prototype.ValueTypeName="string";Oc.prototype.ValueBufferType=Array;Oc.prototype.DefaultInterpolation=ng;Oc.prototype.InterpolantFactoryMethodLinear=void 0;Oc.prototype.InterpolantFactoryMethodSmooth=void 0;class vg extends ua{}vg.prototype.ValueTypeName="vector";class yg{constructor(e,n=-1,r,i=X1){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=to(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,s=r.length;a!==s;++a)n.push(JOe(r[a]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=r.length;o!==a;++o)n.push(ua.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,a=[];for(let s=0;s<o;s++){let l=[],u=[];l.push((s+o-1)%o,s,(s+1)%o),u.push(0,1,0);const c=sW(l);l=tP(l,1,c),u=tP(u,1,c),!i&&l[0]===0&&(l.push(o),u.push(u[0])),a.push(new gg(".morphTargetInfluences["+n[s].name+"]",l,u).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const u=e[s],c=u.name.match(o);if(c&&c.length>1){const f=c[1];let d=i[f];d||(i[f]=d=[]),d.push(u)}}const a=[];for(const s in i)a.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,m,y,x){if(m.length!==0){const v=[],g=[];bO(m,v,g,y),v.length!==0&&x.push(new f(d,v,g))}},i=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const d=u[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const m={};let y;for(y=0;y<d.length;y++)if(d[y].morphTargets)for(let x=0;x<d[y].morphTargets.length;x++)m[d[y].morphTargets[x]]=-1;for(const x in m){const v=[],g=[];for(let _=0;_!==d[y].morphTargets.length;++_){const S=d[y];v.push(S.time),g.push(S.morphTarget===x?1:0)}i.push(new gg(".morphTargetInfluence["+x+"]",v,g))}l=m.length*a}else{const m=".bones["+n[f].name+"]";r(vg,m+".position",d,"pos",i),r(dd,m+".quaternion",d,"rot",i),r(vg,m+".scale",d,"scl",i)}}return i.length===0?null:new this(o,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function ZOe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return gg;case"vector":case"vector2":case"vector3":case"vector4":return vg;case"color":return MO;case"quaternion":return dd;case"bool":case"boolean":return Cc;case"string":return Oc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function JOe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=ZOe(t.type);if(t.times===void 0){const n=[],r=[];bO(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const fs={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class EO{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){s++,o===!1&&i.onStart!==void 0&&i.onStart(c,a,s),o=!0},this.itemEnd=function(c){a++,i.onProgress!==void 0&&i.onProgress(c,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,d=u.length;f<d;f+=2){const m=u[f],y=u[f+1];if(m.global&&(m.lastIndex=0),m.test(c))return y}return null}}}const fW=new EO;class Bi{constructor(e){this.manager=e!==void 0?e:fW,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Bi.DEFAULT_MATERIAL_NAME="__DEFAULT";const ts={};class QOe extends Error{constructor(e,n){super(e),this.response=n}}class Ps extends Bi{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=fs.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(ts[e]!==void 0){ts[e].push({onLoad:n,onProgress:r,onError:i});return}ts[e]=[],ts[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=ts[e],f=u.body.getReader(),d=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=d?parseInt(d):0,y=m!==0;let x=0;const v=new ReadableStream({start(g){_();function _(){f.read().then(({done:S,value:w})=>{if(S)g.close();else{x+=w.byteLength;const M=new ProgressEvent("progress",{lengthComputable:y,loaded:x,total:m});for(let E=0,T=c.length;E<T;E++){const O=c[E];O.onProgress&&O.onProgress(M)}g.enqueue(w),_()}})}}});return new Response(v)}else throw new QOe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,s));case"json":return u.json();default:if(s===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),d=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(d);return u.arrayBuffer().then(y=>m.decode(y))}}}).then(u=>{fs.add(e,u);const c=ts[e];delete ts[e];for(let f=0,d=c.length;f<d;f++){const m=c[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=ts[e];if(c===void 0)throw this.manager.itemError(e),u;delete ts[e];for(let f=0,d=c.length;f<d;f++){const m=c[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class eRe extends Bi{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Ps(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=yg.parse(e[r]);n.push(i)}return n}}class tRe extends Bi{constructor(e){super(e)}load(e,n,r,i){const o=this,a=[],s=new nS,l=new Ps(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let u=0;function c(f){l.load(e[f],function(d){const m=o.parse(d,!0);a[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(s.minFilter=xn),s.image=a,s.format=m.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)c(f);else l.load(e,function(f){const d=o.parse(f,!0);if(d.isCubemap){const m=d.mipmaps.length/d.mipmapCount;for(let y=0;y<m;y++){a[y]={mipmaps:[]};for(let x=0;x<d.mipmapCount;x++)a[y].mipmaps.push(d.mipmaps[y*d.mipmapCount+x]),a[y].format=d.format,a[y].width=d.width,a[y].height=d.height}s.image=a}else s.image.width=d.width,s.image.height=d.height,s.mipmaps=d.mipmaps;d.mipmapCount===1&&(s.minFilter=xn),s.format=d.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}class xg extends Bi{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=fs.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s=cg("img");function l(){c(),fs.add(e,this),n&&n(this),o.manager.itemEnd(e)}function u(f){c(),i&&i(f),o.manager.itemError(e),o.manager.itemEnd(e)}function c(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class hW extends Bi{constructor(e){super(e)}load(e,n,r,i){const o=new jg;o.colorSpace=xr;const a=new xg(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(u){a.load(e[u],function(c){o.images[u]=c,s++,s===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return o}}class AO extends Bi{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new rc,s=new Ps(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){let u;try{u=o.parse(l)}catch(c){if(i!==void 0)i(c);else{console.error(c);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:ni,a.wrapT=u.wrapT!==void 0?u.wrapT:ni,a.magFilter=u.magFilter!==void 0?u.magFilter:xn,a.minFilter=u.minFilter!==void 0?u.minFilter:xn,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?a.colorSpace=u.colorSpace:u.encoding!==void 0&&(a.encoding=u.encoding),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=Aa),u.mipmapCount===1&&(a.minFilter=xn),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,n&&n(a,u)},r,i),a}}class nRe extends Bi{constructor(e){super(e)}load(e,n,r,i){const o=new Gn,a=new xg(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class Yl extends sn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new ot(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class dW extends Yl{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(sn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ot(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const vM=new Ct,tB=new K,nB=new K;class TO{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ce(512,512),this.map=null,this.mapPass=null,this.matrix=new Ct,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Vg,this._frameExtents=new Ce(1,1),this._viewportCount=1,this._viewports=[new hn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;tB.setFromMatrixPosition(e.matrixWorld),n.position.copy(tB),nB.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(nB),n.updateMatrixWorld(),vM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vM),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(vM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class rRe extends TO{constructor(){super(new sr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Fh*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class pW extends Yl{constructor(e,n,r=0,i=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(sn.DEFAULT_UP),this.updateMatrix(),this.target=new sn,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new rRe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const rB=new Ct,up=new K,yM=new K;class iRe extends TO{constructor(){super(new sr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ce(4,2),this._viewportCount=6,this._viewports=[new hn(2,1,1,1),new hn(0,1,1,1),new hn(3,1,1,1),new hn(1,1,1,1),new hn(3,0,1,1),new hn(1,0,1,1)],this._cubeDirections=[new K(1,0,0),new K(-1,0,0),new K(0,0,1),new K(0,0,-1),new K(0,1,0),new K(0,-1,0)],this._cubeUps=[new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,0,1),new K(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),up.setFromMatrixPosition(e.matrixWorld),r.position.copy(up),yM.copy(r.position),yM.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(yM),r.updateMatrixWorld(),i.makeTranslation(-up.x,-up.y,-up.z),rB.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(rB)}}class mW extends Yl{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new iRe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class oRe extends TO{constructor(){super(new Cl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class gW extends Yl{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(sn.DEFAULT_UP),this.updateMatrix(),this.target=new sn,this.shadow=new oRe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class vW extends Yl{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class yW extends Yl{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class xW{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new K)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class _W extends Yl{constructor(e=new xW,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class gS extends Bi{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,a=new Ps(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=gS.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ot().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(i.uniforms[o]={},a.type){case"t":i.uniforms[o].value=r(a.value);break;case"c":i.uniforms[o].value=new ot().setHex(a.value);break;case"v2":i.uniforms[o].value=new Ce().fromArray(a.value);break;case"v3":i.uniforms[o].value=new K().fromArray(a.value);break;case"v4":i.uniforms[o].value=new hn().fromArray(a.value);break;case"m3":i.uniforms[o].value=new jt().fromArray(a.value);break;case"m4":i.uniforms[o].value=new Ct().fromArray(a.value);break;default:i.uniforms[o].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new Ce().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ce().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:Z8,SpriteMaterial:hO,RawShaderMaterial:J8,ShaderMaterial:Si,PointsMaterial:pO,MeshPhysicalMaterial:Q8,MeshStandardMaterial:SO,MeshPhongMaterial:eW,MeshToonMaterial:tW,MeshNormalMaterial:nW,MeshLambertMaterial:rW,MeshDepthMaterial:Z1,MeshDistanceMaterial:cO,MeshBasicMaterial:Xl,MeshMatcapMaterial:iW,LineDashedMaterial:oW,LineBasicMaterial:Mi,Material:jr};return new n[e]}}class nP{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class SW extends Bt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class bW extends Bi{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Ps(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,y){if(n[y]!==void 0)return n[y];const v=m.interleavedBuffers[y],g=o(m,v.buffer),_=jf(v.type,g),S=new eS(_,v.stride);return S.uuid=v.uuid,n[y]=S,S}function o(m,y){if(r[y]!==void 0)return r[y];const v=m.arrayBuffers[y],g=new Uint32Array(v).buffer;return r[y]=g,g}const a=e.isInstancedBufferGeometry?new SW:new Bt,s=e.data.index;if(s!==void 0){const m=jf(s.type,s.array);a.setIndex(new pn(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let x;if(y.isInterleavedBufferAttribute){const v=i(e.data,y.data);x=new gc(v,y.itemSize,y.offset,y.normalized)}else{const v=jf(y.type,y.array),g=y.isInstancedBufferAttribute?zh:pn;x=new g(v,y.itemSize,y.normalized)}y.name!==void 0&&(x.name=y.name),y.usage!==void 0&&x.setUsage(y.usage),a.setAttribute(m,x)}const u=e.data.morphAttributes;if(u)for(const m in u){const y=u[m],x=[];for(let v=0,g=y.length;v<g;v++){const _=y[v];let S;if(_.isInterleavedBufferAttribute){const w=i(e.data,_.data);S=new gc(w,_.itemSize,_.offset,_.normalized)}else{const w=jf(_.type,_.array);S=new pn(w,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),x.push(S)}a.morphAttributes[m]=x}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,y=f.length;m!==y;++m){const x=f[m];a.addGroup(x.start,x.count,x.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const m=new K;d.center!==void 0&&m.fromArray(d.center),a.boundingSphere=new ai(m,d.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class aRe extends Bi{constructor(e){super(e)}load(e,n,r,i){const o=this,a=this.path===""?nP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new Ps(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?nP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new Ps(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,n),s=JSON.parse(a),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(u)}),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,o,l,s,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let f=!1;for(const d in a)if(a[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new ic().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new tS().fromJSON(e[o],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new bW;for(let o=0,a=e.length;o<a;o++){let s;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in eB?s=eB[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new gS;o.setTextures(n);for(let a=0,s=e.length;a<s;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=yg.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function a(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return a(c)}else return l.data?{data:jf(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new EO(n);o=new xg(l),o.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],d=f.url;if(Array.isArray(d)){const m=[];for(let y=0,x=d.length;y<x;y++){const v=d[y],g=s(v);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new rc(g.data,g.width,g.height)))}i[f.uuid]=new Hu(m)}else{const m=s(f.url);i[f.uuid]=new Hu(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(a){if(typeof a=="string"){const s=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return a.data?{data:jf(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new xg(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const l=e[a],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,d=u.length;f<d;f++){const m=u[f],y=await o(m);y!==null&&(y instanceof HTMLImageElement?c.push(y):c.push(new rc(y.data,y.width,y.height)))}r[l.uuid]=new Hu(c)}else{const c=await o(l.url);r[l.uuid]=new Hu(c)}}}return r}parseTextures(e,n){function r(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const i={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=n[s.image],u=l.data;let c;Array.isArray(u)?(c=new jg,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new rc:c=new Gn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=s.uuid,s.name!==void 0&&(c.name=s.name),s.mapping!==void 0&&(c.mapping=r(s.mapping,sRe)),s.channel!==void 0&&(c.channel=s.channel),s.offset!==void 0&&c.offset.fromArray(s.offset),s.repeat!==void 0&&c.repeat.fromArray(s.repeat),s.center!==void 0&&c.center.fromArray(s.center),s.rotation!==void 0&&(c.rotation=s.rotation),s.wrap!==void 0&&(c.wrapS=r(s.wrap[0],iB),c.wrapT=r(s.wrap[1],iB)),s.format!==void 0&&(c.format=s.format),s.internalFormat!==void 0&&(c.internalFormat=s.internalFormat),s.type!==void 0&&(c.type=s.type),s.colorSpace!==void 0&&(c.colorSpace=s.colorSpace),s.encoding!==void 0&&(c.encoding=s.encoding),s.minFilter!==void 0&&(c.minFilter=r(s.minFilter,oB)),s.magFilter!==void 0&&(c.magFilter=r(s.magFilter,oB)),s.anisotropy!==void 0&&(c.anisotropy=s.anisotropy),s.flipY!==void 0&&(c.flipY=s.flipY),s.generateMipmaps!==void 0&&(c.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(c.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(c.compareFunction=s.compareFunction),s.userData!==void 0&&(c.userData=s.userData),i[s.uuid]=c}return i}parseObject(e,n,r,i,o){let a;function s(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const m=[];for(let y=0,x=d.length;y<x;y++){const v=d[y];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),m.push(r[v])}return m}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function u(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let c,f;switch(e.type){case"Scene":a=new fg,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new ot(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new Q1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new J1(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new sr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Cl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new vW(e.color,e.intensity);break;case"DirectionalLight":a=new gW(e.color,e.intensity);break;case"PointLight":a=new mW(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new yW(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new pW(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new dW(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new _W().fromJSON(e);break;case"SkinnedMesh":c=s(e.geometry),f=l(e.material),a=new D8(c,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":c=s(e.geometry),f=l(e.material),a=new tr(c,f);break;case"InstancedMesh":c=s(e.geometry),f=l(e.material);const d=e.count,m=e.instanceMatrix,y=e.instanceColor;a=new k8(c,f,d),a.instanceMatrix=new zh(new Float32Array(m.array),16),y!==void 0&&(a.instanceColor=new zh(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":c=s(e.geometry),f=l(e.material),a=new U8(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=c,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(x=>{const v=new _i;v.min.fromArray(x.boxMin),v.max.fromArray(x.boxMax);const g=new ai;return g.radius=x.sphereRadius,g.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:v,sphereInitialized:x.sphereInitialized,sphere:g}}),a._maxGeometryCount=e.maxGeometryCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=u(e.matricesTexture.uuid);break;case"LOD":a=new N8;break;case"Line":a=new Dl(s(e.geometry),l(e.material));break;case"LineLoop":a=new F8(s(e.geometry),l(e.material));break;case"LineSegments":a=new Va(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new B8(s(e.geometry),l(e.material));break;case"Sprite":a=new L8(l(e.material));break;case"Group":a=new $f;break;case"Bone":a=new dO;break;default:a=new sn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let m=0;m<d.length;m++)a.add(this.parseObject(d[m],n,r,i,o))}if(e.animations!==void 0){const d=e.animations;for(let m=0;m<d.length;m++){const y=d[m];a.animations.push(o[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const d=e.levels;for(let m=0;m<d.length;m++){const y=d[m],x=a.getObjectByProperty("uuid",y.object);x!==void 0&&a.addLevel(x,y.distance,y.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const sRe={UVMapping:W1,CubeReflectionMapping:Ba,CubeRefractionMapping:Nl,EquirectangularReflectionMapping:Uh,EquirectangularRefractionMapping:Qm,CubeUVReflectionMapping:cd},iB={RepeatWrapping:eg,ClampToEdgeWrapping:ni,MirroredRepeatWrapping:tg},oB={NearestFilter:or,NearestMipmapNearestFilter:M_,NearestMipmapLinearFilter:Ou,LinearFilter:xn,LinearMipmapNearestFilter:jp,LinearMipmapLinearFilter:Aa};class lRe extends Bi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=fs.get(e);if(a!==void 0){if(o.manager.itemStart(e),a.then){a.then(u=>{n&&n(u),o.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const l=fetch(e,s).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(u){return fs.add(e,u),n&&n(u),o.manager.itemEnd(e),u}).catch(function(u){i&&i(u),fs.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});fs.add(e,l),o.manager.itemStart(e)}}let l0;class PO{static getContext(){return l0===void 0&&(l0=new(window.AudioContext||window.webkitAudioContext)),l0}static setContext(e){l0=e}}class uRe extends Bi{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Ps(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const u=l.slice(0);PO.getContext().decodeAudioData(u,function(f){n(f)}).catch(s)}catch(u){s(u)}},r,i);function s(l){i?i(l):console.error(l),o.manager.itemError(e)}}}const aB=new Ct,sB=new Ct,pu=new Ct;class cRe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new sr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new sr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,pu.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,a=n.near*Math.tan(ec*n.fov*.5)/n.zoom;let s,l;sB.elements[12]=-i,aB.elements[12]=i,s=-a*n.aspect+o,l=a*n.aspect+o,pu.elements[0]=2*n.near/(l-s),pu.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(pu),s=-a*n.aspect-o,l=a*n.aspect-o,pu.elements[0]=2*n.near/(l-s),pu.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(pu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(sB),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(aB)}}class CO{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=lB(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=lB();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function lB(){return(typeof performance>"u"?Date:performance).now()}const mu=new K,uB=new oi,fRe=new K,gu=new K;class hRe extends sn{constructor(){super(),this.type="AudioListener",this.context=PO.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new CO}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(mu,uB,fRe),gu.set(0,0,-1).applyQuaternion(uB),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(mu.x,i),n.positionY.linearRampToValueAtTime(mu.y,i),n.positionZ.linearRampToValueAtTime(mu.z,i),n.forwardX.linearRampToValueAtTime(gu.x,i),n.forwardY.linearRampToValueAtTime(gu.y,i),n.forwardZ.linearRampToValueAtTime(gu.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(mu.x,mu.y,mu.z),n.setOrientation(gu.x,gu.y,gu.z,r.x,r.y,r.z)}}class wW extends sn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const vu=new K,cB=new oi,dRe=new K,yu=new K;class pRe extends wW{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(vu,cB,dRe),yu.set(0,0,1).applyQuaternion(cB);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(vu.x,r),n.positionY.linearRampToValueAtTime(vu.y,r),n.positionZ.linearRampToValueAtTime(vu.z,r),n.orientationX.linearRampToValueAtTime(yu.x,r),n.orientationY.linearRampToValueAtTime(yu.y,r),n.orientationZ.linearRampToValueAtTime(yu.z,r)}else n.setPosition(vu.x,vu.y,vu.z),n.setOrientation(yu.x,yu.y,yu.z)}}class mRe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class MW{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,a;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)r[o+s]=r[s];a=n}else{a+=n;const s=n/a;this._mixBufferRegion(r,o,0,s,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,a=i;o!==a;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let a=0;a!==o;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){oi.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const a=this._workIndex*o;oi.multiplyQuaternionsFlat(e,a,e,n,e,r),oi.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,o){const a=1-i;for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]*a+e[r+s]*i}}_lerpAdditive(e,n,r,i,o){for(let a=0;a!==o;++a){const s=n+a;e[s]=e[s]+e[r+a]*i}}}const OO="\\[\\]\\.:\\/",gRe=new RegExp("["+OO+"]","g"),RO="[^"+OO+"]",vRe="[^"+OO.replace("\\.","")+"]",yRe=/((?:WC+[\/:])*)/.source.replace("WC",RO),xRe=/(WCOD+)?/.source.replace("WCOD",vRe),_Re=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",RO),SRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",RO),bRe=new RegExp("^"+yRe+xRe+_Re+SRe+"$"),wRe=["material","materials","bones","map"];class MRe{constructor(e,n,r){const i=r||tn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class tn{constructor(e,n,r){this.path=n,this.parsedPath=r||tn.parseTrackName(n),this.node=tn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new tn.Composite(e,n,r):new tn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(gRe,"")}static parseTrackName(e){const n=bRe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);wRe.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=tn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[i];if(a===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}tn.Composite=MRe;tn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};tn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};tn.prototype.GetterByBindingType=[tn.prototype._getValue_direct,tn.prototype._getValue_array,tn.prototype._getValue_arrayElement,tn.prototype._getValue_toArray];tn.prototype.SetterByBindingTypeAndVersioning=[[tn.prototype._setValue_direct,tn.prototype._setValue_direct_setNeedsUpdate,tn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[tn.prototype._setValue_array,tn.prototype._setValue_array_setNeedsUpdate,tn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[tn.prototype._setValue_arrayElement,tn.prototype._setValue_arrayElement_setNeedsUpdate,tn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[tn.prototype._setValue_fromArray,tn.prototype._setValue_fromArray_setNeedsUpdate,tn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class ERe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=to(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length;let s,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const d=arguments[c],m=d.uuid;let y=n[m];if(y===void 0){y=l++,n[m]=y,e.push(d);for(let x=0,v=a;x!==v;++x)o[x].push(new tn(d,r[x],i[x]))}else if(y<u){s=e[y];const x=--u,v=e[x];n[v.uuid]=y,e[y]=v,n[m]=x,e[x]=d;for(let g=0,_=a;g!==_;++g){const S=o[g],w=S[x];let M=S[y];S[y]=w,M===void 0&&(M=new tn(d,r[g],i[g])),S[x]=M}}else e[y]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],u=l.uuid,c=n[u];if(c!==void 0&&c>=o){const f=o++,d=e[f];n[d.uuid]=c,e[c]=d,n[u]=f,e[f]=l;for(let m=0,y=i;m!==y;++m){const x=r[m],v=x[f],g=x[c];x[c]=v,x[f]=g}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,a=e.length;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<o){const d=--o,m=e[d],y=--a,x=e[y];n[m.uuid]=f,e[f]=m,n[x.uuid]=d,e[d]=x,e.pop();for(let v=0,g=i;v!==g;++v){const _=r[v],S=_[d],w=_[y];_[f]=S,_[d]=w,_.pop()}}else{const d=--a,m=e[d];d>0&&(n[m.uuid]=f),e[f]=m,e.pop();for(let y=0,x=i;y!==x;++y){const v=r[y];v[f]=v[d],v.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const a=this._paths,s=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=o.length,r[e]=i,a.push(e),s.push(n),o.push(f);for(let d=c,m=l.length;d!==m;++d){const y=l[d];f[d]=new tn(y,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length-1,l=a[s],u=e[s];n[u]=r,a[r]=l,a.pop(),o[r]=o[s],o.pop(),i[r]=i[s],i.pop()}}}class EW{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,a=o.length,s=new Array(a),l={endingStart:ju,endingEnd:ju};for(let u=0;u!==a;++u){const c=o[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=r8,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,a=o/i,s=i/o;e.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=o,l[1]=o+r,u[0]=e/a,u[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case Q2:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(a),u[c].accumulateAdditive(s);break;case X1:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(a),u[c].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const a=r===i8;if(e===0)return o===-1?i:a&&(o&1)===1?n-i:i;if(r===n8){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Vu,i.endingEnd=Vu):(e?i.endingStart=this.zeroSlopeAtStart?Vu:ju:i.endingStart=ig,n?i.endingEnd=this.zeroSlopeAtEnd?Vu:ju:i.endingEnd=ig)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=n,s[1]=o+e,l[1]=r,this}}const ARe=new Float32Array(1);class TRe extends Ds{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,a=e._propertyBindings,s=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==o;++f){const d=i[f],m=d.name;let y=c[m];if(y!==void 0)++y.referenceCount,a[f]=y;else{if(y=a[f],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const x=n&&n._propertyBindings[f].binding.parsedPath;y=new MW(tn.create(r,m,x),d.ValueTypeName,d.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),a[f]=y}s[f].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let a=o[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,a=this._bindingsByRootAndName,s=a[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete s[o],Object.keys(s).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new wO(new Float32Array(2),new Float32Array(2),1,ARe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let a=typeof e=="string"?yg.findByName(i,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let u=null;if(r===void 0&&(a!==null?r=a.blendMode:r=X1),l!==void 0){const f=l.actionByRoot[o];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const c=new EW(this,a,n,r);return this._bindAction(c,u),this._addInactiveAction(c,s,o),c}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?yg.findByName(r,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const u=a[s];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const s=r[a].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class IO{constructor(e){this.value=e}clone(){return new IO(this.value.clone===void 0?this.value:this.value.clone())}}let PRe=0;class CRe extends Ds{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:PRe++}),this.name="",this.usage=lg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const o=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<o.length;a++)this.uniforms.push(o[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class ORe extends eS{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class RRe{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class LO{constructor(e,n,r=0,i=1/0){this.ray=new Ac(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new nc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return rP(e,this,r,n),r.sort(fB),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)rP(e[i],this,r,n);return r.sort(fB),r}}function fB(t,e){return t.distance-e.distance}function rP(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,a=i.length;o<a;o++)rP(i[o],e,n,!0)}}class P_{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(er(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class IRe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const hB=new Ce;class LRe{constructor(e=new Ce(1/0,1/0),n=new Ce(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=hB.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,hB).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const dB=new K,u0=new K;class NRe{constructor(e=new K,n=new K){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){dB.subVectors(e,this.start),u0.subVectors(this.end,this.start);const r=u0.dot(u0);let o=u0.dot(dB)/r;return n&&(o=er(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const pB=new K;class DRe extends sn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Bt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const u=a/l*Math.PI*2,c=s/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new mt(i,3));const o=new Mi({fog:!1,toneMapped:!1});this.cone=new Va(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),pB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(pB),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Qs=new K,c0=new Ct,xM=new Ct;class kRe extends Va{constructor(e){const n=AW(e),r=new Bt,i=[],o=[],a=new ot(0,0,1),s=new ot(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new mt(i,3)),r.setAttribute("color",new mt(o,3));const l=new Mi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");xM.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&(c0.multiplyMatrices(xM,s.matrixWorld),Qs.setFromMatrixPosition(c0),i.setXYZ(a,Qs.x,Qs.y,Qs.z),c0.multiplyMatrices(xM,s.parent.matrixWorld),Qs.setFromMatrixPosition(c0),i.setXYZ(a+1,Qs.x,Qs.y,Qs.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function AW(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,AW(t.children[n]));return e}class URe extends tr{constructor(e,n,r){const i=new Gg(n,4,2),o=new Xl({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const FRe=new K,mB=new ot,gB=new ot;class BRe extends sn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Wg(n);i.rotateY(Math.PI*.5),this.material=new Xl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),a=new Float32Array(o.count*3);i.setAttribute("color",new pn(a,3)),this.add(new tr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");mB.copy(this.light.color),gB.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?mB:gB;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(FRe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class zRe extends Va{constructor(e=10,n=10,r=4473924,i=8947848){r=new ot(r),i=new ot(i);const o=n/2,a=e/n,s=e/2,l=[],u=[];for(let d=0,m=0,y=-s;d<=n;d++,y+=a){l.push(-s,0,y,s,0,y),l.push(y,0,-s,y,0,s);const x=d===o?r:i;x.toArray(u,m),m+=3,x.toArray(u,m),m+=3,x.toArray(u,m),m+=3,x.toArray(u,m),m+=3}const c=new Bt;c.setAttribute("position",new mt(l,3)),c.setAttribute("color",new mt(u,3));const f=new Mi({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class jRe extends Va{constructor(e=10,n=16,r=8,i=64,o=4473924,a=8947848){o=new ot(o),a=new ot(a);const s=[],l=[];if(n>1)for(let f=0;f<n;f++){const d=f/n*(Math.PI*2),m=Math.sin(d)*e,y=Math.cos(d)*e;s.push(0,0,0),s.push(m,0,y);const x=f&1?o:a;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let f=0;f<r;f++){const d=f&1?o:a,m=e-e/r*f;for(let y=0;y<i;y++){let x=y/i*(Math.PI*2),v=Math.sin(x)*m,g=Math.cos(x)*m;s.push(v,0,g),l.push(d.r,d.g,d.b),x=(y+1)/i*(Math.PI*2),v=Math.sin(x)*m,g=Math.cos(x)*m,s.push(v,0,g),l.push(d.r,d.g,d.b)}}const u=new Bt;u.setAttribute("position",new mt(s,3)),u.setAttribute("color",new mt(l,3));const c=new Mi({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const vB=new K,f0=new K,yB=new K;class VRe extends sn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Bt;i.setAttribute("position",new mt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Mi({fog:!1,toneMapped:!1});this.lightPlane=new Dl(i,o),this.add(this.lightPlane),i=new Bt,i.setAttribute("position",new mt([0,0,0,0,0,1],3)),this.targetLine=new Dl(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),vB.setFromMatrixPosition(this.light.matrixWorld),f0.setFromMatrixPosition(this.light.target.matrixWorld),yB.subVectors(f0,vB),this.lightPlane.lookAt(f0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(f0),this.targetLine.scale.z=yB.length()}}const h0=new K,Kn=new zg;class HRe extends Va{constructor(e){const n=new Bt,r=new Mi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(y,x){l(y),l(x)}function l(y){i.push(0,0,0),o.push(0,0,0),a[y]===void 0&&(a[y]=[]),a[y].push(i.length/3-1)}n.setAttribute("position",new mt(i,3)),n.setAttribute("color",new mt(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new ot(16755200),c=new ot(16711680),f=new ot(43775),d=new ot(16777215),m=new ot(3355443);this.setColors(u,c,f,d,m)}setColors(e,n,r,i,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Kn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),rr("c",n,e,Kn,0,0,-1),rr("t",n,e,Kn,0,0,1),rr("n1",n,e,Kn,-r,-i,-1),rr("n2",n,e,Kn,r,-i,-1),rr("n3",n,e,Kn,-r,i,-1),rr("n4",n,e,Kn,r,i,-1),rr("f1",n,e,Kn,-r,-i,1),rr("f2",n,e,Kn,r,-i,1),rr("f3",n,e,Kn,-r,i,1),rr("f4",n,e,Kn,r,i,1),rr("u1",n,e,Kn,r*.7,i*1.1,-1),rr("u2",n,e,Kn,-r*.7,i*1.1,-1),rr("u3",n,e,Kn,0,i*2,-1),rr("cf1",n,e,Kn,-r,0,1),rr("cf2",n,e,Kn,r,0,1),rr("cf3",n,e,Kn,0,-i,1),rr("cf4",n,e,Kn,0,i,1),rr("cn1",n,e,Kn,-r,0,-1),rr("cn2",n,e,Kn,r,0,-1),rr("cn3",n,e,Kn,0,-i,-1),rr("cn4",n,e,Kn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function rr(t,e,n,r,i,o,a){h0.set(i,o,a).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let u=0,c=s.length;u<c;u++)l.setXYZ(s[u],h0.x,h0.y,h0.z)}}const d0=new _i;class $Re extends Va{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Bt;o.setIndex(new pn(r,1)),o.setAttribute("position",new pn(i,3)),super(o,new Mi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&d0.setFromObject(this.object),d0.isEmpty())return;const n=d0.min,r=d0.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class WRe extends Va{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Bt;o.setIndex(new pn(r,1)),o.setAttribute("position",new mt(i,3)),super(o,new Mi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class GRe extends Dl{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Bt;a.setAttribute("position",new mt(o,3)),a.computeBoundingSphere(),super(a,new Mi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Bt;l.setAttribute("position",new mt(s,3)),l.computeBoundingSphere(),this.add(new tr(l,new Xl({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const xB=new K;let p0,_M;class XRe extends sn{constructor(e=new K(0,0,1),n=new K(0,0,0),r=1,i=16776960,o=r*.2,a=o*.2){super(),this.type="ArrowHelper",p0===void 0&&(p0=new Bt,p0.setAttribute("position",new mt([0,0,0,0,1,0],3)),_M=new hd(0,.5,1,5,1),_M.translate(0,-.5,0)),this.position.copy(n),this.line=new Dl(p0,new Mi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new tr(_M,new Xl({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{xB.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(xB,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class qRe extends Va{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Bt;i.setAttribute("position",new mt(n,3)),i.setAttribute("color",new mt(r,3));const o=new Mi({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new ot,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class YRe{constructor(){this.type="ShapePath",this.color=new ot,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new hg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const _=[];for(let S=0,w=g.length;S<w;S++){const M=g[S],E=new ic;E.curves=M.curves,_.push(E)}return _}function r(g,_){const S=_.length;let w=!1;for(let M=S-1,E=0;E<S;M=E++){let T=_[M],O=_[E],N=O.x-T.x,P=O.y-T.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(T=_[E],N=-N,O=_[M],P=-P),g.y<T.y||g.y>O.y)continue;if(g.y===T.y){if(g.x===T.x)return!0}else{const R=P*(g.x-T.x)-N*(g.y-T.y);if(R===0)return!0;if(R<0)continue;w=!w}}else{if(g.y!==T.y)continue;if(O.x<=g.x&&g.x<=T.x||T.x<=g.x&&g.x<=O.x)return!0}}return w}const i=ka.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const u=[];if(o.length===1)return s=o[0],l=new ic,l.curves=s.curves,u.push(l),u;let c=!i(o[0].getPoints());c=e?!c:c;const f=[],d=[];let m=[],y=0,x;d[y]=void 0,m[y]=[];for(let g=0,_=o.length;g<_;g++)s=o[g],x=s.getPoints(),a=i(x),a=e?!a:a,a?(!c&&d[y]&&y++,d[y]={s:new ic,p:x},d[y].s.curves=s.curves,c&&y++,m[y]=[]):m[y].push({h:s,p:x[0]});if(!d[0])return n(o);if(d.length>1){let g=!1,_=0;for(let S=0,w=d.length;S<w;S++)f[S]=[];for(let S=0,w=d.length;S<w;S++){const M=m[S];for(let E=0;E<M.length;E++){const T=M[E];let O=!0;for(let N=0;N<d.length;N++)r(T.p,d[N].p)&&(S!==N&&_++,O?(O=!1,f[N].push(T)):g=!0);O&&f[S].push(T)}}_>0&&g===!1&&(m=f)}let v;for(let g=0,_=d.length;g<_;g++){l=d[g].s,u.push(l),v=m[g];for(let S=0,w=v.length;S<w;S++)l.holes.push(v[S].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ud}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ud);const KRe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:$2,AddEquation:ll,AddOperation:V6,AdditiveAnimationBlendMode:Q2,AdditiveBlending:S_,AgXToneMapping:X6,AlphaFormat:Z6,AlwaysCompare:p8,AlwaysDepth:D6,AlwaysStencilFunc:XT,AmbientLight:vW,AnimationAction:EW,AnimationClip:yg,AnimationLoader:eRe,AnimationMixer:TRe,AnimationObjectGroup:ERe,AnimationUtils:KOe,ArcCurve:j8,ArrayCamera:O8,ArrowHelper:XRe,AttachedBindMode:ST,Audio:wW,AudioAnalyser:mRe,AudioContext:PO,AudioListener:hRe,AudioLoader:uRe,AxesHelper:qRe,BackSide:xi,BasicDepthPacking:o8,BasicShadowMap:v6,BatchedMesh:U8,Bone:dO,BooleanKeyframeTrack:Cc,Box2:LRe,Box3:_i,Box3Helper:WRe,BoxGeometry:Tc,BoxHelper:$Re,BufferAttribute:pn,BufferGeometry:Bt,BufferGeometryLoader:bW,ByteType:Y6,Cache:fs,Camera:zg,CameraHelper:HRe,CanvasTexture:z8,CapsuleGeometry:iS,CatmullRomCurve3:V8,CineonToneMapping:W6,CircleGeometry:oS,ClampToEdgeWrapping:ni,Clock:CO,Color:ot,ColorKeyframeTrack:MO,ColorManagement:fn,CompressedArrayTexture:xOe,CompressedCubeTexture:_Oe,CompressedTexture:nS,CompressedTextureLoader:tRe,ConeGeometry:aS,ConstantAlphaFactor:I6,ConstantColorFactor:O6,CubeCamera:b8,CubeReflectionMapping:Ba,CubeRefractionMapping:Nl,CubeTexture:jg,CubeTextureLoader:hW,CubeUVReflectionMapping:cd,CubicBezierCurve:gO,CubicBezierCurve3:H8,CubicInterpolant:lW,CullFaceBack:gT,CullFaceFront:g6,CullFaceFrontBack:lEe,CullFaceNone:m6,Curve:la,CurvePath:W8,CustomBlending:y6,CustomToneMapping:G6,CylinderGeometry:hd,Cylindrical:IRe,Data3DTexture:iO,DataArrayTexture:Y1,DataTexture:rc,DataTextureLoader:AO,DataUtils:$u,DecrementStencilOp:xEe,DecrementWrapStencilOp:SEe,DefaultLoadingManager:fW,DepthFormat:Tl,DepthStencilFormat:mc,DepthTexture:uO,DetachedBindMode:q6,DirectionalLight:gW,DirectionalLightHelper:VRe,DiscreteInterpolant:uW,DisplayP3ColorSpace:q1,DodecahedronGeometry:sS,DoubleSide:ta,DstAlphaFactor:E6,DstColorFactor:T6,DynamicCopyUsage:kEe,DynamicDrawUsage:OEe,DynamicReadUsage:LEe,EdgesGeometry:G8,EllipseCurve:rS,EqualCompare:c8,EqualDepth:U6,EqualStencilFunc:EEe,EquirectangularReflectionMapping:Uh,EquirectangularRefractionMapping:Qm,Euler:Bg,EventDispatcher:Ds,ExtrudeGeometry:uS,FileLoader:Ps,Float16BufferAttribute:SAe,Float32BufferAttribute:mt,Float64BufferAttribute:bAe,FloatType:Rr,Fog:Q1,FogExp2:J1,FramebufferTexture:yOe,FrontSide:Ts,Frustum:Vg,GLBufferAttribute:RRe,GLSL1:FEe,GLSL3:qT,GreaterCompare:f8,GreaterDepth:B6,GreaterEqualCompare:d8,GreaterEqualDepth:F6,GreaterEqualStencilFunc:CEe,GreaterStencilFunc:TEe,GridHelper:zRe,Group:$f,HalfFloatType:vi,HemisphereLight:dW,HemisphereLightHelper:BRe,IcosahedronGeometry:$g,ImageBitmapLoader:lRe,ImageLoader:xg,ImageUtils:rO,IncrementStencilOp:yEe,IncrementWrapStencilOp:_Ee,InstancedBufferAttribute:zh,InstancedBufferGeometry:SW,InstancedInterleavedBuffer:ORe,InstancedMesh:k8,Int16BufferAttribute:xAe,Int32BufferAttribute:_Ae,Int8BufferAttribute:gAe,IntType:W2,InterleavedBuffer:eS,InterleavedBufferAttribute:gc,Interpolant:Xg,InterpolateDiscrete:ng,InterpolateLinear:rg,InterpolateSmooth:z0,InvertStencilOp:bEe,KeepStencilOp:Pu,KeyframeTrack:ua,LOD:N8,LatheGeometry:Hg,Layers:nc,LessCompare:u8,LessDepth:k6,LessEqualCompare:tO,LessEqualDepth:Jm,LessEqualStencilFunc:AEe,LessStencilFunc:MEe,Light:Yl,LightProbe:_W,Line:Dl,Line3:NRe,LineBasicMaterial:Mi,LineCurve:vO,LineCurve3:$8,LineDashedMaterial:oW,LineLoop:F8,LineSegments:Va,LinearDisplayP3ColorSpace:Fg,LinearEncoding:eO,LinearFilter:xn,LinearInterpolant:wO,LinearMipMapLinearFilter:hEe,LinearMipMapNearestFilter:fEe,LinearMipmapLinearFilter:Aa,LinearMipmapNearestFilter:jp,LinearSRGBColorSpace:za,LinearToneMapping:H6,LinearTransfer:og,Loader:Bi,LoaderUtils:nP,LoadingManager:EO,LoopOnce:n8,LoopPingPong:i8,LoopRepeat:r8,LuminanceAlphaFormat:Q6,LuminanceFormat:J6,MOUSE:Au,Material:jr,MaterialLoader:gS,MathUtils:m8,Matrix3:jt,Matrix4:Ct,MaxEquation:_T,Mesh:tr,MeshBasicMaterial:Xl,MeshDepthMaterial:Z1,MeshDistanceMaterial:cO,MeshLambertMaterial:rW,MeshMatcapMaterial:iW,MeshNormalMaterial:nW,MeshPhongMaterial:eW,MeshPhysicalMaterial:Q8,MeshStandardMaterial:SO,MeshToonMaterial:tW,MinEquation:xT,MirroredRepeatWrapping:tg,MixOperation:j6,MultiplyBlending:yT,MultiplyOperation:Ug,NearestFilter:or,NearestMipMapLinearFilter:cEe,NearestMipMapNearestFilter:uEe,NearestMipmapLinearFilter:Ou,NearestMipmapNearestFilter:M_,NeverCompare:l8,NeverDepth:N6,NeverStencilFunc:wEe,NoBlending:vs,NoColorSpace:Ki,NoToneMapping:Na,NormalAnimationBlendMode:X1,NormalBlending:Qu,NotEqualCompare:h8,NotEqualDepth:z6,NotEqualStencilFunc:PEe,NumberKeyframeTrack:gg,Object3D:sn,ObjectLoader:aRe,ObjectSpaceNormalMap:s8,OctahedronGeometry:Wg,OneFactor:b6,OneMinusConstantAlphaFactor:L6,OneMinusConstantColorFactor:R6,OneMinusDstAlphaFactor:A6,OneMinusDstColorFactor:P6,OneMinusSrcAlphaFactor:w_,OneMinusSrcColorFactor:M6,OrthographicCamera:Cl,P3Primaries:sg,PCFShadowMap:$1,PCFSoftShadowMap:zp,PMREMGenerator:KT,Path:hg,PerspectiveCamera:sr,Plane:is,PlaneGeometry:Pc,PlaneHelper:GRe,PointLight:mW,PointLightHelper:URe,Points:B8,PointsMaterial:pO,PolarGridHelper:jRe,PolyhedronGeometry:ql,PositionalAudio:pRe,PropertyBinding:tn,PropertyMixer:MW,QuadraticBezierCurve:yO,QuadraticBezierCurve3:xO,Quaternion:oi,QuaternionKeyframeTrack:dd,QuaternionLinearInterpolant:cW,RED_GREEN_RGTC2_Format:WT,RED_RGTC1_Format:t8,REVISION:ud,RGBADepthPacking:a8,RGBAFormat:ri,RGBAIntegerFormat:Z2,RGBA_ASTC_10x10_Format:BT,RGBA_ASTC_10x5_Format:kT,RGBA_ASTC_10x6_Format:UT,RGBA_ASTC_10x8_Format:FT,RGBA_ASTC_12x10_Format:zT,RGBA_ASTC_12x12_Format:jT,RGBA_ASTC_4x4_Format:PT,RGBA_ASTC_5x4_Format:CT,RGBA_ASTC_5x5_Format:OT,RGBA_ASTC_6x5_Format:RT,RGBA_ASTC_6x6_Format:IT,RGBA_ASTC_8x5_Format:LT,RGBA_ASTC_8x6_Format:NT,RGBA_ASTC_8x8_Format:DT,RGBA_BPTC_Format:B0,RGBA_ETC2_EAC_Format:TT,RGBA_PVRTC_2BPPV1_Format:ET,RGBA_PVRTC_4BPPV1_Format:MT,RGBA_S3TC_DXT1_Format:k0,RGBA_S3TC_DXT3_Format:U0,RGBA_S3TC_DXT5_Format:F0,RGB_BPTC_SIGNED_Format:VT,RGB_BPTC_UNSIGNED_Format:HT,RGB_ETC1_Format:J2,RGB_ETC2_Format:AT,RGB_PVRTC_2BPPV1_Format:wT,RGB_PVRTC_4BPPV1_Format:bT,RGB_S3TC_DXT1_Format:D0,RGFormat:e8,RGIntegerFormat:K2,RawShaderMaterial:J8,Ray:Ac,Raycaster:LO,Rec709Primaries:ag,RectAreaLight:yW,RedFormat:q2,RedIntegerFormat:Y2,ReinhardToneMapping:$6,RenderTarget:y8,RepeatWrapping:eg,ReplaceStencilOp:vEe,ReverseSubtractEquation:_6,RingGeometry:cS,SIGNED_RED_GREEN_RGTC2_Format:GT,SIGNED_RED_RGTC1_Format:$T,SRGBColorSpace:xr,SRGBTransfer:wn,Scene:fg,ShaderChunk:Ft,ShaderLib:Qo,ShaderMaterial:Si,ShadowMaterial:Z8,Shape:ic,ShapeGeometry:fS,ShapePath:YRe,ShapeUtils:ka,ShortType:K6,Skeleton:tS,SkeletonHelper:kRe,SkinnedMesh:D8,Source:Hu,Sphere:ai,SphereGeometry:Gg,Spherical:P_,SphericalHarmonics3:xW,SplineCurve:_O,SpotLight:pW,SpotLightHelper:DRe,Sprite:L8,SpriteMaterial:hO,SrcAlphaFactor:b_,SrcAlphaSaturateFactor:C6,SrcColorFactor:w6,StaticCopyUsage:DEe,StaticDrawUsage:lg,StaticReadUsage:IEe,StereoCamera:cRe,StreamCopyUsage:UEe,StreamDrawUsage:REe,StreamReadUsage:NEe,StringKeyframeTrack:Oc,SubtractEquation:x6,SubtractiveBlending:vT,TOUCH:Tu,TangentSpaceNormalMap:Gl,TetrahedronGeometry:hS,Texture:Gn,TextureLoader:nRe,TorusGeometry:dS,TorusKnotGeometry:pS,Triangle:Zi,TriangleFanDrawMode:mEe,TriangleStripDrawMode:pEe,TrianglesDrawMode:dEe,TubeGeometry:mS,UVMapping:W1,Uint16BufferAttribute:oO,Uint32BufferAttribute:aO,Uint8BufferAttribute:vAe,Uint8ClampedBufferAttribute:yAe,Uniform:IO,UniformsGroup:CRe,UniformsLib:Ke,UniformsUtils:S8,UnsignedByteType:Da,UnsignedInt248Type:Al,UnsignedIntType:cs,UnsignedShort4444Type:G2,UnsignedShort5551Type:X2,UnsignedShortType:G1,VSMShadowMap:Yo,Vector2:Ce,Vector3:K,Vector4:hn,VectorKeyframeTrack:vg,VideoTexture:vOe,WebGL1Renderer:R8,WebGL3DRenderTarget:iAe,WebGLArrayRenderTarget:rAe,WebGLCoordinateSystem:Ta,WebGLCubeRenderTarget:sO,WebGLMultipleRenderTargets:oAe,WebGLRenderTarget:oo,WebGLRenderer:fO,WebGLUtils:C8,WebGPUCoordinateSystem:ug,WireframeGeometry:K8,WrapAroundEnding:ig,ZeroCurvatureEnding:ju,ZeroFactor:S6,ZeroSlopeEnding:Vu,ZeroStencilOp:gEe,_SRGBAFormat:E_,createCanvasElement:v8,sRGBEncoding:Pl},Symbol.toStringTag,{value:"Module"}));var TW={exports:{}},Rc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Rc.ConcurrentRoot=1;Rc.ContinuousEventPriority=4;Rc.DefaultEventPriority=16;Rc.DiscreteEventPriority=1;Rc.IdleEventPriority=536870912;Rc.LegacyRoot=0;TW.exports=Rc;var Gf=TW.exports;function ZRe(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const d=e;e=c?f:Object.assign({},e,f),n.forEach(m=>m(e,d))}},i=()=>e,o=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=c(e);function m(){const y=c(e);if(!f(d,y)){const x=d;u(d=y,x)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?o(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const JRe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),_B=JRe?U.useEffect:U.useLayoutEffect;function PW(t){const e=typeof t=="function"?ZRe(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=U.useReducer(v=>v+1,0),a=e.getState(),s=U.useRef(a),l=U.useRef(r),u=U.useRef(i),c=U.useRef(!1),f=U.useRef();f.current===void 0&&(f.current=r(a));let d,m=!1;(s.current!==a||l.current!==r||u.current!==i||c.current)&&(d=r(a),m=!i(f.current,d)),_B(()=>{m&&(f.current=d),s.current=a,l.current=r,u.current=i,c.current=!1});const y=U.useRef(a);_B(()=>{const v=()=>{try{const _=e.getState(),S=l.current(_);u.current(f.current,S)||(s.current=_,f.current=S,o())}catch{c.current=!0,o()}},g=e.subscribe(v);return e.getState()!==y.current&&v(),g},[]);const x=m?d:f.current;return U.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var CW={exports:{}},OW={exports:{}},RW={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,q){var Z=B.length;B.push(q);e:for(;0<Z;){var oe=Z-1>>>1,re=B[oe];if(0<i(re,q))B[oe]=q,B[Z]=re,Z=oe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var q=B[0],Z=B.pop();if(Z!==q){B[0]=Z;e:for(var oe=0,re=B.length,me=re>>>1;oe<me;){var le=2*(oe+1)-1,pe=B[le],we=le+1,ze=B[we];if(0>i(pe,Z))we<re&&0>i(ze,pe)?(B[oe]=ze,B[we]=Z,oe=we):(B[oe]=pe,B[le]=Z,oe=le);else if(we<re&&0>i(ze,Z))B[oe]=ze,B[we]=Z,oe=we;else break e}}return q}function i(B,q){var Z=B.sortIndex-q.sortIndex;return Z!==0?Z:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,m=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(B){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=B)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function w(B){if(x=!1,S(B),!y)if(n(l)!==null)y=!0,$(M);else{var q=n(u);q!==null&&te(w,q.startTime-B)}}function M(B,q){y=!1,x&&(x=!1,g(O),O=-1),m=!0;var Z=d;try{for(S(q),f=n(l);f!==null&&(!(f.expirationTime>q)||B&&!R());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,d=f.priorityLevel;var re=oe(f.expirationTime<=q);q=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(l)&&r(l),S(q)}else r(l);f=n(l)}if(f!==null)var me=!0;else{var le=n(u);le!==null&&te(w,le.startTime-q),me=!1}return me}finally{f=null,d=Z,m=!1}}var E=!1,T=null,O=-1,N=5,P=-1;function R(){return!(t.unstable_now()-P<N)}function j(){if(T!==null){var B=t.unstable_now();P=B;var q=!0;try{q=T(!0,B)}finally{q?Y():(E=!1,T=null)}}else E=!1}var Y;if(typeof _=="function")Y=function(){_(j)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,G=F.port2;F.port1.onmessage=j,Y=function(){G.postMessage(null)}}else Y=function(){v(j,0)};function $(B){T=B,E||(E=!0,Y())}function te(B,q){O=v(function(){B(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,$(M))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var Z=d;d=q;try{return B()}finally{d=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=d;d=B;try{return q()}finally{d=Z}},t.unstable_scheduleCallback=function(B,q,Z){var oe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?oe+Z:oe):Z=oe,B){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Z+re,B={id:c++,callback:q,priorityLevel:B,startTime:Z,expirationTime:re,sortIndex:-1},Z>oe?(B.sortIndex=Z,e(u,B),n(l)===null&&B===n(u)&&(x?(g(O),O=-1):x=!0,te(w,Z-oe))):(B.sortIndex=re,e(l,B),y||m||(y=!0,$(M))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var q=d;return function(){var Z=d;d=q;try{return B.apply(this,arguments)}finally{d=Z}}}})(RW);OW.exports=RW;var iP=OW.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QRe=function(e){var n={},r=U,i=iP,o=Object.assign;function a(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,b=1;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),M=Symbol.iterator;function E(h){return h===null||typeof h!="object"?null:(h=M&&h[M]||h["@@iterator"],typeof h=="function"?h:null)}function T(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case c:return"Fragment";case u:return"Portal";case d:return"Profiler";case f:return"StrictMode";case v:return"Suspense";case g:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case y:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case x:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case _:return p=h.displayName||null,p!==null?p:T(h.type)||"Memo";case S:p=h._payload,h=h._init;try{return T(h(p))}catch{}}return null}function O(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(p);case 8:return p===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function N(h){var p=h,b=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,p.flags&4098&&(b=p.return),h=p.return;while(h)}return p.tag===3?b:null}function P(h){if(N(h)!==h)throw Error(a(188))}function R(h){var p=h.alternate;if(!p){if(p=N(h),p===null)throw Error(a(188));return p!==h?null:h}for(var b=h,A=p;;){var C=b.return;if(C===null)break;var I=C.alternate;if(I===null){if(A=C.return,A!==null){b=A;continue}break}if(C.child===I.child){for(I=C.child;I;){if(I===b)return P(C),h;if(I===A)return P(C),p;I=I.sibling}throw Error(a(188))}if(b.return!==A.return)b=C,A=I;else{for(var Q=!1,ue=C.child;ue;){if(ue===b){Q=!0,b=C,A=I;break}if(ue===A){Q=!0,A=C,b=I;break}ue=ue.sibling}if(!Q){for(ue=I.child;ue;){if(ue===b){Q=!0,b=I,A=C;break}if(ue===A){Q=!0,A=I,b=C;break}ue=ue.sibling}if(!Q)throw Error(a(189))}}if(b.alternate!==A)throw Error(a(190))}if(b.tag!==3)throw Error(a(188));return b.stateNode.current===b?h:p}function j(h){return h=R(h),h!==null?Y(h):null}function Y(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=Y(h);if(p!==null)return p;h=h.sibling}return null}function F(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var p=F(h);if(p!==null)return p}h=h.sibling}return null}var G=Array.isArray,$=e.getPublicInstance,te=e.getRootHostContext,B=e.getChildHostContext,q=e.prepareForCommit,Z=e.resetAfterCommit,oe=e.createInstance,re=e.appendInitialChild,me=e.finalizeInitialChildren,le=e.prepareUpdate,pe=e.shouldSetTextContent,we=e.createTextInstance,ze=e.scheduleTimeout,Xe=e.cancelTimeout,xe=e.noTimeout,Ve=e.isPrimaryRenderer,De=e.supportsMutation,V=e.supportsPersistence,Ae=e.supportsHydration,de=e.getInstanceFromNode,Re=e.preparePortalMount,_e=e.getCurrentEventPriority,Je=e.detachDeletedInstance,Ge=e.supportsMicrotasks,W=e.scheduleMicrotask,z=e.supportsTestSelectors,he=e.findFiberRoot,Ne=e.getBoundingRect,Le=e.getTextContent,Oe=e.isHiddenSubtree,nt=e.matchAccessibilityRole,qe=e.setFocusIfFocusable,rt=e.setupIntersectionObserver,gt=e.appendChild,Mt=e.appendChildToContainer,ke=e.commitTextUpdate,$t=e.commitMount,Rt=e.commitUpdate,_t=e.insertBefore,it=e.insertInContainerBefore,at=e.removeChild,ae=e.removeChildFromContainer,Pe=e.resetTextContent,He=e.hideInstance,et=e.hideTextInstance,Ie=e.unhideInstance,ee=e.unhideTextInstance,Be=e.clearContainer,$e=e.cloneInstance,ut=e.createContainerChildSet,dt=e.appendChildToContainerChildSet,It=e.finalizeContainerChildren,Xt=e.replaceContainerChildren,gn=e.cloneHiddenInstance,Un=e.cloneHiddenTextInstance,Jt=e.canHydrateInstance,pr=e.canHydrateTextInstance,Ei=e.canHydrateSuspenseInstance,ca=e.isSuspenseInstancePending,Kl=e.isSuspenseInstanceFallback,lo=e.registerSuspenseInstanceRetry,Ai=e.getNextHydratableSibling,Dt=e.getFirstHydratableChild,Zl=e.getFirstHydratableChildWithinContainer,Ic=e.getFirstHydratableChildWithinSuspenseInstance,D=e.hydrateInstance,H=e.hydrateTextInstance,se=e.hydrateSuspenseInstance,L=e.getNextHydratableInstanceAfterSuspenseInstance,X=e.commitHydratedContainer,J=e.commitHydratedSuspenseInstance,ie=e.clearSuspenseBoundary,ne=e.clearSuspenseBoundaryFromContainer,ve=e.shouldDeleteUnhydratedTailInstances,ye=e.didNotMatchHydratedContainerTextInstance,Me=e.didNotMatchHydratedTextInstance,be;function st(h){if(be===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);be=p&&p[1]||""}return`
`+be+h}var Ue=!1;function Fe(h,p){if(!h||Ue)return"";Ue=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(We){var A=We}Reflect.construct(h,[],p)}else{try{p.call()}catch(We){A=We}h.call(p.prototype)}else{try{throw Error()}catch(We){A=We}h()}}catch(We){if(We&&A&&typeof We.stack=="string"){for(var C=We.stack.split(`
`),I=A.stack.split(`
`),Q=C.length-1,ue=I.length-1;1<=Q&&0<=ue&&C[Q]!==I[ue];)ue--;for(;1<=Q&&0<=ue;Q--,ue--)if(C[Q]!==I[ue]){if(Q!==1||ue!==1)do if(Q--,ue--,0>ue||C[Q]!==I[ue]){var Ee=`
`+C[Q].replace(" at new "," at ");return h.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",h.displayName)),Ee}while(1<=Q&&0<=ue);break}}}finally{Ue=!1,Error.prepareStackTrace=b}return(h=h?h.displayName||h.name:"")?st(h):""}var ct=Object.prototype.hasOwnProperty,xt=[],St=-1;function Ot(h){return{current:h}}function lt(h){0>St||(h.current=xt[St],xt[St]=null,St--)}function Ye(h,p){St++,xt[St]=h.current,h.current=p}var Vt={},Et=Ot(Vt),Pt=Ot(!1),cn=Vt;function qn(h,p){var b=h.type.contextTypes;if(!b)return Vt;var A=h.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===p)return A.__reactInternalMemoizedMaskedChildContext;var C={},I;for(I in b)C[I]=p[I];return A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=C),C}function Ln(h){return h=h.childContextTypes,h!=null}function Qt(){lt(Pt),lt(Et)}function Wt(h,p,b){if(Et.current!==Vt)throw Error(a(168));Ye(Et,p),Ye(Pt,b)}function Fn(h,p,b){var A=h.stateNode;if(p=p.childContextTypes,typeof A.getChildContext!="function")return b;A=A.getChildContext();for(var C in A)if(!(C in p))throw Error(a(108,O(h)||"Unknown",C));return o({},b,A)}function kt(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Vt,cn=Et.current,Ye(Et,h),Ye(Pt,Pt.current),!0}function Yt(h,p,b){var A=h.stateNode;if(!A)throw Error(a(169));b?(h=Fn(h,p,cn),A.__reactInternalMemoizedMergedChildContext=h,lt(Pt),lt(Et),Ye(Et,h)):lt(Pt),Ye(Pt,b)}var bn=Math.clz32?Math.clz32:fa,uo=Math.log,ui=Math.LN2;function fa(h){return h>>>=0,h===0?32:31-(uo(h)/ui|0)|0}var Kg=64,Zg=4194304;function pd(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Jg(h,p){var b=h.pendingLanes;if(b===0)return 0;var A=0,C=h.suspendedLanes,I=h.pingedLanes,Q=b&268435455;if(Q!==0){var ue=Q&~C;ue!==0?A=pd(ue):(I&=Q,I!==0&&(A=pd(I)))}else Q=b&~C,Q!==0?A=pd(Q):I!==0&&(A=pd(I));if(A===0)return 0;if(p!==0&&p!==A&&!(p&C)&&(C=A&-A,I=p&-p,C>=I||C===16&&(I&4194240)!==0))return p;if(A&4&&(A|=b&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=A;0<p;)b=31-bn(p),C=1<<b,A|=h[b],p&=~C;return A}function aG(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sG(h,p){for(var b=h.suspendedLanes,A=h.pingedLanes,C=h.expirationTimes,I=h.pendingLanes;0<I;){var Q=31-bn(I),ue=1<<Q,Ee=C[Q];Ee===-1?(!(ue&b)||ue&A)&&(C[Q]=aG(ue,p)):Ee<=p&&(h.expiredLanes|=ue),I&=~ue}}function yS(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function xS(h){for(var p=[],b=0;31>b;b++)p.push(h);return p}function md(h,p,b){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-bn(p),h[p]=b}function lG(h,p){var b=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var A=h.eventTimes;for(h=h.expirationTimes;0<b;){var C=31-bn(b),I=1<<C;p[C]=0,A[C]=-1,h[C]=-1,b&=~I}}function _S(h,p){var b=h.entangledLanes|=p;for(h=h.entanglements;b;){var A=31-bn(b),C=1<<A;C&p|h[A]&p&&(h[A]|=p),b&=~C}}var rn=0;function jO(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var SS=i.unstable_scheduleCallback,VO=i.unstable_cancelCallback,uG=i.unstable_shouldYield,cG=i.unstable_requestPaint,Er=i.unstable_now,bS=i.unstable_ImmediatePriority,fG=i.unstable_UserBlockingPriority,wS=i.unstable_NormalPriority,hG=i.unstable_IdlePriority,Qg=null,ha=null;function dG(h){if(ha&&typeof ha.onCommitFiberRoot=="function")try{ha.onCommitFiberRoot(Qg,h,void 0,(h.current.flags&128)===128)}catch{}}function pG(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var da=typeof Object.is=="function"?Object.is:pG,Ha=null,ev=!1,MS=!1;function HO(h){Ha===null?Ha=[h]:Ha.push(h)}function mG(h){ev=!0,HO(h)}function pa(){if(!MS&&Ha!==null){MS=!0;var h=0,p=rn;try{var b=Ha;for(rn=1;h<b.length;h++){var A=b[h];do A=A(!0);while(A!==null)}Ha=null,ev=!1}catch(C){throw Ha!==null&&(Ha=Ha.slice(h+1)),SS(bS,pa),C}finally{rn=p,MS=!1}}return null}var gG=s.ReactCurrentBatchConfig;function tv(h,p){if(da(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var b=Object.keys(h),A=Object.keys(p);if(b.length!==A.length)return!1;for(A=0;A<b.length;A++){var C=b[A];if(!ct.call(p,C)||!da(h[C],p[C]))return!1}return!0}function vG(h){switch(h.tag){case 5:return st(h.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 2:case 15:return h=Fe(h.type,!1),h;case 11:return h=Fe(h.type.render,!1),h;case 1:return h=Fe(h.type,!0),h;default:return""}}function Bo(h,p){if(h&&h.defaultProps){p=o({},p),h=h.defaultProps;for(var b in h)p[b]===void 0&&(p[b]=h[b]);return p}return p}var nv=Ot(null),rv=null,Lc=null,ES=null;function AS(){ES=Lc=rv=null}function $O(h,p,b){Ve?(Ye(nv,p._currentValue),p._currentValue=b):(Ye(nv,p._currentValue2),p._currentValue2=b)}function TS(h){var p=nv.current;lt(nv),Ve?h._currentValue=p:h._currentValue2=p}function PS(h,p,b){for(;h!==null;){var A=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,A!==null&&(A.childLanes|=p)):A!==null&&(A.childLanes&p)!==p&&(A.childLanes|=p),h===b)break;h=h.return}}function Nc(h,p){rv=h,ES=Lc=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&p&&(Vi=!0),h.firstContext=null)}function co(h){var p=Ve?h._currentValue:h._currentValue2;if(ES!==h)if(h={context:h,memoizedValue:p,next:null},Lc===null){if(rv===null)throw Error(a(308));Lc=h,rv.dependencies={lanes:0,firstContext:h}}else Lc=Lc.next=h;return p}var ma=null,Us=!1;function CS(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WO(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function $a(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function Fs(h,p){var b=h.updateQueue;b!==null&&(b=b.shared,lr!==null&&h.mode&1&&!(Ht&2)?(h=b.interleaved,h===null?(p.next=p,ma===null?ma=[b]:ma.push(b)):(p.next=h.next,h.next=p),b.interleaved=p):(h=b.pending,h===null?p.next=p:(p.next=h.next,h.next=p),b.pending=p))}function iv(h,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194240)!==0)){var A=p.lanes;A&=h.pendingLanes,b|=A,p.lanes=b,_S(h,b)}}function GO(h,p){var b=h.updateQueue,A=h.alternate;if(A!==null&&(A=A.updateQueue,b===A)){var C=null,I=null;if(b=b.firstBaseUpdate,b!==null){do{var Q={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};I===null?C=I=Q:I=I.next=Q,b=b.next}while(b!==null);I===null?C=I=p:I=I.next=p}else C=I=p;b={baseState:A.baseState,firstBaseUpdate:C,lastBaseUpdate:I,shared:A.shared,effects:A.effects},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=p:h.next=p,b.lastBaseUpdate=p}function ov(h,p,b,A){var C=h.updateQueue;Us=!1;var I=C.firstBaseUpdate,Q=C.lastBaseUpdate,ue=C.shared.pending;if(ue!==null){C.shared.pending=null;var Ee=ue,We=Ee.next;Ee.next=null,Q===null?I=We:Q.next=We,Q=Ee;var pt=h.alternate;pt!==null&&(pt=pt.updateQueue,ue=pt.lastBaseUpdate,ue!==Q&&(ue===null?pt.firstBaseUpdate=We:ue.next=We,pt.lastBaseUpdate=Ee))}if(I!==null){var Lt=C.baseState;Q=0,pt=We=Ee=null,ue=I;do{var bt=ue.lane,yn=ue.eventTime;if((A&bt)===bt){pt!==null&&(pt=pt.next={eventTime:yn,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var yt=h,Wr=ue;switch(bt=p,yn=b,Wr.tag){case 1:if(yt=Wr.payload,typeof yt=="function"){Lt=yt.call(yn,Lt,bt);break e}Lt=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Wr.payload,bt=typeof yt=="function"?yt.call(yn,Lt,bt):yt,bt==null)break e;Lt=o({},Lt,bt);break e;case 2:Us=!0}}ue.callback!==null&&ue.lane!==0&&(h.flags|=64,bt=C.effects,bt===null?C.effects=[ue]:bt.push(ue))}else yn={eventTime:yn,lane:bt,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},pt===null?(We=pt=yn,Ee=Lt):pt=pt.next=yn,Q|=bt;if(ue=ue.next,ue===null){if(ue=C.shared.pending,ue===null)break;bt=ue,ue=bt.next,bt.next=null,C.lastBaseUpdate=bt,C.shared.pending=null}}while(!0);if(pt===null&&(Ee=Lt),C.baseState=Ee,C.firstBaseUpdate=We,C.lastBaseUpdate=pt,p=C.shared.interleaved,p!==null){C=p;do Q|=C.lane,C=C.next;while(C!==p)}else I===null&&(C.shared.lanes=0);Hc|=Q,h.lanes=Q,h.memoizedState=Lt}}function XO(h,p,b){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var A=h[p],C=A.callback;if(C!==null){if(A.callback=null,A=b,typeof C!="function")throw Error(a(191,C));C.call(A)}}}var qO=new r.Component().refs;function OS(h,p,b,A){p=h.memoizedState,b=b(A,p),b=b==null?p:o({},p,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}var av={isMounted:function(h){return(h=h._reactInternals)?N(h)===h:!1},enqueueSetState:function(h,p,b){h=h._reactInternals;var A=fi(),C=js(h),I=$a(A,C);I.payload=p,b!=null&&(I.callback=b),Fs(h,I),p=go(h,C,A),p!==null&&iv(p,h,C)},enqueueReplaceState:function(h,p,b){h=h._reactInternals;var A=fi(),C=js(h),I=$a(A,C);I.tag=1,I.payload=p,b!=null&&(I.callback=b),Fs(h,I),p=go(h,C,A),p!==null&&iv(p,h,C)},enqueueForceUpdate:function(h,p){h=h._reactInternals;var b=fi(),A=js(h),C=$a(b,A);C.tag=2,p!=null&&(C.callback=p),Fs(h,C),p=go(h,A,b),p!==null&&iv(p,h,A)}};function YO(h,p,b,A,C,I,Q){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(A,I,Q):p.prototype&&p.prototype.isPureReactComponent?!tv(b,A)||!tv(C,I):!0}function KO(h,p,b){var A=!1,C=Vt,I=p.contextType;return typeof I=="object"&&I!==null?I=co(I):(C=Ln(p)?cn:Et.current,A=p.contextTypes,I=(A=A!=null)?qn(h,C):Vt),p=new p(b,I),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=av,h.stateNode=p,p._reactInternals=h,A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=C,h.__reactInternalMemoizedMaskedChildContext=I),p}function ZO(h,p,b,A){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,A),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,A),p.state!==h&&av.enqueueReplaceState(p,p.state,null)}function RS(h,p,b,A){var C=h.stateNode;C.props=b,C.state=h.memoizedState,C.refs=qO,CS(h);var I=p.contextType;typeof I=="object"&&I!==null?C.context=co(I):(I=Ln(p)?cn:Et.current,C.context=qn(h,I)),C.state=h.memoizedState,I=p.getDerivedStateFromProps,typeof I=="function"&&(OS(h,p,I,b),C.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(p=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),p!==C.state&&av.enqueueReplaceState(C,C.state,null),ov(h,b,C,A),C.state=h.memoizedState),typeof C.componentDidMount=="function"&&(h.flags|=4194308)}var Dc=[],kc=0,sv=null,lv=0,fo=[],ho=0,Jl=null,Wa=1,Ga="";function Ql(h,p){Dc[kc++]=lv,Dc[kc++]=sv,sv=h,lv=p}function JO(h,p,b){fo[ho++]=Wa,fo[ho++]=Ga,fo[ho++]=Jl,Jl=h;var A=Wa;h=Ga;var C=32-bn(A)-1;A&=~(1<<C),b+=1;var I=32-bn(p)+C;if(30<I){var Q=C-C%5;I=(A&(1<<Q)-1).toString(32),A>>=Q,C-=Q,Wa=1<<32-bn(p)+C|b<<C|A,Ga=I+h}else Wa=1<<I|b<<C|A,Ga=h}function IS(h){h.return!==null&&(Ql(h,1),JO(h,1,0))}function LS(h){for(;h===sv;)sv=Dc[--kc],Dc[kc]=null,lv=Dc[--kc],Dc[kc]=null;for(;h===Jl;)Jl=fo[--ho],fo[ho]=null,Ga=fo[--ho],fo[ho]=null,Wa=fo[--ho],fo[ho]=null}var zi=null,ji=null,Nn=!1,gd=!1,zo=null;function QO(h,p){var b=vo(5,null,null,0);b.elementType="DELETED",b.stateNode=p,b.return=h,p=h.deletions,p===null?(h.deletions=[b],h.flags|=16):p.push(b)}function eR(h,p){switch(h.tag){case 5:return p=Jt(p,h.type,h.pendingProps),p!==null?(h.stateNode=p,zi=h,ji=Dt(p),!0):!1;case 6:return p=pr(p,h.pendingProps),p!==null?(h.stateNode=p,zi=h,ji=null,!0):!1;case 13:if(p=Ei(p),p!==null){var b=Jl!==null?{id:Wa,overflow:Ga}:null;return h.memoizedState={dehydrated:p,treeContext:b,retryLane:1073741824},b=vo(18,null,null,0),b.stateNode=p,b.return=h,h.child=b,zi=h,ji=null,!0}return!1;default:return!1}}function NS(h){return(h.mode&1)!==0&&(h.flags&128)===0}function DS(h){if(Nn){var p=ji;if(p){var b=p;if(!eR(h,p)){if(NS(h))throw Error(a(418));p=Ai(b);var A=zi;p&&eR(h,p)?QO(A,b):(h.flags=h.flags&-4097|2,Nn=!1,zi=h)}}else{if(NS(h))throw Error(a(418));h.flags=h.flags&-4097|2,Nn=!1,zi=h}}}function tR(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;zi=h}function vd(h){if(!Ae||h!==zi)return!1;if(!Nn)return tR(h),Nn=!0,!1;if(h.tag!==3&&(h.tag!==5||ve(h.type)&&!pe(h.type,h.memoizedProps))){var p=ji;if(p){if(NS(h)){for(h=ji;h;)h=Ai(h);throw Error(a(418))}for(;p;)QO(h,p),p=Ai(p)}}if(tR(h),h.tag===13){if(!Ae)throw Error(a(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));ji=L(h)}else ji=zi?Ai(h.stateNode):null;return!0}function Uc(){Ae&&(ji=zi=null,gd=Nn=!1)}function kS(h){zo===null?zo=[h]:zo.push(h)}function yd(h,p,b){if(h=b.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(a(309));var A=b.stateNode}if(!A)throw Error(a(147,h));var C=A,I=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===I?p.ref:(p=function(Q){var ue=C.refs;ue===qO&&(ue=C.refs={}),Q===null?delete ue[I]:ue[I]=Q},p._stringRef=I,p)}if(typeof h!="string")throw Error(a(284));if(!b._owner)throw Error(a(290,h))}return h}function uv(h,p){throw h=Object.prototype.toString.call(p),Error(a(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function nR(h){var p=h._init;return p(h._payload)}function rR(h){function p(ge,ce){if(h){var Se=ge.deletions;Se===null?(ge.deletions=[ce],ge.flags|=16):Se.push(ce)}}function b(ge,ce){if(!h)return null;for(;ce!==null;)p(ge,ce),ce=ce.sibling;return null}function A(ge,ce){for(ge=new Map;ce!==null;)ce.key!==null?ge.set(ce.key,ce):ge.set(ce.index,ce),ce=ce.sibling;return ge}function C(ge,ce){return ge=Hs(ge,ce),ge.index=0,ge.sibling=null,ge}function I(ge,ce,Se){return ge.index=Se,h?(Se=ge.alternate,Se!==null?(Se=Se.index,Se<ce?(ge.flags|=2,ce):Se):(ge.flags|=2,ce)):(ge.flags|=1048576,ce)}function Q(ge){return h&&ge.alternate===null&&(ge.flags|=2),ge}function ue(ge,ce,Se,tt){return ce===null||ce.tag!==6?(ce=xb(Se,ge.mode,tt),ce.return=ge,ce):(ce=C(ce,Se),ce.return=ge,ce)}function Ee(ge,ce,Se,tt){var vt=Se.type;return vt===c?pt(ge,ce,Se.props.children,tt,Se.key):ce!==null&&(ce.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===S&&nR(vt)===ce.type)?(tt=C(ce,Se.props),tt.ref=yd(ge,ce,Se),tt.return=ge,tt):(tt=zv(Se.type,Se.key,Se.props,null,ge.mode,tt),tt.ref=yd(ge,ce,Se),tt.return=ge,tt)}function We(ge,ce,Se,tt){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==Se.containerInfo||ce.stateNode.implementation!==Se.implementation?(ce=_b(Se,ge.mode,tt),ce.return=ge,ce):(ce=C(ce,Se.children||[]),ce.return=ge,ce)}function pt(ge,ce,Se,tt,vt){return ce===null||ce.tag!==7?(ce=au(Se,ge.mode,tt,vt),ce.return=ge,ce):(ce=C(ce,Se),ce.return=ge,ce)}function Lt(ge,ce,Se){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=xb(""+ce,ge.mode,Se),ce.return=ge,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return Se=zv(ce.type,ce.key,ce.props,null,ge.mode,Se),Se.ref=yd(ge,null,ce),Se.return=ge,Se;case u:return ce=_b(ce,ge.mode,Se),ce.return=ge,ce;case S:var tt=ce._init;return Lt(ge,tt(ce._payload),Se)}if(G(ce)||E(ce))return ce=au(ce,ge.mode,Se,null),ce.return=ge,ce;uv(ge,ce)}return null}function bt(ge,ce,Se,tt){var vt=ce!==null?ce.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return vt!==null?null:ue(ge,ce,""+Se,tt);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:return Se.key===vt?Ee(ge,ce,Se,tt):null;case u:return Se.key===vt?We(ge,ce,Se,tt):null;case S:return vt=Se._init,bt(ge,ce,vt(Se._payload),tt)}if(G(Se)||E(Se))return vt!==null?null:pt(ge,ce,Se,tt,null);uv(ge,Se)}return null}function yn(ge,ce,Se,tt,vt){if(typeof tt=="string"&&tt!==""||typeof tt=="number")return ge=ge.get(Se)||null,ue(ce,ge,""+tt,vt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case l:return ge=ge.get(tt.key===null?Se:tt.key)||null,Ee(ce,ge,tt,vt);case u:return ge=ge.get(tt.key===null?Se:tt.key)||null,We(ce,ge,tt,vt);case S:var zt=tt._init;return yn(ge,ce,Se,zt(tt._payload),vt)}if(G(tt)||E(tt))return ge=ge.get(Se)||null,pt(ce,ge,tt,vt,null);uv(ce,tt)}return null}function yt(ge,ce,Se,tt){for(var vt=null,zt=null,Nt=ce,on=ce=0,Tr=null;Nt!==null&&on<Se.length;on++){Nt.index>on?(Tr=Nt,Nt=null):Tr=Nt.sibling;var an=bt(ge,Nt,Se[on],tt);if(an===null){Nt===null&&(Nt=Tr);break}h&&Nt&&an.alternate===null&&p(ge,Nt),ce=I(an,ce,on),zt===null?vt=an:zt.sibling=an,zt=an,Nt=Tr}if(on===Se.length)return b(ge,Nt),Nn&&Ql(ge,on),vt;if(Nt===null){for(;on<Se.length;on++)Nt=Lt(ge,Se[on],tt),Nt!==null&&(ce=I(Nt,ce,on),zt===null?vt=Nt:zt.sibling=Nt,zt=Nt);return Nn&&Ql(ge,on),vt}for(Nt=A(ge,Nt);on<Se.length;on++)Tr=yn(Nt,ge,on,Se[on],tt),Tr!==null&&(h&&Tr.alternate!==null&&Nt.delete(Tr.key===null?on:Tr.key),ce=I(Tr,ce,on),zt===null?vt=Tr:zt.sibling=Tr,zt=Tr);return h&&Nt.forEach(function($s){return p(ge,$s)}),Nn&&Ql(ge,on),vt}function Wr(ge,ce,Se,tt){var vt=E(Se);if(typeof vt!="function")throw Error(a(150));if(Se=vt.call(Se),Se==null)throw Error(a(151));for(var zt=vt=null,Nt=ce,on=ce=0,Tr=null,an=Se.next();Nt!==null&&!an.done;on++,an=Se.next()){Nt.index>on?(Tr=Nt,Nt=null):Tr=Nt.sibling;var $s=bt(ge,Nt,an.value,tt);if($s===null){Nt===null&&(Nt=Tr);break}h&&Nt&&$s.alternate===null&&p(ge,Nt),ce=I($s,ce,on),zt===null?vt=$s:zt.sibling=$s,zt=$s,Nt=Tr}if(an.done)return b(ge,Nt),Nn&&Ql(ge,on),vt;if(Nt===null){for(;!an.done;on++,an=Se.next())an=Lt(ge,an.value,tt),an!==null&&(ce=I(an,ce,on),zt===null?vt=an:zt.sibling=an,zt=an);return Nn&&Ql(ge,on),vt}for(Nt=A(ge,Nt);!an.done;on++,an=Se.next())an=yn(Nt,ge,on,an.value,tt),an!==null&&(h&&an.alternate!==null&&Nt.delete(an.key===null?on:an.key),ce=I(an,ce,on),zt===null?vt=an:zt.sibling=an,zt=an);return h&&Nt.forEach(function(XG){return p(ge,XG)}),Nn&&Ql(ge,on),vt}function yo(ge,ce,Se,tt){if(typeof Se=="object"&&Se!==null&&Se.type===c&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:e:{for(var vt=Se.key,zt=ce;zt!==null;){if(zt.key===vt){if(vt=Se.type,vt===c){if(zt.tag===7){b(ge,zt.sibling),ce=C(zt,Se.props.children),ce.return=ge,ge=ce;break e}}else if(zt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===S&&nR(vt)===zt.type){b(ge,zt.sibling),ce=C(zt,Se.props),ce.ref=yd(ge,zt,Se),ce.return=ge,ge=ce;break e}b(ge,zt);break}else p(ge,zt);zt=zt.sibling}Se.type===c?(ce=au(Se.props.children,ge.mode,tt,Se.key),ce.return=ge,ge=ce):(tt=zv(Se.type,Se.key,Se.props,null,ge.mode,tt),tt.ref=yd(ge,ce,Se),tt.return=ge,ge=tt)}return Q(ge);case u:e:{for(zt=Se.key;ce!==null;){if(ce.key===zt)if(ce.tag===4&&ce.stateNode.containerInfo===Se.containerInfo&&ce.stateNode.implementation===Se.implementation){b(ge,ce.sibling),ce=C(ce,Se.children||[]),ce.return=ge,ge=ce;break e}else{b(ge,ce);break}else p(ge,ce);ce=ce.sibling}ce=_b(Se,ge.mode,tt),ce.return=ge,ge=ce}return Q(ge);case S:return zt=Se._init,yo(ge,ce,zt(Se._payload),tt)}if(G(Se))return yt(ge,ce,Se,tt);if(E(Se))return Wr(ge,ce,Se,tt);uv(ge,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,ce!==null&&ce.tag===6?(b(ge,ce.sibling),ce=C(ce,Se),ce.return=ge,ge=ce):(b(ge,ce),ce=xb(Se,ge.mode,tt),ce.return=ge,ge=ce),Q(ge)):b(ge,ce)}return yo}var Fc=rR(!0),iR=rR(!1),xd={},po=Ot(xd),_d=Ot(xd),Bc=Ot(xd);function ga(h){if(h===xd)throw Error(a(174));return h}function US(h,p){Ye(Bc,p),Ye(_d,h),Ye(po,xd),h=te(p),lt(po),Ye(po,h)}function zc(){lt(po),lt(_d),lt(Bc)}function oR(h){var p=ga(Bc.current),b=ga(po.current);p=B(b,h.type,p),b!==p&&(Ye(_d,h),Ye(po,p))}function FS(h){_d.current===h&&(lt(po),lt(_d))}var Bn=Ot(0);function cv(h){for(var p=h;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||ca(b)||Kl(b)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var BS=[];function zS(){for(var h=0;h<BS.length;h++){var p=BS[h];Ve?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}BS.length=0}var fv=s.ReactCurrentDispatcher,mo=s.ReactCurrentBatchConfig,jc=0,Yn=null,Vr=null,Ar=null,hv=!1,Sd=!1,bd=0,yG=0;function Hr(){throw Error(a(321))}function jS(h,p){if(p===null)return!1;for(var b=0;b<p.length&&b<h.length;b++)if(!da(h[b],p[b]))return!1;return!0}function VS(h,p,b,A,C,I){if(jc=I,Yn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,fv.current=h===null||h.memoizedState===null?bG:wG,h=b(A,C),Sd){I=0;do{if(Sd=!1,bd=0,25<=I)throw Error(a(301));I+=1,Ar=Vr=null,p.updateQueue=null,fv.current=MG,h=b(A,C)}while(Sd)}if(fv.current=vv,p=Vr!==null&&Vr.next!==null,jc=0,Ar=Vr=Yn=null,hv=!1,p)throw Error(a(300));return h}function HS(){var h=bd!==0;return bd=0,h}function Xa(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?Yn.memoizedState=Ar=h:Ar=Ar.next=h,Ar}function va(){if(Vr===null){var h=Yn.alternate;h=h!==null?h.memoizedState:null}else h=Vr.next;var p=Ar===null?Yn.memoizedState:Ar.next;if(p!==null)Ar=p,Vr=h;else{if(h===null)throw Error(a(310));Vr=h,h={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},Ar===null?Yn.memoizedState=Ar=h:Ar=Ar.next=h}return Ar}function eu(h,p){return typeof p=="function"?p(h):p}function dv(h){var p=va(),b=p.queue;if(b===null)throw Error(a(311));b.lastRenderedReducer=h;var A=Vr,C=A.baseQueue,I=b.pending;if(I!==null){if(C!==null){var Q=C.next;C.next=I.next,I.next=Q}A.baseQueue=C=I,b.pending=null}if(C!==null){I=C.next,A=A.baseState;var ue=Q=null,Ee=null,We=I;do{var pt=We.lane;if((jc&pt)===pt)Ee!==null&&(Ee=Ee.next={lane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),A=We.hasEagerState?We.eagerState:h(A,We.action);else{var Lt={lane:pt,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null};Ee===null?(ue=Ee=Lt,Q=A):Ee=Ee.next=Lt,Yn.lanes|=pt,Hc|=pt}We=We.next}while(We!==null&&We!==I);Ee===null?Q=A:Ee.next=ue,da(A,p.memoizedState)||(Vi=!0),p.memoizedState=A,p.baseState=Q,p.baseQueue=Ee,b.lastRenderedState=A}if(h=b.interleaved,h!==null){C=h;do I=C.lane,Yn.lanes|=I,Hc|=I,C=C.next;while(C!==h)}else C===null&&(b.lanes=0);return[p.memoizedState,b.dispatch]}function pv(h){var p=va(),b=p.queue;if(b===null)throw Error(a(311));b.lastRenderedReducer=h;var A=b.dispatch,C=b.pending,I=p.memoizedState;if(C!==null){b.pending=null;var Q=C=C.next;do I=h(I,Q.action),Q=Q.next;while(Q!==C);da(I,p.memoizedState)||(Vi=!0),p.memoizedState=I,p.baseQueue===null&&(p.baseState=I),b.lastRenderedState=I}return[I,A]}function aR(){}function sR(h,p){var b=Yn,A=va(),C=p(),I=!da(A.memoizedState,C);if(I&&(A.memoizedState=C,Vi=!0),A=A.queue,Md(cR.bind(null,b,A,h),[h]),A.getSnapshot!==p||I||Ar!==null&&Ar.memoizedState.tag&1){if(b.flags|=2048,wd(9,uR.bind(null,b,A,C,p),void 0,null),lr===null)throw Error(a(349));jc&30||lR(b,p,C)}return C}function lR(h,p,b){h.flags|=16384,h={getSnapshot:p,value:b},p=Yn.updateQueue,p===null?(p={lastEffect:null,stores:null},Yn.updateQueue=p,p.stores=[h]):(b=p.stores,b===null?p.stores=[h]:b.push(h))}function uR(h,p,b,A){p.value=b,p.getSnapshot=A,fR(p)&&go(h,1,-1)}function cR(h,p,b){return b(function(){fR(p)&&go(h,1,-1)})}function fR(h){var p=h.getSnapshot;h=h.value;try{var b=p();return!da(h,b)}catch{return!0}}function $S(h){var p=Xa();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:h},p.queue=h,h=h.dispatch=SG.bind(null,Yn,h),[p.memoizedState,h]}function wd(h,p,b,A){return h={tag:h,create:p,destroy:b,deps:A,next:null},p=Yn.updateQueue,p===null?(p={lastEffect:null,stores:null},Yn.updateQueue=p,p.lastEffect=h.next=h):(b=p.lastEffect,b===null?p.lastEffect=h.next=h:(A=b.next,b.next=h,h.next=A,p.lastEffect=h)),h}function hR(){return va().memoizedState}function mv(h,p,b,A){var C=Xa();Yn.flags|=h,C.memoizedState=wd(1|p,b,void 0,A===void 0?null:A)}function gv(h,p,b,A){var C=va();A=A===void 0?null:A;var I=void 0;if(Vr!==null){var Q=Vr.memoizedState;if(I=Q.destroy,A!==null&&jS(A,Q.deps)){C.memoizedState=wd(p,b,I,A);return}}Yn.flags|=h,C.memoizedState=wd(1|p,b,I,A)}function WS(h,p){return mv(8390656,8,h,p)}function Md(h,p){return gv(2048,8,h,p)}function dR(h,p){return gv(4,2,h,p)}function pR(h,p){return gv(4,4,h,p)}function mR(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function gR(h,p,b){return b=b!=null?b.concat([h]):null,gv(4,4,mR.bind(null,p,h),b)}function GS(){}function vR(h,p){var b=va();p=p===void 0?null:p;var A=b.memoizedState;return A!==null&&p!==null&&jS(p,A[1])?A[0]:(b.memoizedState=[h,p],h)}function yR(h,p){var b=va();p=p===void 0?null:p;var A=b.memoizedState;return A!==null&&p!==null&&jS(p,A[1])?A[0]:(h=h(),b.memoizedState=[h,p],h)}function xG(h,p){var b=rn;rn=b!==0&&4>b?b:4,h(!0);var A=mo.transition;mo.transition={};try{h(!1),p()}finally{rn=b,mo.transition=A}}function xR(){return va().memoizedState}function _G(h,p,b){var A=js(h);b={lane:A,action:b,hasEagerState:!1,eagerState:null,next:null},_R(h)?SR(p,b):(bR(h,p,b),b=fi(),h=go(h,A,b),h!==null&&wR(h,p,A))}function SG(h,p,b){var A=js(h),C={lane:A,action:b,hasEagerState:!1,eagerState:null,next:null};if(_R(h))SR(p,C);else{bR(h,p,C);var I=h.alternate;if(h.lanes===0&&(I===null||I.lanes===0)&&(I=p.lastRenderedReducer,I!==null))try{var Q=p.lastRenderedState,ue=I(Q,b);if(C.hasEagerState=!0,C.eagerState=ue,da(ue,Q))return}catch{}finally{}b=fi(),h=go(h,A,b),h!==null&&wR(h,p,A)}}function _R(h){var p=h.alternate;return h===Yn||p!==null&&p===Yn}function SR(h,p){Sd=hv=!0;var b=h.pending;b===null?p.next=p:(p.next=b.next,b.next=p),h.pending=p}function bR(h,p,b){lr!==null&&h.mode&1&&!(Ht&2)?(h=p.interleaved,h===null?(b.next=b,ma===null?ma=[p]:ma.push(p)):(b.next=h.next,h.next=b),p.interleaved=b):(h=p.pending,h===null?b.next=b:(b.next=h.next,h.next=b),p.pending=b)}function wR(h,p,b){if(b&4194240){var A=p.lanes;A&=h.pendingLanes,b|=A,p.lanes=b,_S(h,b)}}var vv={readContext:co,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},bG={readContext:co,useCallback:function(h,p){return Xa().memoizedState=[h,p===void 0?null:p],h},useContext:co,useEffect:WS,useImperativeHandle:function(h,p,b){return b=b!=null?b.concat([h]):null,mv(4194308,4,mR.bind(null,p,h),b)},useLayoutEffect:function(h,p){return mv(4194308,4,h,p)},useInsertionEffect:function(h,p){return mv(4,2,h,p)},useMemo:function(h,p){var b=Xa();return p=p===void 0?null:p,h=h(),b.memoizedState=[h,p],h},useReducer:function(h,p,b){var A=Xa();return p=b!==void 0?b(p):p,A.memoizedState=A.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},A.queue=h,h=h.dispatch=_G.bind(null,Yn,h),[A.memoizedState,h]},useRef:function(h){var p=Xa();return h={current:h},p.memoizedState=h},useState:$S,useDebugValue:GS,useDeferredValue:function(h){var p=$S(h),b=p[0],A=p[1];return WS(function(){var C=mo.transition;mo.transition={};try{A(h)}finally{mo.transition=C}},[h]),b},useTransition:function(){var h=$S(!1),p=h[0];return h=xG.bind(null,h[1]),Xa().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,b){var A=Yn,C=Xa();if(Nn){if(b===void 0)throw Error(a(407));b=b()}else{if(b=p(),lr===null)throw Error(a(349));jc&30||lR(A,p,b)}C.memoizedState=b;var I={value:b,getSnapshot:p};return C.queue=I,WS(cR.bind(null,A,I,h),[h]),A.flags|=2048,wd(9,uR.bind(null,A,I,b,p),void 0,null),b},useId:function(){var h=Xa(),p=lr.identifierPrefix;if(Nn){var b=Ga,A=Wa;b=(A&~(1<<32-bn(A)-1)).toString(32)+b,p=":"+p+"R"+b,b=bd++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=yG++,p=":"+p+"r"+b.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},wG={readContext:co,useCallback:vR,useContext:co,useEffect:Md,useImperativeHandle:gR,useInsertionEffect:dR,useLayoutEffect:pR,useMemo:yR,useReducer:dv,useRef:hR,useState:function(){return dv(eu)},useDebugValue:GS,useDeferredValue:function(h){var p=dv(eu),b=p[0],A=p[1];return Md(function(){var C=mo.transition;mo.transition={};try{A(h)}finally{mo.transition=C}},[h]),b},useTransition:function(){var h=dv(eu)[0],p=va().memoizedState;return[h,p]},useMutableSource:aR,useSyncExternalStore:sR,useId:xR,unstable_isNewReconciler:!1},MG={readContext:co,useCallback:vR,useContext:co,useEffect:Md,useImperativeHandle:gR,useInsertionEffect:dR,useLayoutEffect:pR,useMemo:yR,useReducer:pv,useRef:hR,useState:function(){return pv(eu)},useDebugValue:GS,useDeferredValue:function(h){var p=pv(eu),b=p[0],A=p[1];return Md(function(){var C=mo.transition;mo.transition={};try{A(h)}finally{mo.transition=C}},[h]),b},useTransition:function(){var h=pv(eu)[0],p=va().memoizedState;return[h,p]},useMutableSource:aR,useSyncExternalStore:sR,useId:xR,unstable_isNewReconciler:!1};function XS(h,p){try{var b="",A=p;do b+=vG(A),A=A.return;while(A);var C=b}catch(I){C=`
Error generating stack: `+I.message+`
`+I.stack}return{value:h,source:p,stack:C}}function qS(h,p){try{console.error(p.value)}catch(b){setTimeout(function(){throw b})}}var EG=typeof WeakMap=="function"?WeakMap:Map;function MR(h,p,b){b=$a(-1,b),b.tag=3,b.payload={element:null};var A=p.value;return b.callback=function(){Lv||(Lv=!0,hb=A),qS(h,p)},b}function ER(h,p,b){b=$a(-1,b),b.tag=3;var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var C=p.value;b.payload=function(){return A(C)},b.callback=function(){qS(h,p)}}var I=h.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(b.callback=function(){qS(h,p),typeof A!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var Q=p.stack;this.componentDidCatch(p.value,{componentStack:Q!==null?Q:""})}),b}function AR(h,p,b){var A=h.pingCache;if(A===null){A=h.pingCache=new EG;var C=new Set;A.set(p,C)}else C=A.get(p),C===void 0&&(C=new Set,A.set(p,C));C.has(b)||(C.add(b),h=BG.bind(null,h,p,b),p.then(h,h))}function TR(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function PR(h,p,b,A,C){return h.mode&1?(h.flags|=65536,h.lanes=C,h):(h===p?h.flags|=65536:(h.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(p=$a(-1,1),p.tag=2,Fs(b,p))),b.lanes|=1),h)}function ya(h){h.flags|=4}function CR(h,p){if(h!==null&&h.child===p.child)return!0;if(p.flags&16)return!1;for(h=p.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var Ed,Ad,yv,xv;if(De)Ed=function(h,p){for(var b=p.child;b!==null;){if(b.tag===5||b.tag===6)re(h,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Ad=function(){},yv=function(h,p,b,A,C){if(h=h.memoizedProps,h!==A){var I=p.stateNode,Q=ga(po.current);b=le(I,b,h,A,C,Q),(p.updateQueue=b)&&ya(p)}},xv=function(h,p,b,A){b!==A&&ya(p)};else if(V){Ed=function(h,p,b,A){for(var C=p.child;C!==null;){if(C.tag===5){var I=C.stateNode;b&&A&&(I=gn(I,C.type,C.memoizedProps,C)),re(h,I)}else if(C.tag===6)I=C.stateNode,b&&A&&(I=Un(I,C.memoizedProps,C)),re(h,I);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)I=C.child,I!==null&&(I.return=C),Ed(h,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===p)break;for(;C.sibling===null;){if(C.return===null||C.return===p)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};var OR=function(h,p,b,A){for(var C=p.child;C!==null;){if(C.tag===5){var I=C.stateNode;b&&A&&(I=gn(I,C.type,C.memoizedProps,C)),dt(h,I)}else if(C.tag===6)I=C.stateNode,b&&A&&(I=Un(I,C.memoizedProps,C)),dt(h,I);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)I=C.child,I!==null&&(I.return=C),OR(h,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===p)break;for(;C.sibling===null;){if(C.return===null||C.return===p)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};Ad=function(h,p){var b=p.stateNode;if(!CR(h,p)){h=b.containerInfo;var A=ut(h);OR(A,p,!1,!1),b.pendingChildren=A,ya(p),It(h,A)}},yv=function(h,p,b,A,C){var I=h.stateNode,Q=h.memoizedProps;if((h=CR(h,p))&&Q===A)p.stateNode=I;else{var ue=p.stateNode,Ee=ga(po.current),We=null;Q!==A&&(We=le(ue,b,Q,A,C,Ee)),h&&We===null?p.stateNode=I:(I=$e(I,We,b,Q,A,p,h,ue),me(I,b,A,C,Ee)&&ya(p),p.stateNode=I,h?ya(p):Ed(I,p,!1,!1))}},xv=function(h,p,b,A){b!==A?(h=ga(Bc.current),b=ga(po.current),p.stateNode=we(A,h,b,p),ya(p)):p.stateNode=h.stateNode}}else Ad=function(){},yv=function(){},xv=function(){};function Td(h,p){if(!Nn)switch(h.tailMode){case"hidden":p=h.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var A=null;b!==null;)b.alternate!==null&&(A=b),b=b.sibling;A===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:A.sibling=null}}function $r(h){var p=h.alternate!==null&&h.alternate.child===h.child,b=0,A=0;if(p)for(var C=h.child;C!==null;)b|=C.lanes|C.childLanes,A|=C.subtreeFlags&14680064,A|=C.flags&14680064,C.return=h,C=C.sibling;else for(C=h.child;C!==null;)b|=C.lanes|C.childLanes,A|=C.subtreeFlags,A|=C.flags,C.return=h,C=C.sibling;return h.subtreeFlags|=A,h.childLanes=b,p}function AG(h,p,b){var A=p.pendingProps;switch(LS(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(p),null;case 1:return Ln(p.type)&&Qt(),$r(p),null;case 3:return A=p.stateNode,zc(),lt(Pt),lt(Et),zS(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(h===null||h.child===null)&&(vd(p)?ya(p):h===null||h.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,zo!==null&&(mb(zo),zo=null))),Ad(h,p),$r(p),null;case 5:FS(p),b=ga(Bc.current);var C=p.type;if(h!==null&&p.stateNode!=null)yv(h,p,C,A,b),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!A){if(p.stateNode===null)throw Error(a(166));return $r(p),null}if(h=ga(po.current),vd(p)){if(!Ae)throw Error(a(175));h=D(p.stateNode,p.type,p.memoizedProps,b,h,p,!gd),p.updateQueue=h,h!==null&&ya(p)}else{var I=oe(C,A,b,h,p);Ed(I,p,!1,!1),p.stateNode=I,me(I,C,A,b,h)&&ya(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return $r(p),null;case 6:if(h&&p.stateNode!=null)xv(h,p,h.memoizedProps,A);else{if(typeof A!="string"&&p.stateNode===null)throw Error(a(166));if(h=ga(Bc.current),b=ga(po.current),vd(p)){if(!Ae)throw Error(a(176));if(h=p.stateNode,A=p.memoizedProps,(b=H(h,A,p,!gd))&&(C=zi,C!==null))switch(I=(C.mode&1)!==0,C.tag){case 3:ye(C.stateNode.containerInfo,h,A,I);break;case 5:Me(C.type,C.memoizedProps,C.stateNode,h,A,I)}b&&ya(p)}else p.stateNode=we(A,h,b,p)}return $r(p),null;case 13:if(lt(Bn),A=p.memoizedState,Nn&&ji!==null&&p.mode&1&&!(p.flags&128)){for(h=ji;h;)h=Ai(h);return Uc(),p.flags|=98560,p}if(A!==null&&A.dehydrated!==null){if(A=vd(p),h===null){if(!A)throw Error(a(318));if(!Ae)throw Error(a(344));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));se(h,p)}else Uc(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return $r(p),null}return zo!==null&&(mb(zo),zo=null),p.flags&128?(p.lanes=b,p):(A=A!==null,b=!1,h===null?vd(p):b=h.memoizedState!==null,A&&!b&&(p.child.flags|=8192,p.mode&1&&(h===null||Bn.current&1?mr===0&&(mr=3):vb())),p.updateQueue!==null&&(p.flags|=4),$r(p),null);case 4:return zc(),Ad(h,p),h===null&&Re(p.stateNode.containerInfo),$r(p),null;case 10:return TS(p.type._context),$r(p),null;case 17:return Ln(p.type)&&Qt(),$r(p),null;case 19:if(lt(Bn),C=p.memoizedState,C===null)return $r(p),null;if(A=(p.flags&128)!==0,I=C.rendering,I===null)if(A)Td(C,!1);else{if(mr!==0||h!==null&&h.flags&128)for(h=p.child;h!==null;){if(I=cv(h),I!==null){for(p.flags|=128,Td(C,!1),h=I.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),p.subtreeFlags=0,h=b,A=p.child;A!==null;)b=A,C=h,b.flags&=14680066,I=b.alternate,I===null?(b.childLanes=0,b.lanes=C,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=I.childLanes,b.lanes=I.lanes,b.child=I.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=I.memoizedProps,b.memoizedState=I.memoizedState,b.updateQueue=I.updateQueue,b.type=I.type,C=I.dependencies,b.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),A=A.sibling;return Ye(Bn,Bn.current&1|2),p.child}h=h.sibling}C.tail!==null&&Er()>fb&&(p.flags|=128,A=!0,Td(C,!1),p.lanes=4194304)}else{if(!A)if(h=cv(I),h!==null){if(p.flags|=128,A=!0,h=h.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),Td(C,!0),C.tail===null&&C.tailMode==="hidden"&&!I.alternate&&!Nn)return $r(p),null}else 2*Er()-C.renderingStartTime>fb&&b!==1073741824&&(p.flags|=128,A=!0,Td(C,!1),p.lanes=4194304);C.isBackwards?(I.sibling=p.child,p.child=I):(h=C.last,h!==null?h.sibling=I:p.child=I,C.last=I)}return C.tail!==null?(p=C.tail,C.rendering=p,C.tail=p.sibling,C.renderingStartTime=Er(),p.sibling=null,h=Bn.current,Ye(Bn,A?h&1|2:h&1),p):($r(p),null);case 22:case 23:return gb(),A=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==A&&(p.flags|=8192),A&&p.mode&1?Hi&1073741824&&($r(p),De&&p.subtreeFlags&6&&(p.flags|=8192)):$r(p),null;case 24:return null;case 25:return null}throw Error(a(156,p.tag))}var TG=s.ReactCurrentOwner,Vi=!1;function ci(h,p,b,A){p.child=h===null?iR(p,null,b,A):Fc(p,h.child,b,A)}function RR(h,p,b,A,C){b=b.render;var I=p.ref;return Nc(p,C),A=VS(h,p,b,A,I,C),b=HS(),h!==null&&!Vi?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~C,qa(h,p,C)):(Nn&&b&&IS(p),p.flags|=1,ci(h,p,A,C),p.child)}function IR(h,p,b,A,C){if(h===null){var I=b.type;return typeof I=="function"&&!yb(I)&&I.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(p.tag=15,p.type=I,LR(h,p,I,A,C)):(h=zv(b.type,null,A,p,p.mode,C),h.ref=p.ref,h.return=p,p.child=h)}if(I=h.child,!(h.lanes&C)){var Q=I.memoizedProps;if(b=b.compare,b=b!==null?b:tv,b(Q,A)&&h.ref===p.ref)return qa(h,p,C)}return p.flags|=1,h=Hs(I,A),h.ref=p.ref,h.return=p,p.child=h}function LR(h,p,b,A,C){if(h!==null&&tv(h.memoizedProps,A)&&h.ref===p.ref)if(Vi=!1,(h.lanes&C)!==0)h.flags&131072&&(Vi=!0);else return p.lanes=h.lanes,qa(h,p,C);return YS(h,p,b,A,C)}function NR(h,p,b){var A=p.pendingProps,C=A.children,I=h!==null?h.memoizedState:null;if(A.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},Ye(Vc,Hi),Hi|=b;else if(b&1073741824)p.memoizedState={baseLanes:0,cachePool:null},A=I!==null?I.baseLanes:b,Ye(Vc,Hi),Hi|=A;else return h=I!==null?I.baseLanes|b:b,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null},p.updateQueue=null,Ye(Vc,Hi),Hi|=h,null;else I!==null?(A=I.baseLanes|b,p.memoizedState=null):A=b,Ye(Vc,Hi),Hi|=A;return ci(h,p,C,b),p.child}function DR(h,p){var b=p.ref;(h===null&&b!==null||h!==null&&h.ref!==b)&&(p.flags|=512,p.flags|=2097152)}function YS(h,p,b,A,C){var I=Ln(b)?cn:Et.current;return I=qn(p,I),Nc(p,C),b=VS(h,p,b,A,I,C),A=HS(),h!==null&&!Vi?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~C,qa(h,p,C)):(Nn&&A&&IS(p),p.flags|=1,ci(h,p,b,C),p.child)}function kR(h,p,b,A,C){if(Ln(b)){var I=!0;kt(p)}else I=!1;if(Nc(p,C),p.stateNode===null)h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),KO(p,b,A),RS(p,b,A,C),A=!0;else if(h===null){var Q=p.stateNode,ue=p.memoizedProps;Q.props=ue;var Ee=Q.context,We=b.contextType;typeof We=="object"&&We!==null?We=co(We):(We=Ln(b)?cn:Et.current,We=qn(p,We));var pt=b.getDerivedStateFromProps,Lt=typeof pt=="function"||typeof Q.getSnapshotBeforeUpdate=="function";Lt||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ue!==A||Ee!==We)&&ZO(p,Q,A,We),Us=!1;var bt=p.memoizedState;Q.state=bt,ov(p,A,Q,C),Ee=p.memoizedState,ue!==A||bt!==Ee||Pt.current||Us?(typeof pt=="function"&&(OS(p,b,pt,A),Ee=p.memoizedState),(ue=Us||YO(p,b,ue,A,bt,Ee,We))?(Lt||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(p.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=A,p.memoizedState=Ee),Q.props=A,Q.state=Ee,Q.context=We,A=ue):(typeof Q.componentDidMount=="function"&&(p.flags|=4194308),A=!1)}else{Q=p.stateNode,WO(h,p),ue=p.memoizedProps,We=p.type===p.elementType?ue:Bo(p.type,ue),Q.props=We,Lt=p.pendingProps,bt=Q.context,Ee=b.contextType,typeof Ee=="object"&&Ee!==null?Ee=co(Ee):(Ee=Ln(b)?cn:Et.current,Ee=qn(p,Ee));var yn=b.getDerivedStateFromProps;(pt=typeof yn=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ue!==Lt||bt!==Ee)&&ZO(p,Q,A,Ee),Us=!1,bt=p.memoizedState,Q.state=bt,ov(p,A,Q,C);var yt=p.memoizedState;ue!==Lt||bt!==yt||Pt.current||Us?(typeof yn=="function"&&(OS(p,b,yn,A),yt=p.memoizedState),(We=Us||YO(p,b,We,A,bt,yt,Ee)||!1)?(pt||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(A,yt,Ee),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(A,yt,Ee)),typeof Q.componentDidUpdate=="function"&&(p.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof Q.componentDidUpdate!="function"||ue===h.memoizedProps&&bt===h.memoizedState||(p.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ue===h.memoizedProps&&bt===h.memoizedState||(p.flags|=1024),p.memoizedProps=A,p.memoizedState=yt),Q.props=A,Q.state=yt,Q.context=Ee,A=We):(typeof Q.componentDidUpdate!="function"||ue===h.memoizedProps&&bt===h.memoizedState||(p.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ue===h.memoizedProps&&bt===h.memoizedState||(p.flags|=1024),A=!1)}return KS(h,p,b,A,I,C)}function KS(h,p,b,A,C,I){DR(h,p);var Q=(p.flags&128)!==0;if(!A&&!Q)return C&&Yt(p,b,!1),qa(h,p,I);A=p.stateNode,TG.current=p;var ue=Q&&typeof b.getDerivedStateFromError!="function"?null:A.render();return p.flags|=1,h!==null&&Q?(p.child=Fc(p,h.child,null,I),p.child=Fc(p,null,ue,I)):ci(h,p,ue,I),p.memoizedState=A.state,C&&Yt(p,b,!0),p.child}function UR(h){var p=h.stateNode;p.pendingContext?Wt(h,p.pendingContext,p.pendingContext!==p.context):p.context&&Wt(h,p.context,!1),US(h,p.containerInfo)}function FR(h,p,b,A,C){return Uc(),kS(C),p.flags|=256,ci(h,p,b,A),p.child}var _v={dehydrated:null,treeContext:null,retryLane:0};function Sv(h){return{baseLanes:h,cachePool:null}}function BR(h,p,b){var A=p.pendingProps,C=Bn.current,I=!1,Q=(p.flags&128)!==0,ue;if((ue=Q)||(ue=h!==null&&h.memoizedState===null?!1:(C&2)!==0),ue?(I=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(C|=1),Ye(Bn,C&1),h===null)return DS(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(p.mode&1?Kl(h)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(C=A.children,h=A.fallback,I?(A=p.mode,I=p.child,C={mode:"hidden",children:C},!(A&1)&&I!==null?(I.childLanes=0,I.pendingProps=C):I=jv(C,A,0,null),h=au(h,A,b,null),I.return=p,h.return=p,I.sibling=h,p.child=I,p.child.memoizedState=Sv(b),p.memoizedState=_v,h):ZS(p,C));if(C=h.memoizedState,C!==null){if(ue=C.dehydrated,ue!==null){if(Q)return p.flags&256?(p.flags&=-257,bv(h,p,b,Error(a(422)))):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(I=A.fallback,C=p.mode,A=jv({mode:"visible",children:A.children},C,0,null),I=au(I,C,b,null),I.flags|=2,A.return=p,I.return=p,A.sibling=I,p.child=A,p.mode&1&&Fc(p,h.child,null,b),p.child.memoizedState=Sv(b),p.memoizedState=_v,I);if(!(p.mode&1))p=bv(h,p,b,null);else if(Kl(ue))p=bv(h,p,b,Error(a(419)));else if(A=(b&h.childLanes)!==0,Vi||A){if(A=lr,A!==null){switch(b&-b){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}A=I&(A.suspendedLanes|b)?0:I,A!==0&&A!==C.retryLane&&(C.retryLane=A,go(h,A,-1))}vb(),p=bv(h,p,b,Error(a(421)))}else ca(ue)?(p.flags|=128,p.child=h.child,p=zG.bind(null,h),lo(ue,p),p=null):(b=C.treeContext,Ae&&(ji=Ic(ue),zi=p,Nn=!0,zo=null,gd=!1,b!==null&&(fo[ho++]=Wa,fo[ho++]=Ga,fo[ho++]=Jl,Wa=b.id,Ga=b.overflow,Jl=p)),p=ZS(p,p.pendingProps.children),p.flags|=4096);return p}return I?(A=jR(h,p,A.children,A.fallback,b),I=p.child,C=h.child.memoizedState,I.memoizedState=C===null?Sv(b):{baseLanes:C.baseLanes|b,cachePool:null},I.childLanes=h.childLanes&~b,p.memoizedState=_v,A):(b=zR(h,p,A.children,b),p.memoizedState=null,b)}return I?(A=jR(h,p,A.children,A.fallback,b),I=p.child,C=h.child.memoizedState,I.memoizedState=C===null?Sv(b):{baseLanes:C.baseLanes|b,cachePool:null},I.childLanes=h.childLanes&~b,p.memoizedState=_v,A):(b=zR(h,p,A.children,b),p.memoizedState=null,b)}function ZS(h,p){return p=jv({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function zR(h,p,b,A){var C=h.child;return h=C.sibling,b=Hs(C,{mode:"visible",children:b}),!(p.mode&1)&&(b.lanes=A),b.return=p,b.sibling=null,h!==null&&(A=p.deletions,A===null?(p.deletions=[h],p.flags|=16):A.push(h)),p.child=b}function jR(h,p,b,A,C){var I=p.mode;h=h.child;var Q=h.sibling,ue={mode:"hidden",children:b};return!(I&1)&&p.child!==h?(b=p.child,b.childLanes=0,b.pendingProps=ue,p.deletions=null):(b=Hs(h,ue),b.subtreeFlags=h.subtreeFlags&14680064),Q!==null?A=Hs(Q,A):(A=au(A,I,C,null),A.flags|=2),A.return=p,b.return=p,b.sibling=A,p.child=b,A}function bv(h,p,b,A){return A!==null&&kS(A),Fc(p,h.child,null,b),h=ZS(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function VR(h,p,b){h.lanes|=p;var A=h.alternate;A!==null&&(A.lanes|=p),PS(h.return,p,b)}function JS(h,p,b,A,C){var I=h.memoizedState;I===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:A,tail:b,tailMode:C}:(I.isBackwards=p,I.rendering=null,I.renderingStartTime=0,I.last=A,I.tail=b,I.tailMode=C)}function HR(h,p,b){var A=p.pendingProps,C=A.revealOrder,I=A.tail;if(ci(h,p,A.children,b),A=Bn.current,A&2)A=A&1|2,p.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&VR(h,b,p);else if(h.tag===19)VR(h,b,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}A&=1}if(Ye(Bn,A),!(p.mode&1))p.memoizedState=null;else switch(C){case"forwards":for(b=p.child,C=null;b!==null;)h=b.alternate,h!==null&&cv(h)===null&&(C=b),b=b.sibling;b=C,b===null?(C=p.child,p.child=null):(C=b.sibling,b.sibling=null),JS(p,!1,C,b,I);break;case"backwards":for(b=null,C=p.child,p.child=null;C!==null;){if(h=C.alternate,h!==null&&cv(h)===null){p.child=C;break}h=C.sibling,C.sibling=b,b=C,C=h}JS(p,!0,b,null,I);break;case"together":JS(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function qa(h,p,b){if(h!==null&&(p.dependencies=h.dependencies),Hc|=p.lanes,!(b&p.childLanes))return null;if(h!==null&&p.child!==h.child)throw Error(a(153));if(p.child!==null){for(h=p.child,b=Hs(h,h.pendingProps),p.child=b,b.return=p;h.sibling!==null;)h=h.sibling,b=b.sibling=Hs(h,h.pendingProps),b.return=p;b.sibling=null}return p.child}function PG(h,p,b){switch(p.tag){case 3:UR(p),Uc();break;case 5:oR(p);break;case 1:Ln(p.type)&&kt(p);break;case 4:US(p,p.stateNode.containerInfo);break;case 10:$O(p,p.type._context,p.memoizedProps.value);break;case 13:var A=p.memoizedState;if(A!==null)return A.dehydrated!==null?(Ye(Bn,Bn.current&1),p.flags|=128,null):b&p.child.childLanes?BR(h,p,b):(Ye(Bn,Bn.current&1),h=qa(h,p,b),h!==null?h.sibling:null);Ye(Bn,Bn.current&1);break;case 19:if(A=(b&p.childLanes)!==0,h.flags&128){if(A)return HR(h,p,b);p.flags|=128}var C=p.memoizedState;if(C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Ye(Bn,Bn.current),A)break;return null;case 22:case 23:return p.lanes=0,NR(h,p,b)}return qa(h,p,b)}function CG(h,p){switch(LS(p),p.tag){case 1:return Ln(p.type)&&Qt(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return zc(),lt(Pt),lt(Et),zS(),h=p.flags,h&65536&&!(h&128)?(p.flags=h&-65537|128,p):null;case 5:return FS(p),null;case 13:if(lt(Bn),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(a(340));Uc()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return lt(Bn),null;case 4:return zc(),null;case 10:return TS(p.type._context),null;case 22:case 23:return gb(),null;case 24:return null;default:return null}}var wv=!1,tu=!1,OG=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Mv(h,p){var b=h.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(A){Ci(h,p,A)}else b.current=null}function QS(h,p,b){try{b()}catch(A){Ci(h,p,A)}}var $R=!1;function RG(h,p){for(q(h.containerInfo),Qe=p;Qe!==null;)if(h=Qe,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,Qe=p;else for(;Qe!==null;){h=Qe;try{var b=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var A=b.memoizedProps,C=b.memoizedState,I=h.stateNode,Q=I.getSnapshotBeforeUpdate(h.elementType===h.type?A:Bo(h.type,A),C);I.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:De&&Be(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ue){Ci(h,h.return,ue)}if(p=h.sibling,p!==null){p.return=h.return,Qe=p;break}Qe=h.return}return b=$R,$R=!1,b}function nu(h,p,b){var A=p.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var C=A=A.next;do{if((C.tag&h)===h){var I=C.destroy;C.destroy=void 0,I!==void 0&&QS(p,b,I)}C=C.next}while(C!==A)}}function Pd(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&h)===h){var A=b.create;b.destroy=A()}b=b.next}while(b!==p)}}function eb(h){var p=h.ref;if(p!==null){var b=h.stateNode;switch(h.tag){case 5:h=$(b);break;default:h=b}typeof p=="function"?p(h):p.current=h}}function WR(h,p,b){if(ha&&typeof ha.onCommitFiberUnmount=="function")try{ha.onCommitFiberUnmount(Qg,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(h=p.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var A=h=h.next;do{var C=A,I=C.destroy;C=C.tag,I!==void 0&&(C&2||C&4)&&QS(p,b,I),A=A.next}while(A!==h)}break;case 1:if(Mv(p,b),h=p.stateNode,typeof h.componentWillUnmount=="function")try{h.props=p.memoizedProps,h.state=p.memoizedState,h.componentWillUnmount()}catch(Q){Ci(p,b,Q)}break;case 5:Mv(p,b);break;case 4:De?ZR(h,p,b):V&&V&&(p=p.stateNode.containerInfo,b=ut(p),Xt(p,b))}}function GR(h,p,b){for(var A=p;;)if(WR(h,A,b),A.child===null||De&&A.tag===4){if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function XR(h){var p=h.alternate;p!==null&&(h.alternate=null,XR(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&Je(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function qR(h){return h.tag===5||h.tag===3||h.tag===4}function YR(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||qR(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function KR(h){if(De){e:{for(var p=h.return;p!==null;){if(qR(p))break e;p=p.return}throw Error(a(160))}var b=p;switch(b.tag){case 5:p=b.stateNode,b.flags&32&&(Pe(p),b.flags&=-33),b=YR(h),nb(h,b,p);break;case 3:case 4:p=b.stateNode.containerInfo,b=YR(h),tb(h,b,p);break;default:throw Error(a(161))}}}function tb(h,p,b){var A=h.tag;if(A===5||A===6)h=h.stateNode,p?it(b,h,p):Mt(b,h);else if(A!==4&&(h=h.child,h!==null))for(tb(h,p,b),h=h.sibling;h!==null;)tb(h,p,b),h=h.sibling}function nb(h,p,b){var A=h.tag;if(A===5||A===6)h=h.stateNode,p?_t(b,h,p):gt(b,h);else if(A!==4&&(h=h.child,h!==null))for(nb(h,p,b),h=h.sibling;h!==null;)nb(h,p,b),h=h.sibling}function ZR(h,p,b){for(var A=p,C=!1,I,Q;;){if(!C){C=A.return;e:for(;;){if(C===null)throw Error(a(160));switch(I=C.stateNode,C.tag){case 5:Q=!1;break e;case 3:I=I.containerInfo,Q=!0;break e;case 4:I=I.containerInfo,Q=!0;break e}C=C.return}C=!0}if(A.tag===5||A.tag===6)GR(h,A,b),Q?ae(I,A.stateNode):at(I,A.stateNode);else if(A.tag===18)Q?ne(I,A.stateNode):ie(I,A.stateNode);else if(A.tag===4){if(A.child!==null){I=A.stateNode.containerInfo,Q=!0,A.child.return=A,A=A.child;continue}}else if(WR(h,A,b),A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return,A.tag===4&&(C=!1)}A.sibling.return=A.return,A=A.sibling}}function rb(h,p){if(De){switch(p.tag){case 0:case 11:case 14:case 15:nu(3,p,p.return),Pd(3,p),nu(5,p,p.return);return;case 1:return;case 5:var b=p.stateNode;if(b!=null){var A=p.memoizedProps;h=h!==null?h.memoizedProps:A;var C=p.type,I=p.updateQueue;p.updateQueue=null,I!==null&&Rt(b,I,C,h,A,p)}return;case 6:if(p.stateNode===null)throw Error(a(162));b=p.memoizedProps,ke(p.stateNode,h!==null?h.memoizedProps:b,b);return;case 3:Ae&&h!==null&&h.memoizedState.isDehydrated&&X(p.stateNode.containerInfo);return;case 12:return;case 13:Ev(p);return;case 19:Ev(p);return;case 17:return}throw Error(a(163))}switch(p.tag){case 0:case 11:case 14:case 15:nu(3,p,p.return),Pd(3,p),nu(5,p,p.return);return;case 12:return;case 13:Ev(p);return;case 19:Ev(p);return;case 3:Ae&&h!==null&&h.memoizedState.isDehydrated&&X(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(V){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,Xt(p.containerInfo,p.pendingChildren);break e}throw Error(a(163))}}function Ev(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var b=h.stateNode;b===null&&(b=h.stateNode=new OG),p.forEach(function(A){var C=jG.bind(null,h,A);b.has(A)||(b.add(A),A.then(C,C))})}}function IG(h,p){for(Qe=p;Qe!==null;){p=Qe;var b=p.deletions;if(b!==null)for(var A=0;A<b.length;A++){var C=b[A];try{var I=h;De?ZR(I,C,p):GR(I,C,p);var Q=C.alternate;Q!==null&&(Q.return=null),C.return=null}catch(vt){Ci(C,p,vt)}}if(b=p.child,p.subtreeFlags&12854&&b!==null)b.return=p,Qe=b;else for(;Qe!==null;){p=Qe;try{var ue=p.flags;if(ue&32&&De&&Pe(p.stateNode),ue&512){var Ee=p.alternate;if(Ee!==null){var We=Ee.ref;We!==null&&(typeof We=="function"?We(null):We.current=null)}}if(ue&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var pt=p.alternate;(pt===null||pt.memoizedState===null)&&(cb=Er())}break;case 22:var Lt=p.memoizedState!==null,bt=p.alternate,yn=bt!==null&&bt.memoizedState!==null;if(b=p,De){e:if(A=b,C=Lt,I=null,De)for(var yt=A;;){if(yt.tag===5){if(I===null){I=yt;var Wr=yt.stateNode;C?He(Wr):Ie(yt.stateNode,yt.memoizedProps)}}else if(yt.tag===6){if(I===null){var yo=yt.stateNode;C?et(yo):ee(yo,yt.memoizedProps)}}else if((yt.tag!==22&&yt.tag!==23||yt.memoizedState===null||yt===A)&&yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===A)break;for(;yt.sibling===null;){if(yt.return===null||yt.return===A)break e;I===yt&&(I=null),yt=yt.return}I===yt&&(I=null),yt.sibling.return=yt.return,yt=yt.sibling}}if(Lt&&!yn&&b.mode&1){Qe=b;for(var ge=b.child;ge!==null;){for(b=Qe=ge;Qe!==null;){A=Qe;var ce=A.child;switch(A.tag){case 0:case 11:case 14:case 15:nu(4,A,A.return);break;case 1:Mv(A,A.return);var Se=A.stateNode;if(typeof Se.componentWillUnmount=="function"){var tt=A.return;try{Se.props=A.memoizedProps,Se.state=A.memoizedState,Se.componentWillUnmount()}catch(vt){Ci(A,tt,vt)}}break;case 5:Mv(A,A.return);break;case 22:if(A.memoizedState!==null){eI(b);continue}}ce!==null?(ce.return=A,Qe=ce):eI(b)}ge=ge.sibling}}}switch(ue&4102){case 2:KR(p),p.flags&=-3;break;case 6:KR(p),p.flags&=-3,rb(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,rb(p.alternate,p);break;case 4:rb(p.alternate,p)}}catch(vt){Ci(p,p.return,vt)}if(b=p.sibling,b!==null){b.return=p.return,Qe=b;break}Qe=p.return}}}function LG(h,p,b){Qe=h,JR(h)}function JR(h,p,b){for(var A=(h.mode&1)!==0;Qe!==null;){var C=Qe,I=C.child;if(C.tag===22&&A){var Q=C.memoizedState!==null||wv;if(!Q){var ue=C.alternate,Ee=ue!==null&&ue.memoizedState!==null||tu;ue=wv;var We=tu;if(wv=Q,(tu=Ee)&&!We)for(Qe=C;Qe!==null;)Q=Qe,Ee=Q.child,Q.tag===22&&Q.memoizedState!==null?tI(C):Ee!==null?(Ee.return=Q,Qe=Ee):tI(C);for(;I!==null;)Qe=I,JR(I),I=I.sibling;Qe=C,wv=ue,tu=We}QR(h)}else C.subtreeFlags&8772&&I!==null?(I.return=C,Qe=I):QR(h)}}function QR(h){for(;Qe!==null;){var p=Qe;if(p.flags&8772){var b=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:tu||Pd(5,p);break;case 1:var A=p.stateNode;if(p.flags&4&&!tu)if(b===null)A.componentDidMount();else{var C=p.elementType===p.type?b.memoizedProps:Bo(p.type,b.memoizedProps);A.componentDidUpdate(C,b.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var I=p.updateQueue;I!==null&&XO(p,I,A);break;case 3:var Q=p.updateQueue;if(Q!==null){if(b=null,p.child!==null)switch(p.child.tag){case 5:b=$(p.child.stateNode);break;case 1:b=p.child.stateNode}XO(p,Q,b)}break;case 5:var ue=p.stateNode;b===null&&p.flags&4&&$t(ue,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(Ae&&p.memoizedState===null){var Ee=p.alternate;if(Ee!==null){var We=Ee.memoizedState;if(We!==null){var pt=We.dehydrated;pt!==null&&J(pt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}tu||p.flags&512&&eb(p)}catch(Lt){Ci(p,p.return,Lt)}}if(p===h){Qe=null;break}if(b=p.sibling,b!==null){b.return=p.return,Qe=b;break}Qe=p.return}}function eI(h){for(;Qe!==null;){var p=Qe;if(p===h){Qe=null;break}var b=p.sibling;if(b!==null){b.return=p.return,Qe=b;break}Qe=p.return}}function tI(h){for(;Qe!==null;){var p=Qe;try{switch(p.tag){case 0:case 11:case 15:var b=p.return;try{Pd(4,p)}catch(Ee){Ci(p,b,Ee)}break;case 1:var A=p.stateNode;if(typeof A.componentDidMount=="function"){var C=p.return;try{A.componentDidMount()}catch(Ee){Ci(p,C,Ee)}}var I=p.return;try{eb(p)}catch(Ee){Ci(p,I,Ee)}break;case 5:var Q=p.return;try{eb(p)}catch(Ee){Ci(p,Q,Ee)}}}catch(Ee){Ci(p,p.return,Ee)}if(p===h){Qe=null;break}var ue=p.sibling;if(ue!==null){ue.return=p.return,Qe=ue;break}Qe=p.return}}var Av=0,Tv=1,Pv=2,Cv=3,Ov=4;if(typeof Symbol=="function"&&Symbol.for){var Cd=Symbol.for;Av=Cd("selector.component"),Tv=Cd("selector.has_pseudo_class"),Pv=Cd("selector.role"),Cv=Cd("selector.test_id"),Ov=Cd("selector.text")}function ib(h){var p=de(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(a(364));return p}if(h=he(h),h===null)throw Error(a(362));return h.stateNode.current}function ob(h,p){switch(p.$$typeof){case Av:if(h.type===p.value)return!0;break;case Tv:e:{p=p.value,h=[h,0];for(var b=0;b<h.length;){var A=h[b++],C=h[b++],I=p[C];if(A.tag!==5||!Oe(A)){for(;I!=null&&ob(A,I);)C++,I=p[C];if(C===p.length){p=!0;break e}else for(A=A.child;A!==null;)h.push(A,C),A=A.sibling}}p=!1}return p;case Pv:if(h.tag===5&&nt(h.stateNode,p.value))return!0;break;case Ov:if((h.tag===5||h.tag===6)&&(h=Le(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case Cv:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function ab(h){switch(h.$$typeof){case Av:return"<"+(T(h.value)||"Unknown")+">";case Tv:return":has("+(ab(h)||"")+")";case Pv:return'[role="'+h.value+'"]';case Ov:return'"'+h.value+'"';case Cv:return'[data-testname="'+h.value+'"]';default:throw Error(a(365))}}function nI(h,p){var b=[];h=[h,0];for(var A=0;A<h.length;){var C=h[A++],I=h[A++],Q=p[I];if(C.tag!==5||!Oe(C)){for(;Q!=null&&ob(C,Q);)I++,Q=p[I];if(I===p.length)b.push(C);else for(C=C.child;C!==null;)h.push(C,I),C=C.sibling}}return b}function sb(h,p){if(!z)throw Error(a(363));h=ib(h),h=nI(h,p),p=[],h=Array.from(h);for(var b=0;b<h.length;){var A=h[b++];if(A.tag===5)Oe(A)||p.push(A.stateNode);else for(A=A.child;A!==null;)h.push(A),A=A.sibling}return p}var NG=Math.ceil,Rv=s.ReactCurrentDispatcher,lb=s.ReactCurrentOwner,nr=s.ReactCurrentBatchConfig,Ht=0,lr=null,ur=null,Nr=0,Hi=0,Vc=Ot(0),mr=0,Od=null,Hc=0,Iv=0,ub=0,Rd=null,Ti=null,cb=0,fb=1/0;function $c(){fb=Er()+500}var Lv=!1,hb=null,Bs=null,Nv=!1,zs=null,Dv=0,Id=0,db=null,kv=-1,Uv=0;function fi(){return Ht&6?Er():kv!==-1?kv:kv=Er()}function js(h){return h.mode&1?Ht&2&&Nr!==0?Nr&-Nr:gG.transition!==null?(Uv===0&&(h=Kg,Kg<<=1,!(Kg&4194240)&&(Kg=64),Uv=h),Uv):(h=rn,h!==0?h:_e()):1}function go(h,p,b){if(50<Id)throw Id=0,db=null,Error(a(185));var A=Fv(h,p);return A===null?null:(md(A,p,b),(!(Ht&2)||A!==lr)&&(A===lr&&(!(Ht&2)&&(Iv|=p),mr===4&&Vs(A,Nr)),Pi(A,b),p===1&&Ht===0&&!(h.mode&1)&&($c(),ev&&pa())),A)}function Fv(h,p){h.lanes|=p;var b=h.alternate;for(b!==null&&(b.lanes|=p),b=h,h=h.return;h!==null;)h.childLanes|=p,b=h.alternate,b!==null&&(b.childLanes|=p),b=h,h=h.return;return b.tag===3?b.stateNode:null}function Pi(h,p){var b=h.callbackNode;sG(h,p);var A=Jg(h,h===lr?Nr:0);if(A===0)b!==null&&VO(b),h.callbackNode=null,h.callbackPriority=0;else if(p=A&-A,h.callbackPriority!==p){if(b!=null&&VO(b),p===1)h.tag===0?mG(iI.bind(null,h)):HO(iI.bind(null,h)),Ge?W(function(){Ht===0&&pa()}):SS(bS,pa),b=null;else{switch(jO(A)){case 1:b=bS;break;case 4:b=fG;break;case 16:b=wS;break;case 536870912:b=hG;break;default:b=wS}b=dI(b,rI.bind(null,h))}h.callbackPriority=p,h.callbackNode=b}}function rI(h,p){if(kv=-1,Uv=0,Ht&6)throw Error(a(327));var b=h.callbackNode;if(ou()&&h.callbackNode!==b)return null;var A=Jg(h,h===lr?Nr:0);if(A===0)return null;if(A&30||A&h.expiredLanes||p)p=Bv(h,A);else{p=A;var C=Ht;Ht|=2;var I=sI();(lr!==h||Nr!==p)&&($c(),ru(h,p));do try{UG();break}catch(ue){aI(h,ue)}while(!0);AS(),Rv.current=I,Ht=C,ur!==null?p=0:(lr=null,Nr=0,p=mr)}if(p!==0){if(p===2&&(C=yS(h),C!==0&&(A=C,p=pb(h,C))),p===1)throw b=Od,ru(h,0),Vs(h,A),Pi(h,Er()),b;if(p===6)Vs(h,A);else{if(C=h.current.alternate,!(A&30)&&!DG(C)&&(p=Bv(h,A),p===2&&(I=yS(h),I!==0&&(A=I,p=pb(h,I))),p===1))throw b=Od,ru(h,0),Vs(h,A),Pi(h,Er()),b;switch(h.finishedWork=C,h.finishedLanes=A,p){case 0:case 1:throw Error(a(345));case 2:iu(h,Ti);break;case 3:if(Vs(h,A),(A&130023424)===A&&(p=cb+500-Er(),10<p)){if(Jg(h,0)!==0)break;if(C=h.suspendedLanes,(C&A)!==A){fi(),h.pingedLanes|=h.suspendedLanes&C;break}h.timeoutHandle=ze(iu.bind(null,h,Ti),p);break}iu(h,Ti);break;case 4:if(Vs(h,A),(A&4194240)===A)break;for(p=h.eventTimes,C=-1;0<A;){var Q=31-bn(A);I=1<<Q,Q=p[Q],Q>C&&(C=Q),A&=~I}if(A=C,A=Er()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*NG(A/1960))-A,10<A){h.timeoutHandle=ze(iu.bind(null,h,Ti),A);break}iu(h,Ti);break;case 5:iu(h,Ti);break;default:throw Error(a(329))}}}return Pi(h,Er()),h.callbackNode===b?rI.bind(null,h):null}function pb(h,p){var b=Rd;return h.current.memoizedState.isDehydrated&&(ru(h,p).flags|=256),h=Bv(h,p),h!==2&&(p=Ti,Ti=b,p!==null&&mb(p)),h}function mb(h){Ti===null?Ti=h:Ti.push.apply(Ti,h)}function DG(h){for(var p=h;;){if(p.flags&16384){var b=p.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var A=0;A<b.length;A++){var C=b[A],I=C.getSnapshot;C=C.value;try{if(!da(I(),C))return!1}catch{return!1}}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Vs(h,p){for(p&=~ub,p&=~Iv,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var b=31-bn(p),A=1<<b;h[b]=-1,p&=~A}}function iI(h){if(Ht&6)throw Error(a(327));ou();var p=Jg(h,0);if(!(p&1))return Pi(h,Er()),null;var b=Bv(h,p);if(h.tag!==0&&b===2){var A=yS(h);A!==0&&(p=A,b=pb(h,A))}if(b===1)throw b=Od,ru(h,0),Vs(h,p),Pi(h,Er()),b;if(b===6)throw Error(a(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,iu(h,Ti),Pi(h,Er()),null}function oI(h){zs!==null&&zs.tag===0&&!(Ht&6)&&ou();var p=Ht;Ht|=1;var b=nr.transition,A=rn;try{if(nr.transition=null,rn=1,h)return h()}finally{rn=A,nr.transition=b,Ht=p,!(Ht&6)&&pa()}}function gb(){Hi=Vc.current,lt(Vc)}function ru(h,p){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;if(b!==xe&&(h.timeoutHandle=xe,Xe(b)),ur!==null)for(b=ur.return;b!==null;){var A=b;switch(LS(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Qt();break;case 3:zc(),lt(Pt),lt(Et),zS();break;case 5:FS(A);break;case 4:zc();break;case 13:lt(Bn);break;case 19:lt(Bn);break;case 10:TS(A.type._context);break;case 22:case 23:gb()}b=b.return}if(lr=h,ur=h=Hs(h.current,null),Nr=Hi=p,mr=0,Od=null,ub=Iv=Hc=0,Ti=Rd=null,ma!==null){for(p=0;p<ma.length;p++)if(b=ma[p],A=b.interleaved,A!==null){b.interleaved=null;var C=A.next,I=b.pending;if(I!==null){var Q=I.next;I.next=C,A.next=Q}b.pending=A}ma=null}return h}function aI(h,p){do{var b=ur;try{if(AS(),fv.current=vv,hv){for(var A=Yn.memoizedState;A!==null;){var C=A.queue;C!==null&&(C.pending=null),A=A.next}hv=!1}if(jc=0,Ar=Vr=Yn=null,Sd=!1,bd=0,lb.current=null,b===null||b.return===null){mr=1,Od=p,ur=null;break}e:{var I=h,Q=b.return,ue=b,Ee=p;if(p=Nr,ue.flags|=32768,Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var We=Ee,pt=ue,Lt=pt.tag;if(!(pt.mode&1)&&(Lt===0||Lt===11||Lt===15)){var bt=pt.alternate;bt?(pt.updateQueue=bt.updateQueue,pt.memoizedState=bt.memoizedState,pt.lanes=bt.lanes):(pt.updateQueue=null,pt.memoizedState=null)}var yn=TR(Q);if(yn!==null){yn.flags&=-257,PR(yn,Q,ue,I,p),yn.mode&1&&AR(I,We,p),p=yn,Ee=We;var yt=p.updateQueue;if(yt===null){var Wr=new Set;Wr.add(Ee),p.updateQueue=Wr}else yt.add(Ee);break e}else{if(!(p&1)){AR(I,We,p),vb();break e}Ee=Error(a(426))}}else if(Nn&&ue.mode&1){var yo=TR(Q);if(yo!==null){!(yo.flags&65536)&&(yo.flags|=256),PR(yo,Q,ue,I,p),kS(Ee);break e}}I=Ee,mr!==4&&(mr=2),Rd===null?Rd=[I]:Rd.push(I),Ee=XS(Ee,ue),ue=Q;do{switch(ue.tag){case 3:ue.flags|=65536,p&=-p,ue.lanes|=p;var ge=MR(ue,Ee,p);GO(ue,ge);break e;case 1:I=Ee;var ce=ue.type,Se=ue.stateNode;if(!(ue.flags&128)&&(typeof ce.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(Bs===null||!Bs.has(Se)))){ue.flags|=65536,p&=-p,ue.lanes|=p;var tt=ER(ue,I,p);GO(ue,tt);break e}}ue=ue.return}while(ue!==null)}uI(b)}catch(vt){p=vt,ur===b&&b!==null&&(ur=b=b.return);continue}break}while(!0)}function sI(){var h=Rv.current;return Rv.current=vv,h===null?vv:h}function vb(){(mr===0||mr===3||mr===2)&&(mr=4),lr===null||!(Hc&268435455)&&!(Iv&268435455)||Vs(lr,Nr)}function Bv(h,p){var b=Ht;Ht|=2;var A=sI();lr===h&&Nr===p||ru(h,p);do try{kG();break}catch(C){aI(h,C)}while(!0);if(AS(),Ht=b,Rv.current=A,ur!==null)throw Error(a(261));return lr=null,Nr=0,mr}function kG(){for(;ur!==null;)lI(ur)}function UG(){for(;ur!==null&&!uG();)lI(ur)}function lI(h){var p=hI(h.alternate,h,Hi);h.memoizedProps=h.pendingProps,p===null?uI(h):ur=p,lb.current=null}function uI(h){var p=h;do{var b=p.alternate;if(h=p.return,p.flags&32768){if(b=CG(b,p),b!==null){b.flags&=32767,ur=b;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{mr=6,ur=null;return}}else if(b=AG(b,p,Hi),b!==null){ur=b;return}if(p=p.sibling,p!==null){ur=p;return}ur=p=h}while(p!==null);mr===0&&(mr=5)}function iu(h,p){var b=rn,A=nr.transition;try{nr.transition=null,rn=1,FG(h,p,b)}finally{nr.transition=A,rn=b}return null}function FG(h,p,b){do ou();while(zs!==null);if(Ht&6)throw Error(a(327));var A=h.finishedWork,C=h.finishedLanes;if(A===null)return null;if(h.finishedWork=null,h.finishedLanes=0,A===h.current)throw Error(a(177));h.callbackNode=null,h.callbackPriority=0;var I=A.lanes|A.childLanes;if(lG(h,I),h===lr&&(ur=lr=null,Nr=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||Nv||(Nv=!0,dI(wS,function(){return ou(),null})),I=(A.flags&15990)!==0,A.subtreeFlags&15990||I){I=nr.transition,nr.transition=null;var Q=rn;rn=1;var ue=Ht;Ht|=4,lb.current=null,RG(h,A),IG(h,A),Z(h.containerInfo),h.current=A,LG(A),cG(),Ht=ue,rn=Q,nr.transition=I}else h.current=A;if(Nv&&(Nv=!1,zs=h,Dv=C),I=h.pendingLanes,I===0&&(Bs=null),dG(A.stateNode),Pi(h,Er()),p!==null)for(b=h.onRecoverableError,A=0;A<p.length;A++)b(p[A]);if(Lv)throw Lv=!1,h=hb,hb=null,h;return Dv&1&&h.tag!==0&&ou(),I=h.pendingLanes,I&1?h===db?Id++:(Id=0,db=h):Id=0,pa(),null}function ou(){if(zs!==null){var h=jO(Dv),p=nr.transition,b=rn;try{if(nr.transition=null,rn=16>h?16:h,zs===null)var A=!1;else{if(h=zs,zs=null,Dv=0,Ht&6)throw Error(a(331));var C=Ht;for(Ht|=4,Qe=h.current;Qe!==null;){var I=Qe,Q=I.child;if(Qe.flags&16){var ue=I.deletions;if(ue!==null){for(var Ee=0;Ee<ue.length;Ee++){var We=ue[Ee];for(Qe=We;Qe!==null;){var pt=Qe;switch(pt.tag){case 0:case 11:case 15:nu(8,pt,I)}var Lt=pt.child;if(Lt!==null)Lt.return=pt,Qe=Lt;else for(;Qe!==null;){pt=Qe;var bt=pt.sibling,yn=pt.return;if(XR(pt),pt===We){Qe=null;break}if(bt!==null){bt.return=yn,Qe=bt;break}Qe=yn}}}var yt=I.alternate;if(yt!==null){var Wr=yt.child;if(Wr!==null){yt.child=null;do{var yo=Wr.sibling;Wr.sibling=null,Wr=yo}while(Wr!==null)}}Qe=I}}if(I.subtreeFlags&2064&&Q!==null)Q.return=I,Qe=Q;else e:for(;Qe!==null;){if(I=Qe,I.flags&2048)switch(I.tag){case 0:case 11:case 15:nu(9,I,I.return)}var ge=I.sibling;if(ge!==null){ge.return=I.return,Qe=ge;break e}Qe=I.return}}var ce=h.current;for(Qe=ce;Qe!==null;){Q=Qe;var Se=Q.child;if(Q.subtreeFlags&2064&&Se!==null)Se.return=Q,Qe=Se;else e:for(Q=ce;Qe!==null;){if(ue=Qe,ue.flags&2048)try{switch(ue.tag){case 0:case 11:case 15:Pd(9,ue)}}catch(vt){Ci(ue,ue.return,vt)}if(ue===Q){Qe=null;break e}var tt=ue.sibling;if(tt!==null){tt.return=ue.return,Qe=tt;break e}Qe=ue.return}}if(Ht=C,pa(),ha&&typeof ha.onPostCommitFiberRoot=="function")try{ha.onPostCommitFiberRoot(Qg,h)}catch{}A=!0}return A}finally{rn=b,nr.transition=p}}return!1}function cI(h,p,b){p=XS(b,p),p=MR(h,p,1),Fs(h,p),p=fi(),h=Fv(h,1),h!==null&&(md(h,1,p),Pi(h,p))}function Ci(h,p,b){if(h.tag===3)cI(h,h,b);else for(;p!==null;){if(p.tag===3){cI(p,h,b);break}else if(p.tag===1){var A=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Bs===null||!Bs.has(A))){h=XS(b,h),h=ER(p,h,1),Fs(p,h),h=fi(),p=Fv(p,1),p!==null&&(md(p,1,h),Pi(p,h));break}}p=p.return}}function BG(h,p,b){var A=h.pingCache;A!==null&&A.delete(p),p=fi(),h.pingedLanes|=h.suspendedLanes&b,lr===h&&(Nr&b)===b&&(mr===4||mr===3&&(Nr&130023424)===Nr&&500>Er()-cb?ru(h,0):ub|=b),Pi(h,p)}function fI(h,p){p===0&&(h.mode&1?(p=Zg,Zg<<=1,!(Zg&130023424)&&(Zg=4194304)):p=1);var b=fi();h=Fv(h,p),h!==null&&(md(h,p,b),Pi(h,b))}function zG(h){var p=h.memoizedState,b=0;p!==null&&(b=p.retryLane),fI(h,b)}function jG(h,p){var b=0;switch(h.tag){case 13:var A=h.stateNode,C=h.memoizedState;C!==null&&(b=C.retryLane);break;case 19:A=h.stateNode;break;default:throw Error(a(314))}A!==null&&A.delete(p),fI(h,b)}var hI;hI=function(h,p,b){if(h!==null)if(h.memoizedProps!==p.pendingProps||Pt.current)Vi=!0;else{if(!(h.lanes&b)&&!(p.flags&128))return Vi=!1,PG(h,p,b);Vi=!!(h.flags&131072)}else Vi=!1,Nn&&p.flags&1048576&&JO(p,lv,p.index);switch(p.lanes=0,p.tag){case 2:var A=p.type;h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps;var C=qn(p,Et.current);Nc(p,b),C=VS(null,p,A,h,C,b);var I=HS();return p.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Ln(A)?(I=!0,kt(p)):I=!1,p.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,CS(p),C.updater=av,p.stateNode=C,C._reactInternals=p,RS(p,A,h,b),p=KS(null,p,A,!0,I,b)):(p.tag=0,Nn&&I&&IS(p),ci(null,p,C,b),p=p.child),p;case 16:A=p.elementType;e:{switch(h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps,C=A._init,A=C(A._payload),p.type=A,C=p.tag=HG(A),h=Bo(A,h),C){case 0:p=YS(null,p,A,h,b);break e;case 1:p=kR(null,p,A,h,b);break e;case 11:p=RR(null,p,A,h,b);break e;case 14:p=IR(null,p,A,Bo(A.type,h),b);break e}throw Error(a(306,A,""))}return p;case 0:return A=p.type,C=p.pendingProps,C=p.elementType===A?C:Bo(A,C),YS(h,p,A,C,b);case 1:return A=p.type,C=p.pendingProps,C=p.elementType===A?C:Bo(A,C),kR(h,p,A,C,b);case 3:e:{if(UR(p),h===null)throw Error(a(387));A=p.pendingProps,I=p.memoizedState,C=I.element,WO(h,p),ov(p,A,null,b);var Q=p.memoizedState;if(A=Q.element,Ae&&I.isDehydrated)if(I={element:A,isDehydrated:!1,cache:Q.cache,transitions:Q.transitions},p.updateQueue.baseState=I,p.memoizedState=I,p.flags&256){C=Error(a(423)),p=FR(h,p,A,b,C);break e}else if(A!==C){C=Error(a(424)),p=FR(h,p,A,b,C);break e}else for(Ae&&(ji=Zl(p.stateNode.containerInfo),zi=p,Nn=!0,zo=null,gd=!1),b=iR(p,null,A,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Uc(),A===C){p=qa(h,p,b);break e}ci(h,p,A,b)}p=p.child}return p;case 5:return oR(p),h===null&&DS(p),A=p.type,C=p.pendingProps,I=h!==null?h.memoizedProps:null,Q=C.children,pe(A,C)?Q=null:I!==null&&pe(A,I)&&(p.flags|=32),DR(h,p),ci(h,p,Q,b),p.child;case 6:return h===null&&DS(p),null;case 13:return BR(h,p,b);case 4:return US(p,p.stateNode.containerInfo),A=p.pendingProps,h===null?p.child=Fc(p,null,A,b):ci(h,p,A,b),p.child;case 11:return A=p.type,C=p.pendingProps,C=p.elementType===A?C:Bo(A,C),RR(h,p,A,C,b);case 7:return ci(h,p,p.pendingProps,b),p.child;case 8:return ci(h,p,p.pendingProps.children,b),p.child;case 12:return ci(h,p,p.pendingProps.children,b),p.child;case 10:e:{if(A=p.type._context,C=p.pendingProps,I=p.memoizedProps,Q=C.value,$O(p,A,Q),I!==null)if(da(I.value,Q)){if(I.children===C.children&&!Pt.current){p=qa(h,p,b);break e}}else for(I=p.child,I!==null&&(I.return=p);I!==null;){var ue=I.dependencies;if(ue!==null){Q=I.child;for(var Ee=ue.firstContext;Ee!==null;){if(Ee.context===A){if(I.tag===1){Ee=$a(-1,b&-b),Ee.tag=2;var We=I.updateQueue;if(We!==null){We=We.shared;var pt=We.pending;pt===null?Ee.next=Ee:(Ee.next=pt.next,pt.next=Ee),We.pending=Ee}}I.lanes|=b,Ee=I.alternate,Ee!==null&&(Ee.lanes|=b),PS(I.return,b,p),ue.lanes|=b;break}Ee=Ee.next}}else if(I.tag===10)Q=I.type===p.type?null:I.child;else if(I.tag===18){if(Q=I.return,Q===null)throw Error(a(341));Q.lanes|=b,ue=Q.alternate,ue!==null&&(ue.lanes|=b),PS(Q,b,p),Q=I.sibling}else Q=I.child;if(Q!==null)Q.return=I;else for(Q=I;Q!==null;){if(Q===p){Q=null;break}if(I=Q.sibling,I!==null){I.return=Q.return,Q=I;break}Q=Q.return}I=Q}ci(h,p,C.children,b),p=p.child}return p;case 9:return C=p.type,A=p.pendingProps.children,Nc(p,b),C=co(C),A=A(C),p.flags|=1,ci(h,p,A,b),p.child;case 14:return A=p.type,C=Bo(A,p.pendingProps),C=Bo(A.type,C),IR(h,p,A,C,b);case 15:return LR(h,p,p.type,p.pendingProps,b);case 17:return A=p.type,C=p.pendingProps,C=p.elementType===A?C:Bo(A,C),h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Ln(A)?(h=!0,kt(p)):h=!1,Nc(p,b),KO(p,A,C),RS(p,A,C,b),KS(null,p,A,!0,h,b);case 19:return HR(h,p,b);case 22:return NR(h,p,b)}throw Error(a(156,p.tag))};function dI(h,p){return SS(h,p)}function VG(h,p,b,A){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vo(h,p,b,A){return new VG(h,p,b,A)}function yb(h){return h=h.prototype,!(!h||!h.isReactComponent)}function HG(h){if(typeof h=="function")return yb(h)?1:0;if(h!=null){if(h=h.$$typeof,h===x)return 11;if(h===_)return 14}return 2}function Hs(h,p){var b=h.alternate;return b===null?(b=vo(h.tag,p,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=p,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&14680064,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,p=h.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b}function zv(h,p,b,A,C,I){var Q=2;if(A=h,typeof h=="function")yb(h)&&(Q=1);else if(typeof h=="string")Q=5;else e:switch(h){case c:return au(b.children,C,I,p);case f:Q=8,C|=8;break;case d:return h=vo(12,b,p,C|2),h.elementType=d,h.lanes=I,h;case v:return h=vo(13,b,p,C),h.elementType=v,h.lanes=I,h;case g:return h=vo(19,b,p,C),h.elementType=g,h.lanes=I,h;case w:return jv(b,C,I,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:Q=10;break e;case y:Q=9;break e;case x:Q=11;break e;case _:Q=14;break e;case S:Q=16,A=null;break e}throw Error(a(130,h==null?h:typeof h,""))}return p=vo(Q,b,p,C),p.elementType=h,p.type=A,p.lanes=I,p}function au(h,p,b,A){return h=vo(7,h,A,p),h.lanes=b,h}function jv(h,p,b,A){return h=vo(22,h,A,p),h.elementType=w,h.lanes=b,h.stateNode={},h}function xb(h,p,b){return h=vo(6,h,null,p),h.lanes=b,h}function _b(h,p,b){return p=vo(4,h.children!==null?h.children:[],h.key,p),p.lanes=b,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function $G(h,p,b,A,C){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=xe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xS(0),this.expirationTimes=xS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xS(0),this.identifierPrefix=A,this.onRecoverableError=C,Ae&&(this.mutableSourceEagerHydrationData=null)}function pI(h,p,b,A,C,I,Q,ue,Ee){return h=new $G(h,p,b,ue,Ee),p===1?(p=1,I===!0&&(p|=8)):p=0,I=vo(3,null,null,p),h.current=I,I.stateNode=h,I.memoizedState={element:A,isDehydrated:b,cache:null,transitions:null},CS(I),h}function mI(h){if(!h)return Vt;h=h._reactInternals;e:{if(N(h)!==h||h.tag!==1)throw Error(a(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Ln(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(a(171))}if(h.tag===1){var b=h.type;if(Ln(b))return Fn(h,b,p)}return p}function gI(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(a(188)):(h=Object.keys(h).join(","),Error(a(268,h)));return h=j(p),h===null?null:h.stateNode}function vI(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<p?b:p}}function Sb(h,p){vI(h,p),(h=h.alternate)&&vI(h,p)}function WG(h){return h=j(h),h===null?null:h.stateNode}function GG(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var p=fi();go(h,134217728,p),Sb(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=fi(),b=js(h);go(h,b,p),Sb(h,b)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var b=pd(p.pendingLanes);b!==0&&(_S(p,b|1),Pi(p,Er()),!(Ht&6)&&($c(),pa()))}break;case 13:var A=fi();oI(function(){return go(h,1,A)}),Sb(h,1)}},n.batchedUpdates=function(h,p){var b=Ht;Ht|=1;try{return h(p)}finally{Ht=b,Ht===0&&($c(),ev&&pa())}},n.createComponentSelector=function(h){return{$$typeof:Av,value:h}},n.createContainer=function(h,p,b,A,C,I,Q){return pI(h,p,!1,null,b,A,C,I,Q)},n.createHasPseudoClassSelector=function(h){return{$$typeof:Tv,value:h}},n.createHydrationContainer=function(h,p,b,A,C,I,Q,ue,Ee){return h=pI(b,A,!0,h,C,I,Q,ue,Ee),h.context=mI(null),b=h.current,A=fi(),C=js(b),I=$a(A,C),I.callback=p??null,Fs(b,I),h.current.lanes=C,md(h,C,A),Pi(h,A),h},n.createPortal=function(h,p,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:A==null?null:""+A,children:h,containerInfo:p,implementation:b}},n.createRoleSelector=function(h){return{$$typeof:Pv,value:h}},n.createTestNameSelector=function(h){return{$$typeof:Cv,value:h}},n.createTextSelector=function(h){return{$$typeof:Ov,value:h}},n.deferredUpdates=function(h){var p=rn,b=nr.transition;try{return nr.transition=null,rn=16,h()}finally{rn=p,nr.transition=b}},n.discreteUpdates=function(h,p,b,A,C){var I=rn,Q=nr.transition;try{return nr.transition=null,rn=1,h(p,b,A,C)}finally{rn=I,nr.transition=Q,Ht===0&&$c()}},n.findAllNodes=sb,n.findBoundingRects=function(h,p){if(!z)throw Error(a(363));p=sb(h,p),h=[];for(var b=0;b<p.length;b++)h.push(Ne(p[b]));for(p=h.length-1;0<p;p--){b=h[p];for(var A=b.x,C=A+b.width,I=b.y,Q=I+b.height,ue=p-1;0<=ue;ue--)if(p!==ue){var Ee=h[ue],We=Ee.x,pt=We+Ee.width,Lt=Ee.y,bt=Lt+Ee.height;if(A>=We&&I>=Lt&&C<=pt&&Q<=bt){h.splice(p,1);break}else if(A!==We||b.width!==Ee.width||bt<I||Lt>Q){if(!(I!==Lt||b.height!==Ee.height||pt<A||We>C)){We>A&&(Ee.width+=We-A,Ee.x=A),pt<C&&(Ee.width=C-We),h.splice(p,1);break}}else{Lt>I&&(Ee.height+=Lt-I,Ee.y=I),bt<Q&&(Ee.height=Q-Lt),h.splice(p,1);break}}}return h},n.findHostInstance=gI,n.findHostInstanceWithNoPortals=function(h){return h=R(h),h=h!==null?F(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return gI(h)},n.flushControlled=function(h){var p=Ht;Ht|=1;var b=nr.transition,A=rn;try{nr.transition=null,rn=1,h()}finally{rn=A,nr.transition=b,Ht=p,Ht===0&&($c(),pa())}},n.flushPassiveEffects=ou,n.flushSync=oI,n.focusWithin=function(h,p){if(!z)throw Error(a(363));for(h=ib(h),p=nI(h,p),p=Array.from(p),h=0;h<p.length;){var b=p[h++];if(!Oe(b)){if(b.tag===5&&qe(b.stateNode))return!0;for(b=b.child;b!==null;)p.push(b),b=b.sibling}}return!1},n.getCurrentUpdatePriority=function(){return rn},n.getFindAllNodesFailureDescription=function(h,p){if(!z)throw Error(a(363));var b=0,A=[];h=[ib(h),0];for(var C=0;C<h.length;){var I=h[C++],Q=h[C++],ue=p[Q];if((I.tag!==5||!Oe(I))&&(ob(I,ue)&&(A.push(ab(ue)),Q++,Q>b&&(b=Q)),Q<p.length))for(I=I.child;I!==null;)h.push(I,Q),I=I.sibling}if(b<p.length){for(h=[];b<p.length;b++)h.push(ab(p[b]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return $(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:WG,findFiberByHostInstance:h.findFiberByHostInstance||GG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{Qg=p.inject(h),ha=p}catch{}h=!!p.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,p,b,A){if(!z)throw Error(a(363));h=sb(h,p);var C=rt(h,b,A).disconnect;return{disconnect:function(){C()}}},n.registerMutableSourceForHydration=function(h,p){var b=p._getVersion;b=b(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,b]:h.mutableSourceEagerHydrationData.push(p,b)},n.runWithPriority=function(h,p){var b=rn;try{return rn=h,p()}finally{rn=b}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,p,b,A){var C=p.current,I=fi(),Q=js(C);return b=mI(b),p.context===null?p.context=b:p.pendingContext=b,p=$a(I,Q),p.payload={element:h},A=A===void 0?null:A,A!==null&&(p.callback=A),Fs(C,p),h=go(C,Q,I),h!==null&&iv(h,C,Q),Q},n};CW.exports=QRe;var eIe=CW.exports;const tIe=Sn(eIe),nIe=t=>typeof t=="object"&&typeof t.then=="function",Gu=[];function IW(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function LW(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const o of Gu)if(IW(e,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=Gu.indexOf(i);o!==-1&&Gu.splice(o,1)},promise:(nIe(t)?t:t(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if(Gu.push(i),!n)throw i.promise}const rIe=(t,e,n)=>LW(t,e,!1,n),iIe=(t,e,n)=>void LW(t,e,!0,n),oIe=t=>{if(t===void 0||t.length===0)Gu.splice(0,Gu.length);else{const e=Gu.find(n=>IW(t,n.keys,n.equal));e&&e.remove()}},NO={},NW=t=>void Object.assign(NO,t);function aIe(t,e){function n(c,{args:f=[],attach:d,...m},y){let x=`${c[0].toUpperCase()}${c.slice(1)}`,v;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;v=xf(g,{type:c,root:y,attach:d,primitive:!0})}else{const g=NO[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");v=xf(new g(...f),{type:c,root:y,attach:d,memoizedProps:{args:f}})}return v.__r3f.attach===void 0&&(v instanceof Bt?v.__r3f.attach="geometry":v instanceof jr&&(v.__r3f.attach="material")),x!=="inject"&&wM(v,m),v}function r(c,f){let d=!1;if(f){var m,y;(m=f.__r3f)!=null&&m.attach?bM(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),d=!0),d||(y=c.__r3f)==null||y.objects.push(f),f.__r3f||xf(f,{}),f.__r3f.parent=c,aP(f),_f(f)}}function i(c,f,d){let m=!1;if(f){var y,x;if((y=f.__r3f)!=null&&y.attach)bM(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"});const v=c.children.filter(_=>_!==f),g=v.indexOf(d);c.children=[...v.slice(0,g),f,...v.slice(g)],m=!0}m||(x=c.__r3f)==null||x.objects.push(f),f.__r3f||xf(f,{}),f.__r3f.parent=c,aP(f),_f(f)}}function o(c,f,d=!1){c&&[...c].forEach(m=>a(f,m,d))}function a(c,f,d){if(f){var m,y,x;if(f.__r3f&&(f.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(w=>w!==f)),(y=f.__r3f)!=null&&y.attach)EB(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var v;c.remove(f),(v=f.__r3f)!=null&&v.root&&dIe(f.__r3f.root,f)}const _=(x=f.__r3f)==null?void 0:x.primitive,S=!_&&(d===void 0?f.dispose!==null:d);if(!_){var g;o((g=f.__r3f)==null?void 0:g.objects,f,S),o(f.children,f,S)}if(delete f.__r3f,S&&f.dispose&&f.type!=="Scene"){const w=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?iP.unstable_scheduleCallback(iP.unstable_IdlePriority,w):w()}_f(c)}}function s(c,f,d,m){var y;const x=(y=c.__r3f)==null?void 0:y.parent;if(!x)return;const v=n(f,d,c.__r3f.root);if(c.children){for(const g of c.children)g.__r3f&&r(v,g);c.children=c.children.filter(g=>!g.__r3f)}c.__r3f.objects.forEach(g=>r(v,g)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||a(x,c),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(x,v),v.raycast&&v.__r3f.eventCount&&v.__r3f.root.getState().internal.interaction.push(v),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=v,g.ref&&(typeof g.ref=="function"?g.ref(v):g.ref.current=v))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:tIe({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const d=c.getState().scene;d.__r3f&&(d.__r3f.root=c,r(d,f))},removeChildFromContainer:(c,f)=>{f&&a(c.getState().scene,f)},insertInContainerBefore:(c,f,d)=>{if(!f||!d)return;const m=c.getState().scene;m.__r3f&&i(m,f,d)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,d,m){var y;if(((y=c==null?void 0:c.__r3f)!=null?y:{}).primitive&&m.object&&m.object!==c)return[!0];{const{args:v=[],children:g,..._}=m,{args:S=[],children:w,...M}=d;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((T,O)=>T!==S[O]))return[!0];const E=jW(c,_,M,!0);return E.changes.length?[!1,E]:null}},commitUpdate(c,[f,d],m,y,x,v){f?s(c,m,x,v):wM(c,d)},commitMount(c,f,d,m){var y;const x=(y=c.__r3f)!=null?y:{};c.raycast&&x.handlers&&x.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>xf(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:d,parent:m}=(f=c.__r3f)!=null?f:{};d&&m&&EB(m,c,d),c.isObject3D&&(c.visible=!1),_f(c)},unhideInstance(c,f){var d;const{attach:m,parent:y}=(d=c.__r3f)!=null?d:{};m&&y&&bM(y,c,m),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),_f(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Gf.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Pn.fun(performance.now)?performance.now:Pn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Pn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Pn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:wM}}var SB,bB;const SM=t=>"colorSpace"in t||"outputColorSpace"in t,DW=()=>{var t;return(t=NO.ColorManagement)!=null?t:null},kW=t=>t&&t.isOrthographicCamera,sIe=t=>t&&t.hasOwnProperty("current"),qg=typeof window<"u"&&((SB=window.document)!=null&&SB.createElement||((bB=window.navigator)==null?void 0:bB.product)==="ReactNative")?U.useLayoutEffect:U.useEffect;function UW(t){const e=U.useRef(t);return qg(()=>void(e.current=t),[t]),e}function lIe({set:t}){return qg(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class FW extends U.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}FW.getDerivedStateFromError=()=>({error:!0});const BW="__default",wB=new Map,uIe=t=>t&&!!t.memoized&&!!t.changes;function zW(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const cp=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},Pn={obj:t=>t===Object(t)&&!Pn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Pn.str(t)||Pn.num(t))return t===e;const o=Pn.obj(t);if(o&&r==="reference")return t===e;const a=Pn.arr(t);if(a&&n==="reference")return t===e;if((a||o)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!Pn.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(Pn.und(s)){if(a&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function cIe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function fIe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function xf(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function oP(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,a)=>o[a],t),{target:n,key:i}}else return{target:n,key:e}}const MB=/-\d+$/;function bM(t,e,n){if(Pn.str(n)){if(MB.test(n)){const o=n.replace(MB,""),{target:a,key:s}=oP(t,o);Array.isArray(a[s])||(a[s]=[])}const{target:r,key:i}=oP(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function EB(t,e,n){var r,i;if(Pn.str(n)){const{target:o,key:a}=oP(t,n),s=e.__r3f.previousAttach;s===void 0?delete o[a]:o[a]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function jW(t,{children:e,key:n,ref:r,...i},{children:o,key:a,ref:s,...l}={},u=!1){var c;const f=(c=t==null?void 0:t.__r3f)!=null?c:{},d=Object.entries(i),m=[];if(u){const x=Object.keys(l);for(let v=0;v<x.length;v++)i.hasOwnProperty(x[v])||d.unshift([x[v],BW+"remove"])}d.forEach(([x,v])=>{var g;if((g=t.__r3f)!=null&&g.primitive&&x==="object"||Pn.equ(v,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return m.push([x,v,!0,[]]);let _=[];x.includes("-")&&(_=x.split("-")),m.push([x,v,!1,_]);for(const S in i){const w=i[S];S.startsWith(`${x}-`)&&m.push([S,w,!1,S.split("-")])}});const y={...i};return f.memoizedProps&&f.memoizedProps.args&&(y.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(y.attach=f.memoizedProps.attach),{memoized:y,changes:m}}function wM(t,e){var n,r,i;const o=(n=t.__r3f)!=null?n:{},a=o.root,s=(r=a==null||a.getState==null?void 0:a.getState())!=null?r:{},{memoized:l,changes:u}=uIe(e)?e:jW(t,e),c=o.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let d=0;d<u.length;d++){let[m,y,x,v]=u[d];if(SM(t)){const w="srgb",M="srgb-linear";m==="encoding"?(m="colorSpace",y=y===3001?w:M):m==="outputEncoding"&&(m="outputColorSpace",y=y===3001?w:M)}let g=t,_=g[m];if(v.length&&(_=v.reduce((S,w)=>S[w],t),!(_&&_.set))){const[S,...w]=v.reverse();g=w.reverse().reduce((M,E)=>M[E],t),m=S}if(y===BW+"remove")if(g.constructor){let S=wB.get(g.constructor);S||(S=new g.constructor,wB.set(g.constructor,S)),y=S[m]}else y=0;if(x)y?o.handlers[m]=y:delete o.handlers[m],o.eventCount=Object.keys(o.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof nc)){if(Array.isArray(y))_.fromArray?_.fromArray(y):_.set(...y);else if(_.copy&&y&&y.constructor&&_.constructor===y.constructor)_.copy(y);else if(y!==void 0){const S=_ instanceof ot;!S&&_.setScalar?_.setScalar(y):_ instanceof nc&&y instanceof nc?_.mask=y.mask:_.set(y),!DW()&&!s.linear&&S&&_.convertSRGBToLinear()}}else if(g[m]=y,g[m]instanceof Gn&&g[m].format===ri&&g[m].type===Da){const S=g[m];SM(S)&&SM(s.gl)?S.colorSpace=s.gl.outputColorSpace:S.encoding=s.gl.outputEncoding}_f(t)}if(o.parent&&s.internal&&t.raycast&&c!==o.eventCount){const d=s.internal.interaction.indexOf(t);d>-1&&s.internal.interaction.splice(d,1),o.eventCount&&s.internal.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&aP(t),t}function _f(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function aP(t){t.onUpdate==null||t.onUpdate(t)}function VW(t,e){t.manual||(kW(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function m0(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function hIe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Gf.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Gf.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Gf.ContinuousEventPriority;default:return Gf.DefaultEventPriority}}function HW(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function dIe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{HW(n.capturedMap,e,r,i)})}function pIe(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),f=new Set,d=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let g=0;g<m.length;g++){const _=cp(m[g]);_&&(_.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function y(g){const _=cp(g);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var S;_.events.compute==null||_.events.compute(l,_,(S=_.previousRoot)==null?void 0:S.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(y).sort((g,_)=>{const S=cp(g.object),w=cp(_.object);return!S||!w?g.distance-_.distance:w.events.priority-S.events.priority||g.distance-_.distance}).filter(g=>{const _=m0(g);return f.has(_)?!1:(f.add(_),!0)});c.events.filter&&(x=c.events.filter(x,c));for(const g of x){let _=g.object;for(;_;){var v;(v=_.__r3f)!=null&&v.eventCount&&d.push({...g,eventObject:_}),_=_.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let g of c.internal.capturedMap.get(l.pointerId).values())f.has(m0(g.intersection))||d.push(g.intersection);return d}function i(l,u,c,f){const d=t.getState();if(l.length){const m={stopped:!1};for(const y of l){const x=cp(y.object)||d,{raycaster:v,pointer:g,camera:_,internal:S}=x,w=new K(g.x,g.y,0).unproject(_),M=P=>{var R,j;return(R=(j=S.capturedMap.get(P))==null?void 0:j.has(y.eventObject))!=null?R:!1},E=P=>{const R={intersection:y,target:u.target};S.capturedMap.has(P)?S.capturedMap.get(P).set(y.eventObject,R):S.capturedMap.set(P,new Map([[y.eventObject,R]])),u.target.setPointerCapture(P)},T=P=>{const R=S.capturedMap.get(P);R&&HW(S.capturedMap,y.eventObject,R,P)};let O={};for(let P in u){let R=u[P];typeof R!="function"&&(O[P]=R)}let N={...y,...O,pointer:g,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:w,ray:v.ray,camera:_,stopPropagation(){const P="pointerId"in u&&S.capturedMap.get(u.pointerId);if((!P||P.has(y.eventObject))&&(N.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(R=>R.eventObject===y.eventObject))){const R=l.slice(0,l.indexOf(y));o([...R,y])}},target:{hasPointerCapture:M,setPointerCapture:E,releasePointerCapture:T},currentTarget:{hasPointerCapture:M,setPointerCapture:E,releasePointerCapture:T},nativeEvent:u};if(f(N),m.stopped===!0)break}}return l}function o(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const d=c.eventObject.__r3f,m=d==null?void 0:d.handlers;if(u.hovered.delete(m0(c)),d!=null&&d.eventCount){const y={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function a(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),o([]))})}}return function(c){const{onPointerMissed:f,internal:d}=t.getState();d.lastEvent.current=c;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(c,m?n:void 0),g=y?e(c):0;l==="onPointerDown"&&(d.initialClick=[c.offsetX,c.offsetY],d.initialHits=v.map(S=>S.eventObject)),y&&!v.length&&g<=2&&(a(c,d.interaction),f&&f(c)),m&&o(v);function _(S){const w=S.eventObject,M=w.__r3f,E=M==null?void 0:M.handlers;if(M!=null&&M.eventCount)if(m){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const T=m0(S),O=d.hovered.get(T);O?O.stopped&&S.stopPropagation():(d.hovered.set(T,S),E.onPointerOver==null||E.onPointerOver(S),E.onPointerEnter==null||E.onPointerEnter(S))}E.onPointerMove==null||E.onPointerMove(S)}else{const T=E[l];T?(!y||d.initialHits.includes(w))&&(a(c,d.interaction.filter(O=>!d.initialHits.includes(O))),T(S)):y&&d.initialHits.includes(w)&&a(c,d.interaction.filter(O=>!d.initialHits.includes(O)))}}i(v,c,g,_)}}return{handlePointer:s}}const mIe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],$W=t=>!!(t!=null&&t.render),DO=U.createContext(null),gIe=(t,e)=>{const n=PW((s,l)=>{const u=new K,c=new K,f=new K;function d(g=l().camera,_=c,S=l().size){const{width:w,height:M,top:E,left:T}=S,O=w/M;_ instanceof K?f.copy(_):f.set(..._);const N=g.getWorldPosition(u).distanceTo(f);if(kW(g))return{width:w/g.zoom,height:M/g.zoom,top:E,left:T,factor:1,distance:N,aspect:O};{const P=g.fov*Math.PI/180,R=2*Math.tan(P/2)*N,j=R*(w/M);return{width:j,height:R,top:E,left:T,factor:w/j,distance:N,aspect:O}}}let m;const y=g=>s(_=>({performance:{..._.performance,current:g}})),x=new Ce;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,_)=>e(g,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new CO,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&y(g.performance.min),m=setTimeout(()=>y(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:g=>s(_=>({..._,events:{..._.events,...g}})),setSize:(g,_,S,w,M)=>{const E=l().camera,T={width:g,height:_,top:w||0,left:M||0,updateStyle:S};s(O=>({size:T,viewport:{...O.viewport,...d(E,c,T)}}))},setDpr:g=>s(_=>{const S=zW(g);return{viewport:{..._.viewport,dpr:S,initialDpr:_.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,g!=="never"&&(_.start(),_.elapsedTime=0),s(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:U.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,_,S)=>{const w=l().internal;return w.priority=w.priority+(_>0?1:0),w.subscribers.push({ref:g,priority:_,store:S}),w.subscribers=w.subscribers.sort((M,E)=>M.priority-E.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(_>0?1:0),M.subscribers=M.subscribers.filter(E=>E.ref!==g))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:u,gl:c,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==o){var d;i=l,o=u.dpr,VW(s,l),c.setPixelRatio(u.dpr);const m=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}s!==a&&(a=s,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let g0,vIe=new Set,yIe=new Set,xIe=new Set;function MM(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function fp(t,e){switch(t){case"before":return MM(vIe,e);case"after":return MM(yIe,e);case"tail":return MM(xIe,e)}}let EM,AM;function TM(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),EM=e.internal.subscribers,g0=0;g0<EM.length;g0++)AM=EM[g0],AM.ref.current(AM.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function _Ie(t){let e=!1,n,r,i;function o(l){r=requestAnimationFrame(o),e=!0,n=0,fp("before",l);for(const c of t.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=TM(l,i))}if(fp("after",l),n===0)return fp("tail",l),e=!1,cancelAnimationFrame(r)}function a(l,u=1){var c;if(!l)return t.forEach(f=>a(f.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(o)))}function s(l,u=!0,c,f){if(u&&fp("before",l),c)TM(l,c,f);else for(const d of t.values())TM(l,d.store.getState());u&&fp("after",l)}return{loop:o,invalidate:a,advance:s}}function kO(){const t=U.useContext(DO);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Ri(t=n=>n,e){return kO()(t,e)}function ks(t,e=0){const n=kO(),r=n.getState().internal.subscribe,i=UW(t);return qg(()=>r(i,e,n),[e,r,n]),null}const AB=new WeakMap;function WW(t,e){return function(n,...r){let i=AB.get(n);return i||(i=new n,AB.set(n,i)),t&&t(i),Promise.all(r.map(o=>new Promise((a,s)=>i.load(o,l=>{l.scene&&Object.assign(l,cIe(l.scene)),a(l)},e,l=>s(new Error(`Could not load ${o}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function UO(t,e,n,r){const i=Array.isArray(e)?e:[e],o=rIe(WW(n,r),[t,...i],{equal:Pn.equ});return Array.isArray(e)?o:o[0]}UO.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return iIe(WW(n),[t,...r])};UO.clear=function(t,e){const n=Array.isArray(e)?e:[e];return oIe([t,...n])};const jh=new Map,{invalidate:TB,advance:PB}=_Ie(jh),{reconciler:_g,applyProps:gf}=aIe(jh,hIe),vf={objects:"shallow",strict:!1},SIe=(t,e)=>{const n=typeof t=="function"?t(e):t;return $W(n)?n:new fO({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function bIe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:a,updateStyle:s=n}=e;return{width:r,height:i,top:o,left:a,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function wIe(t){const e=jh.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||gIe(TB,PB),a=n||_g.createContainer(o,Gf.ConcurrentRoot,null,!1,null,"",i,null);e||jh.set(t,{fiber:a,store:o});let s,l=!1,u;return{configure(c={}){let{gl:f,size:d,scene:m,events:y,onCreated:x,shadows:v=!1,linear:g=!1,flat:_=!1,legacy:S=!1,orthographic:w=!1,frameloop:M="always",dpr:E=[1,2],performance:T,raycaster:O,camera:N,onPointerMissed:P}=c,R=o.getState(),j=R.gl;R.gl||R.set({gl:j=SIe(f,t)});let Y=R.raycaster;Y||R.set({raycaster:Y=new LO});const{params:F,...G}=O||{};if(Pn.equ(G,Y,vf)||gf(Y,{...G}),Pn.equ(F,Y.params,vf)||gf(Y,{params:{...Y.params,...F}}),!R.camera||R.camera===u&&!Pn.equ(u,N,vf)){u=N;const re=N instanceof zg,me=re?N:w?new Cl(0,0,0,0,.1,1e3):new sr(75,0,.1,1e3);re||(me.position.z=5,N&&gf(me,N),!R.camera&&!(N!=null&&N.rotation)&&me.lookAt(0,0,0)),R.set({camera:me}),Y.camera=me}if(!R.scene){let re;m instanceof fg?re=m:(re=new fg,m&&gf(re,m)),R.set({scene:xf(re)})}if(!R.xr){var $;const re=(pe,we)=>{const ze=o.getState();ze.frameloop!=="never"&&PB(pe,!0,ze,we)},me=()=>{const pe=o.getState();pe.gl.xr.enabled=pe.gl.xr.isPresenting,pe.gl.xr.setAnimationLoop(pe.gl.xr.isPresenting?re:null),pe.gl.xr.isPresenting||TB(pe)},le={connect(){const pe=o.getState().gl;pe.xr.addEventListener("sessionstart",me),pe.xr.addEventListener("sessionend",me)},disconnect(){const pe=o.getState().gl;pe.xr.removeEventListener("sessionstart",me),pe.xr.removeEventListener("sessionend",me)}};typeof(($=j.xr)==null?void 0:$.addEventListener)=="function"&&le.connect(),R.set({xr:le})}if(j.shadowMap){const re=j.shadowMap.enabled,me=j.shadowMap.type;if(j.shadowMap.enabled=!!v,Pn.boo(v))j.shadowMap.type=zp;else if(Pn.str(v)){var te;const le={basic:v6,percentage:$1,soft:zp,variance:Yo};j.shadowMap.type=(te=le[v])!=null?te:zp}else Pn.obj(v)&&Object.assign(j.shadowMap,v);(re!==j.shadowMap.enabled||me!==j.shadowMap.type)&&(j.shadowMap.needsUpdate=!0)}const B=DW();B&&("enabled"in B?B.enabled=!S:"legacyMode"in B&&(B.legacyMode=S)),gf(j,{outputEncoding:g?3e3:3001,toneMapping:_?Na:$2}),R.legacy!==S&&R.set(()=>({legacy:S})),R.linear!==g&&R.set(()=>({linear:g})),R.flat!==_&&R.set(()=>({flat:_})),f&&!Pn.fun(f)&&!$W(f)&&!Pn.equ(f,j,vf)&&gf(j,f),y&&!R.events.handlers&&R.set({events:y(o)});const oe=bIe(t,d);return Pn.equ(oe,R.size,vf)||R.setSize(oe.width,oe.height,oe.updateStyle,oe.top,oe.left),E&&R.viewport.dpr!==zW(E)&&R.setDpr(E),R.frameloop!==M&&R.setFrameloop(M),R.onPointerMissed||R.set({onPointerMissed:P}),T&&!Pn.equ(T,R.performance,vf)&&R.set(re=>({performance:{...re.performance,...T}})),s=x,l=!0,this},render(c){return l||this.configure(),_g.updateContainer(U.createElement(MIe,{store:o,children:c,onCreated:s,rootElement:t}),a,null,()=>{}),o},unmount(){GW(t)}}}function MIe({store:t,children:e,onCreated:n,rootElement:r}){return qg(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),U.createElement(DO.Provider,{value:t},e)}function GW(t,e){const n=jh.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),_g.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,a,s,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(a=o.renderLists)==null||a.dispose==null||a.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),fIe(i),jh.delete(t)}catch{}},500)})}}function EIe(t,e,n){return U.createElement(AIe,{key:e.uuid,children:t,container:e,state:n})}function AIe({state:t={},children:e,container:n}){const{events:r,size:i,...o}=t,a=kO(),[s]=U.useState(()=>new LO),[l]=U.useState(()=>new Ce),u=U.useCallback((f,d)=>{const m={...f};Object.keys(f).forEach(x=>{(mIe.includes(x)||f[x]!==d[x]&&d[x])&&delete m[x]});let y;if(d&&i){const x=d.camera;y=f.viewport.getCurrentViewport(x,new K,i),x!==f.camera&&VW(x,i)}return{...m,scene:n,raycaster:s,pointer:l,mouse:l,previousRoot:a,events:{...f.events,...d==null?void 0:d.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...y},...o}},[t]),[c]=U.useState(()=>{const f=a.getState();return PW((m,y)=>({...f,scene:n,raycaster:s,pointer:l,mouse:l,previousRoot:a,events:{...f.events,...r},size:{...f.size,...i},...o,set:m,get:y,setEvents:x=>m(v=>({...v,events:{...v.events,...x}}))}))});return U.useEffect(()=>{const f=a.subscribe(d=>c.setState(m=>u(d,m)));return()=>{f(),c.destroy()}},[]),U.useEffect(()=>{c.setState(f=>u(a.getState(),f))},[u]),U.createElement(U.Fragment,null,_g.createPortal(U.createElement(DO.Provider,{value:c},e),c,null))}_g.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:U.version});function CB(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function TIe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=U.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=U.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,c=U.useRef(!1);U.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,d,m]=U.useMemo(()=>{const g=()=>{if(!s.current.element)return;const{left:_,top:S,width:w,height:M,bottom:E,right:T,x:O,y:N}=s.current.element.getBoundingClientRect(),P={left:_,top:S,width:w,height:M,bottom:E,right:T,x:O,y:N};s.current.element instanceof HTMLElement&&r&&(P.height=s.current.element.offsetHeight,P.width=s.current.element.offsetWidth),Object.freeze(P),c.current&&!RIe(s.current.lastBounds,P)&&a(s.current.lastBounds=P)};return[g,u?CB(g,u):g,l?CB(g,l):g]},[a,r,l,u]);function y(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function x(){s.current.element&&(s.current.resizeObserver=new i(m),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(g=>g.addEventListener("scroll",m,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const v=g=>{!g||g===s.current.element||(y(),s.current.element=g,s.current.scrollContainers=XW(g),x())};return CIe(m,!!e),PIe(d),U.useEffect(()=>{y(),x()},[e,m,d]),U.useEffect(()=>y,[]),[v,o,f]}function PIe(t){U.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function CIe(t,e){U.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function XW(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...XW(t.parentElement)]}const OIe=["x","y","top","bottom","left","right","width","height"],RIe=(t,e)=>OIe.every(n=>t[n]===e[n]);var IIe=Object.defineProperty,LIe=Object.defineProperties,NIe=Object.getOwnPropertyDescriptors,OB=Object.getOwnPropertySymbols,DIe=Object.prototype.hasOwnProperty,kIe=Object.prototype.propertyIsEnumerable,RB=(t,e,n)=>e in t?IIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,IB=(t,e)=>{for(var n in e||(e={}))DIe.call(e,n)&&RB(t,n,e[n]);if(OB)for(var n of OB(e))kIe.call(e,n)&&RB(t,n,e[n]);return t},UIe=(t,e)=>LIe(t,NIe(e)),LB,NB;typeof window<"u"&&((LB=window.document)!=null&&LB.createElement||((NB=window.navigator)==null?void 0:NB.product)==="ReactNative")?U.useLayoutEffect:U.useEffect;function qW(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=qW(r,e,n);if(i)return i;r=r.sibling}}function YW(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const DB=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=DB;return}return DB.apply(this,arguments)};const FO=YW(U.createContext(null));class KW extends U.Component{render(){return U.createElement(FO.Provider,{value:this._reactInternals},this.props.children)}}function FIe(){const t=U.useContext(FO);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=U.useId();return U.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=qW(r,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function BIe(){const t=FIe(),[e]=U.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==FO&&!e.has(i)&&e.set(i,U.useContext(YW(i)))}n=n.return}return e}function zIe(){const t=BIe();return U.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>U.createElement(e,null,U.createElement(n.Provider,UIe(IB({},r),{value:t.get(n)}))),e=>U.createElement(KW,IB({},e))),[t])}const PM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function jIe(t){const{handlePointer:e}=pIe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(PM).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([a,s])=>{const[l,u]=PM[a];n.addEventListener(l,s,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,a])=>{if(r&&r.connected instanceof HTMLElement){const[s]=PM[o];r.connected.removeEventListener(s,a)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}const VIe=U.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:a=jIe,eventSource:s,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:d,orthographic:m,frameloop:y,dpr:x,performance:v,raycaster:g,camera:_,scene:S,onPointerMissed:w,onCreated:M,...E},T){U.useMemo(()=>NW(KRe),[]);const O=zIe(),[N,P]=TIe({scroll:!0,debounce:{scroll:50,resize:0},...r}),R=U.useRef(null),j=U.useRef(null);U.useImperativeHandle(T,()=>R.current);const Y=UW(w),[F,G]=U.useState(!1),[$,te]=U.useState(!1);if(F)throw F;if($)throw $;const B=U.useRef(null);qg(()=>{const Z=R.current;P.width>0&&P.height>0&&Z&&(B.current||(B.current=wIe(Z)),B.current.configure({gl:o,events:a,shadows:u,linear:c,flat:f,legacy:d,orthographic:m,frameloop:y,dpr:x,performance:v,raycaster:g,camera:_,scene:S,size:P,onPointerMissed:(...oe)=>Y.current==null?void 0:Y.current(...oe),onCreated:oe=>{oe.events.connect==null||oe.events.connect(s?sIe(s)?s.current:s:j.current),l&&oe.setEvents({compute:(re,me)=>{const le=re[l+"X"],pe=re[l+"Y"];me.pointer.set(le/me.size.width*2-1,-(pe/me.size.height)*2+1),me.raycaster.setFromCamera(me.pointer,me.camera)}}),M==null||M(oe)}}),B.current.render(U.createElement(O,null,U.createElement(FW,{set:te},U.createElement(U.Suspense,{fallback:U.createElement(lIe,{set:G})},e)))))}),U.useEffect(()=>{const Z=R.current;if(Z)return()=>GW(Z)},[]);const q=s?"none":"auto";return U.createElement("div",pc({ref:j,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...i}},E),U.createElement("div",{ref:N,style:{width:"100%",height:"100%"}},U.createElement("canvas",{ref:R,style:{display:"block"}},n)))}),HIe=U.forwardRef(function(e,n){return U.createElement(KW,null,U.createElement(VIe,pc({},e,{ref:n})))});function $Ie(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}const ZW=parseInt(ud.replace(/\D+/g,""));var Co=Uint8Array,pl=Uint16Array,sP=Uint32Array,JW=new Co([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),QW=new Co([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),WIe=new Co([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eG=function(t,e){for(var n=new pl(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new sP(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},tG=eG(JW,2),nG=tG[0],GIe=tG[1];nG[28]=258,GIe[258]=28;var XIe=eG(QW,0),qIe=XIe[0],lP=new pl(32768);for(var On=0;On<32768;++On){var el=(On&43690)>>>1|(On&21845)<<1;el=(el&52428)>>>2|(el&13107)<<2,el=(el&61680)>>>4|(el&3855)<<4,lP[On]=((el&65280)>>>8|(el&255)<<8)>>>1}var Wp=function(t,e,n){for(var r=t.length,i=0,o=new pl(e);i<r;++i)++o[t[i]-1];var a=new pl(e);for(i=0;i<e;++i)a[i]=a[i-1]+o[i-1]<<1;var s;if(n){s=new pl(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=a[t[i]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)s[lP[f]>>>l]=u}else for(s=new pl(r),i=0;i<r;++i)t[i]&&(s[i]=lP[a[t[i]-1]++]>>>15-t[i]);return s},Yg=new Co(288);for(var On=0;On<144;++On)Yg[On]=8;for(var On=144;On<256;++On)Yg[On]=9;for(var On=256;On<280;++On)Yg[On]=7;for(var On=280;On<288;++On)Yg[On]=8;var rG=new Co(32);for(var On=0;On<32;++On)rG[On]=5;var YIe=Wp(Yg,9,1),KIe=Wp(rG,5,1),CM=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Go=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},OM=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},ZIe=function(t){return(t/8|0)+(t&7&&1)},JIe=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof pl?pl:t instanceof sP?sP:Co)(n-e);return r.set(t.subarray(e,n)),r},QIe=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Co(0);var i=!e||n,o=!n||n.i;n||(n={}),e||(e=new Co(r*3));var a=function(we){var ze=e.length;if(we>ze){var Xe=new Co(Math.max(ze*2,we));Xe.set(e),e=Xe}},s=n.f||0,l=n.p||0,u=n.b||0,c=n.l,f=n.d,d=n.m,m=n.n,y=r*8;do{if(!c){n.f=s=Go(t,l,1);var x=Go(t,l+1,3);if(l+=3,x)if(x==1)c=YIe,f=KIe,d=9,m=5;else if(x==2){var S=Go(t,l,31)+257,w=Go(t,l+10,15)+4,M=S+Go(t,l+5,31)+1;l+=14;for(var E=new Co(M),T=new Co(19),O=0;O<w;++O)T[WIe[O]]=Go(t,l+O*3,7);l+=w*3;for(var N=CM(T),P=(1<<N)-1,R=Wp(T,N,1),O=0;O<M;){var j=R[Go(t,l,P)];l+=j&15;var v=j>>>4;if(v<16)E[O++]=v;else{var Y=0,F=0;for(v==16?(F=3+Go(t,l,3),l+=2,Y=E[O-1]):v==17?(F=3+Go(t,l,7),l+=3):v==18&&(F=11+Go(t,l,127),l+=7);F--;)E[O++]=Y}}var G=E.subarray(0,S),$=E.subarray(S);d=CM(G),m=CM($),c=Wp(G,d,1),f=Wp($,m,1)}else throw"invalid block type";else{var v=ZIe(l)+4,g=t[v-4]|t[v-3]<<8,_=v+g;if(_>r){if(o)throw"unexpected EOF";break}i&&a(u+g),e.set(t.subarray(v,_),u),n.b=u+=g,n.p=l=_*8;continue}if(l>y){if(o)throw"unexpected EOF";break}}i&&a(u+131072);for(var te=(1<<d)-1,B=(1<<m)-1,q=l;;q=l){var Y=c[OM(t,l)&te],Z=Y>>>4;if(l+=Y&15,l>y){if(o)throw"unexpected EOF";break}if(!Y)throw"invalid length/literal";if(Z<256)e[u++]=Z;else if(Z==256){q=l,c=null;break}else{var oe=Z-254;if(Z>264){var O=Z-257,re=JW[O];oe=Go(t,l,(1<<re)-1)+nG[O],l+=re}var me=f[OM(t,l)&B],le=me>>>4;if(!me)throw"invalid distance";l+=me&15;var $=qIe[le];if(le>3){var re=QW[le];$+=OM(t,l)&(1<<re)-1,l+=re}if(l>y){if(o)throw"unexpected EOF";break}i&&a(u+131072);for(var pe=u+oe;u<pe;u+=4)e[u]=e[u-$],e[u+1]=e[u+1-$],e[u+2]=e[u+2-$],e[u+3]=e[u+3-$];u=pe}}n.l=c,n.p=q,n.b=u,c&&(s=1,n.m=d,n.d=f,n.n=m)}while(!s);return u==e.length?e:JIe(e,0,u)},eLe=new Co(0),tLe=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function v0(t,e){return QIe((tLe(t),t.subarray(2,-4)),e)}var nLe=typeof TextDecoder<"u"&&new TextDecoder,rLe=0;try{nLe.decode(eLe,{stream:!0}),rLe=1}catch{}const iLe=t=>t&&t.isCubeTexture;class oLe extends tr{constructor(e,n){var r,i;const o=iLe(e),s=((i=o?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(s)),u=Math.pow(2,l),c=3*Math.max(u,16*7),f=4*u,d=[o?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,y=d.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${ZW>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,x={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},v=new $g(1,16),g=new Si({uniforms:x,fragmentShader:y,vertexShader:m,side:ta});super(v,g)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var aLe=Object.defineProperty,sLe=(t,e,n)=>e in t?aLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lLe=(t,e,n)=>(sLe(t,e+"",n),n);class uLe{constructor(){lLe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}var cLe=Object.defineProperty,fLe=(t,e,n)=>e in t?cLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wt=(t,e,n)=>(fLe(t,typeof e!="symbol"?e+"":e,n),n);const y0=new Ac,kB=new is,hLe=Math.cos(70*(Math.PI/180)),UB=(t,e)=>(t%e+e)%e;let dLe=class extends uLe{constructor(e,n){super(),wt(this,"object"),wt(this,"domElement"),wt(this,"enabled",!0),wt(this,"target",new K),wt(this,"minDistance",0),wt(this,"maxDistance",1/0),wt(this,"minZoom",0),wt(this,"maxZoom",1/0),wt(this,"minPolarAngle",0),wt(this,"maxPolarAngle",Math.PI),wt(this,"minAzimuthAngle",-1/0),wt(this,"maxAzimuthAngle",1/0),wt(this,"enableDamping",!1),wt(this,"dampingFactor",.05),wt(this,"enableZoom",!0),wt(this,"zoomSpeed",1),wt(this,"enableRotate",!0),wt(this,"rotateSpeed",1),wt(this,"enablePan",!0),wt(this,"panSpeed",1),wt(this,"screenSpacePanning",!0),wt(this,"keyPanSpeed",7),wt(this,"zoomToCursor",!1),wt(this,"autoRotate",!1),wt(this,"autoRotateSpeed",2),wt(this,"reverseOrbit",!1),wt(this,"reverseHorizontalOrbit",!1),wt(this,"reverseVerticalOrbit",!1),wt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),wt(this,"mouseButtons",{LEFT:Au.ROTATE,MIDDLE:Au.DOLLY,RIGHT:Au.PAN}),wt(this,"touches",{ONE:Tu.ROTATE,TWO:Tu.DOLLY_PAN}),wt(this,"target0"),wt(this,"position0"),wt(this,"zoom0"),wt(this,"_domElementKeyEvents",null),wt(this,"getPolarAngle"),wt(this,"getAzimuthalAngle"),wt(this,"setPolarAngle"),wt(this,"setAzimuthalAngle"),wt(this,"getDistance"),wt(this,"getZoomScale"),wt(this,"listenToKeyEvents"),wt(this,"stopListenToKeyEvents"),wt(this,"saveState"),wt(this,"reset"),wt(this,"update"),wt(this,"connect"),wt(this,"dispose"),wt(this,"dollyIn"),wt(this,"dollyOut"),wt(this,"getScale"),wt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=ae=>{let Pe=UB(ae,2*Math.PI),He=c.phi;He<0&&(He+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let et=Math.abs(Pe-He);2*Math.PI-et<et&&(Pe<He?Pe+=2*Math.PI:He+=2*Math.PI),f.phi=Pe-He,r.update()},this.setAzimuthalAngle=ae=>{let Pe=UB(ae,2*Math.PI),He=c.theta;He<0&&(He+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let et=Math.abs(Pe-He);2*Math.PI-et<et&&(Pe<He?Pe+=2*Math.PI:He+=2*Math.PI),f.theta=Pe-He,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ae=>{ae.addEventListener("keydown",gt),this._domElementKeyEvents=ae},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",gt),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const ae=new K,Pe=new K(0,1,0),He=new oi().setFromUnitVectors(e.up,Pe),et=He.clone().invert(),Ie=new K,ee=new oi,Be=2*Math.PI;return function(){const ut=r.object.position;He.setFromUnitVectors(e.up,Pe),et.copy(He).invert(),ae.copy(ut).sub(r.target),ae.applyQuaternion(He),c.setFromVector3(ae),r.autoRotate&&l===s.NONE&&F(j()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let dt=r.minAzimuthAngle,It=r.maxAzimuthAngle;isFinite(dt)&&isFinite(It)&&(dt<-Math.PI?dt+=Be:dt>Math.PI&&(dt-=Be),It<-Math.PI?It+=Be:It>Math.PI&&(It-=Be),dt<=It?c.theta=Math.max(dt,Math.min(It,c.theta)):c.theta=c.theta>(dt+It)/2?Math.max(dt,c.theta):Math.min(It,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&N||r.object.isOrthographicCamera?c.radius=me(c.radius):c.radius=me(c.radius*d),ae.setFromSpherical(c),ae.applyQuaternion(et),ut.copy(r.target).add(ae),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0));let Xt=!1;if(r.zoomToCursor&&N){let gn=null;if(r.object instanceof sr&&r.object.isPerspectiveCamera){const Un=ae.length();gn=me(Un*d);const Jt=Un-gn;r.object.position.addScaledVector(T,Jt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Un=new K(O.x,O.y,0);Un.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),Xt=!0;const Jt=new K(O.x,O.y,0);Jt.unproject(r.object),r.object.position.sub(Jt).add(Un),r.object.updateMatrixWorld(),gn=ae.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;gn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(gn).add(r.object.position):(y0.origin.copy(r.object.position),y0.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(y0.direction))<hLe?e.lookAt(r.target):(kB.setFromNormalAndCoplanarPoint(r.object.up,r.target),y0.intersectPlane(kB,r.target))))}else r.object instanceof Cl&&r.object.isOrthographicCamera&&(Xt=d!==1,Xt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix()));return d=1,N=!1,Xt||Ie.distanceToSquared(r.object.position)>u||8*(1-ee.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Ie.copy(r.object.position),ee.copy(r.object.quaternion),Xt=!1,!0):!1}})(),this.connect=ae=>{r.domElement=ae,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",$t),r.domElement.addEventListener("pointerdown",Ne),r.domElement.addEventListener("pointercancel",Oe),r.domElement.addEventListener("wheel",rt)},this.dispose=()=>{var ae,Pe,He,et,Ie,ee;r.domElement&&(r.domElement.style.touchAction="auto"),(ae=r.domElement)==null||ae.removeEventListener("contextmenu",$t),(Pe=r.domElement)==null||Pe.removeEventListener("pointerdown",Ne),(He=r.domElement)==null||He.removeEventListener("pointercancel",Oe),(et=r.domElement)==null||et.removeEventListener("wheel",rt),(Ie=r.domElement)==null||Ie.ownerDocument.removeEventListener("pointermove",Le),(ee=r.domElement)==null||ee.ownerDocument.removeEventListener("pointerup",Oe),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",gt)};const r=this,i={type:"change"},o={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const u=1e-6,c=new P_,f=new P_;let d=1;const m=new K,y=new Ce,x=new Ce,v=new Ce,g=new Ce,_=new Ce,S=new Ce,w=new Ce,M=new Ce,E=new Ce,T=new K,O=new Ce;let N=!1;const P=[],R={};function j(){return 2*Math.PI/60/60*r.autoRotateSpeed}function Y(){return Math.pow(.95,r.zoomSpeed)}function F(ae){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=ae:f.theta-=ae}function G(ae){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=ae:f.phi-=ae}const $=(()=>{const ae=new K;return function(He,et){ae.setFromMatrixColumn(et,0),ae.multiplyScalar(-He),m.add(ae)}})(),te=(()=>{const ae=new K;return function(He,et){r.screenSpacePanning===!0?ae.setFromMatrixColumn(et,1):(ae.setFromMatrixColumn(et,0),ae.crossVectors(r.object.up,ae)),ae.multiplyScalar(He),m.add(ae)}})(),B=(()=>{const ae=new K;return function(He,et){const Ie=r.domElement;if(Ie&&r.object instanceof sr&&r.object.isPerspectiveCamera){const ee=r.object.position;ae.copy(ee).sub(r.target);let Be=ae.length();Be*=Math.tan(r.object.fov/2*Math.PI/180),$(2*He*Be/Ie.clientHeight,r.object.matrix),te(2*et*Be/Ie.clientHeight,r.object.matrix)}else Ie&&r.object instanceof Cl&&r.object.isOrthographicCamera?($(He*(r.object.right-r.object.left)/r.object.zoom/Ie.clientWidth,r.object.matrix),te(et*(r.object.top-r.object.bottom)/r.object.zoom/Ie.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function q(ae){r.object instanceof sr&&r.object.isPerspectiveCamera||r.object instanceof Cl&&r.object.isOrthographicCamera?d=ae:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Z(ae){q(d/ae)}function oe(ae){q(d*ae)}function re(ae){if(!r.zoomToCursor||!r.domElement)return;N=!0;const Pe=r.domElement.getBoundingClientRect(),He=ae.clientX-Pe.left,et=ae.clientY-Pe.top,Ie=Pe.width,ee=Pe.height;O.x=He/Ie*2-1,O.y=-(et/ee)*2+1,T.set(O.x,O.y,1).unproject(r.object).sub(r.object.position).normalize()}function me(ae){return Math.max(r.minDistance,Math.min(r.maxDistance,ae))}function le(ae){y.set(ae.clientX,ae.clientY)}function pe(ae){re(ae),w.set(ae.clientX,ae.clientY)}function we(ae){g.set(ae.clientX,ae.clientY)}function ze(ae){x.set(ae.clientX,ae.clientY),v.subVectors(x,y).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(F(2*Math.PI*v.x/Pe.clientHeight),G(2*Math.PI*v.y/Pe.clientHeight)),y.copy(x),r.update()}function Xe(ae){M.set(ae.clientX,ae.clientY),E.subVectors(M,w),E.y>0?Z(Y()):E.y<0&&oe(Y()),w.copy(M),r.update()}function xe(ae){_.set(ae.clientX,ae.clientY),S.subVectors(_,g).multiplyScalar(r.panSpeed),B(S.x,S.y),g.copy(_),r.update()}function Ve(ae){re(ae),ae.deltaY<0?oe(Y()):ae.deltaY>0&&Z(Y()),r.update()}function De(ae){let Pe=!1;switch(ae.code){case r.keys.UP:B(0,r.keyPanSpeed),Pe=!0;break;case r.keys.BOTTOM:B(0,-r.keyPanSpeed),Pe=!0;break;case r.keys.LEFT:B(r.keyPanSpeed,0),Pe=!0;break;case r.keys.RIGHT:B(-r.keyPanSpeed,0),Pe=!0;break}Pe&&(ae.preventDefault(),r.update())}function V(){if(P.length==1)y.set(P[0].pageX,P[0].pageY);else{const ae=.5*(P[0].pageX+P[1].pageX),Pe=.5*(P[0].pageY+P[1].pageY);y.set(ae,Pe)}}function Ae(){if(P.length==1)g.set(P[0].pageX,P[0].pageY);else{const ae=.5*(P[0].pageX+P[1].pageX),Pe=.5*(P[0].pageY+P[1].pageY);g.set(ae,Pe)}}function de(){const ae=P[0].pageX-P[1].pageX,Pe=P[0].pageY-P[1].pageY,He=Math.sqrt(ae*ae+Pe*Pe);w.set(0,He)}function Re(){r.enableZoom&&de(),r.enablePan&&Ae()}function _e(){r.enableZoom&&de(),r.enableRotate&&V()}function Je(ae){if(P.length==1)x.set(ae.pageX,ae.pageY);else{const He=at(ae),et=.5*(ae.pageX+He.x),Ie=.5*(ae.pageY+He.y);x.set(et,Ie)}v.subVectors(x,y).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(F(2*Math.PI*v.x/Pe.clientHeight),G(2*Math.PI*v.y/Pe.clientHeight)),y.copy(x)}function Ge(ae){if(P.length==1)_.set(ae.pageX,ae.pageY);else{const Pe=at(ae),He=.5*(ae.pageX+Pe.x),et=.5*(ae.pageY+Pe.y);_.set(He,et)}S.subVectors(_,g).multiplyScalar(r.panSpeed),B(S.x,S.y),g.copy(_)}function W(ae){const Pe=at(ae),He=ae.pageX-Pe.x,et=ae.pageY-Pe.y,Ie=Math.sqrt(He*He+et*et);M.set(0,Ie),E.set(0,Math.pow(M.y/w.y,r.zoomSpeed)),Z(E.y),w.copy(M)}function z(ae){r.enableZoom&&W(ae),r.enablePan&&Ge(ae)}function he(ae){r.enableZoom&&W(ae),r.enableRotate&&Je(ae)}function Ne(ae){var Pe,He;r.enabled!==!1&&(P.length===0&&((Pe=r.domElement)==null||Pe.ownerDocument.addEventListener("pointermove",Le),(He=r.domElement)==null||He.ownerDocument.addEventListener("pointerup",Oe)),Rt(ae),ae.pointerType==="touch"?Mt(ae):nt(ae))}function Le(ae){r.enabled!==!1&&(ae.pointerType==="touch"?ke(ae):qe(ae))}function Oe(ae){var Pe,He,et;_t(ae),P.length===0&&((Pe=r.domElement)==null||Pe.releasePointerCapture(ae.pointerId),(He=r.domElement)==null||He.ownerDocument.removeEventListener("pointermove",Le),(et=r.domElement)==null||et.ownerDocument.removeEventListener("pointerup",Oe)),r.dispatchEvent(a),l=s.NONE}function nt(ae){let Pe;switch(ae.button){case 0:Pe=r.mouseButtons.LEFT;break;case 1:Pe=r.mouseButtons.MIDDLE;break;case 2:Pe=r.mouseButtons.RIGHT;break;default:Pe=-1}switch(Pe){case Au.DOLLY:if(r.enableZoom===!1)return;pe(ae),l=s.DOLLY;break;case Au.ROTATE:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(r.enablePan===!1)return;we(ae),l=s.PAN}else{if(r.enableRotate===!1)return;le(ae),l=s.ROTATE}break;case Au.PAN:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(r.enableRotate===!1)return;le(ae),l=s.ROTATE}else{if(r.enablePan===!1)return;we(ae),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function qe(ae){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;ze(ae);break;case s.DOLLY:if(r.enableZoom===!1)return;Xe(ae);break;case s.PAN:if(r.enablePan===!1)return;xe(ae);break}}function rt(ae){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(ae.preventDefault(),r.dispatchEvent(o),Ve(ae),r.dispatchEvent(a))}function gt(ae){r.enabled===!1||r.enablePan===!1||De(ae)}function Mt(ae){switch(it(ae),P.length){case 1:switch(r.touches.ONE){case Tu.ROTATE:if(r.enableRotate===!1)return;V(),l=s.TOUCH_ROTATE;break;case Tu.PAN:if(r.enablePan===!1)return;Ae(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case Tu.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Re(),l=s.TOUCH_DOLLY_PAN;break;case Tu.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;_e(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function ke(ae){switch(it(ae),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;Je(ae),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;Ge(ae),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;z(ae),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;he(ae),r.update();break;default:l=s.NONE}}function $t(ae){r.enabled!==!1&&ae.preventDefault()}function Rt(ae){P.push(ae)}function _t(ae){delete R[ae.pointerId];for(let Pe=0;Pe<P.length;Pe++)if(P[Pe].pointerId==ae.pointerId){P.splice(Pe,1);return}}function it(ae){let Pe=R[ae.pointerId];Pe===void 0&&(Pe=new Ce,R[ae.pointerId]=Pe),Pe.set(ae.pageX,ae.pageY)}function at(ae){const Pe=ae.pointerId===P[0].pointerId?P[1]:P[0];return R[Pe.pointerId]}this.dollyIn=(ae=Y())=>{oe(ae),r.update()},this.dollyOut=(ae=Y())=>{Z(ae),r.update()},this.getScale=()=>d,this.setScale=ae=>{q(ae),r.update()},this.getZoomScale=()=>Y(),n!==void 0&&this.connect(n),this.update()}};const pLe={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},mLe={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class gLe extends AO{constructor(e){super(e),this.type=vi}parse(e){const a=function(O,N){switch(O){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(N||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(N||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(N||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(N||""))}},c=`
`,f=function(O,N,P){N=N||1024;let j=O.pos,Y=-1,F=0,G="",$=String.fromCharCode.apply(null,new Uint16Array(O.subarray(j,j+128)));for(;0>(Y=$.indexOf(c))&&F<N&&j<O.byteLength;)G+=$,F+=$.length,j+=128,$+=String.fromCharCode.apply(null,new Uint16Array(O.subarray(j,j+128)));return-1<Y?(O.pos+=F+Y+1,G+$.slice(0,Y)):!1},d=function(O){const N=/^#\?(\S+)/,P=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,R=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,j=/^\s*FORMAT=(\S+)\s*$/,Y=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,F={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let G,$;for((O.pos>=O.byteLength||!(G=f(O)))&&a(1,"no header found"),($=G.match(N))||a(3,"bad initial token"),F.valid|=1,F.programtype=$[1],F.string+=G+`
`;G=f(O),G!==!1;){if(F.string+=G+`
`,G.charAt(0)==="#"){F.comments+=G+`
`;continue}if(($=G.match(P))&&(F.gamma=parseFloat($[1])),($=G.match(R))&&(F.exposure=parseFloat($[1])),($=G.match(j))&&(F.valid|=2,F.format=$[1]),($=G.match(Y))&&(F.valid|=4,F.height=parseInt($[1],10),F.width=parseInt($[2],10)),F.valid&2&&F.valid&4)break}return F.valid&2||a(3,"missing format specifier"),F.valid&4||a(3,"missing image size specifier"),F},m=function(O,N,P){const R=N;if(R<8||R>32767||O[0]!==2||O[1]!==2||O[2]&128)return new Uint8Array(O);R!==(O[2]<<8|O[3])&&a(3,"wrong scanline width");const j=new Uint8Array(4*N*P);j.length||a(4,"unable to allocate buffer space");let Y=0,F=0;const G=4*R,$=new Uint8Array(4),te=new Uint8Array(G);let B=P;for(;B>0&&F<O.byteLength;){F+4>O.byteLength&&a(1),$[0]=O[F++],$[1]=O[F++],$[2]=O[F++],$[3]=O[F++],($[0]!=2||$[1]!=2||($[2]<<8|$[3])!=R)&&a(3,"bad rgbe scanline format");let q=0,Z;for(;q<G&&F<O.byteLength;){Z=O[F++];const re=Z>128;if(re&&(Z-=128),(Z===0||q+Z>G)&&a(3,"bad scanline data"),re){const me=O[F++];for(let le=0;le<Z;le++)te[q++]=me}else te.set(O.subarray(F,F+Z),q),q+=Z,F+=Z}const oe=R;for(let re=0;re<oe;re++){let me=0;j[Y]=te[re+me],me+=R,j[Y+1]=te[re+me],me+=R,j[Y+2]=te[re+me],me+=R,j[Y+3]=te[re+me],Y+=4}B--}return j},y=function(O,N,P,R){const j=O[N+3],Y=Math.pow(2,j-128)/255;P[R+0]=O[N+0]*Y,P[R+1]=O[N+1]*Y,P[R+2]=O[N+2]*Y,P[R+3]=1},x=function(O,N,P,R){const j=O[N+3],Y=Math.pow(2,j-128)/255;P[R+0]=$u.toHalfFloat(Math.min(O[N+0]*Y,65504)),P[R+1]=$u.toHalfFloat(Math.min(O[N+1]*Y,65504)),P[R+2]=$u.toHalfFloat(Math.min(O[N+2]*Y,65504)),P[R+3]=$u.toHalfFloat(1)},v=new Uint8Array(e);v.pos=0;const g=d(v),_=g.width,S=g.height,w=m(v.subarray(v.pos),_,S);let M,E,T;switch(this.type){case Rr:T=w.length/4;const O=new Float32Array(T*4);for(let P=0;P<T;P++)y(w,P*4,O,P*4);M=O,E=Rr;break;case vi:T=w.length/4;const N=new Uint16Array(T*4);for(let P=0;P<T;P++)x(w,P*4,N,P*4);M=N,E=vi;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:_,height:S,data:M,header:g.string,gamma:g.gamma,exposure:g.exposure,type:E}}setDataType(e){return this.type=e,this}load(e,n,r,i){function o(a,s){switch(a.type){case Rr:case vi:"colorSpace"in a?a.colorSpace="srgb-linear":a.encoding=3e3,a.minFilter=xn,a.magFilter=xn,a.generateMipmaps=!1,a.flipY=!0;break}n&&n(a,s)}return super.load(e,o,r,i)}}const hp=ZW>=152;class vLe extends AO{constructor(e){super(e),this.type=vi}parse(e){const N=Math.pow(2.7182818,2.2);function P(D,H){for(var se=0,L=0;L<65536;++L)(L==0||D[L>>3]&1<<(L&7))&&(H[se++]=L);for(var X=se-1;se<65536;)H[se++]=0;return X}function R(D){for(var H=0;H<16384;H++)D[H]={},D[H].len=0,D[H].lit=0,D[H].p=null}const j={l:0,c:0,lc:0};function Y(D,H,se,L,X){for(;se<D;)H=H<<8|at(L,X),se+=8;se-=D,j.l=H>>se&(1<<D)-1,j.c=H,j.lc=se}const F=new Array(59);function G(D){for(var H=0;H<=58;++H)F[H]=0;for(var H=0;H<65537;++H)F[D[H]]+=1;for(var se=0,H=58;H>0;--H){var L=se+F[H]>>1;F[H]=se,se=L}for(var H=0;H<65537;++H){var X=D[H];X>0&&(D[H]=X|F[X]++<<6)}}function $(D,H,se,L,X,J,ie){for(var ne=se,ve=0,ye=0;X<=J;X++){if(ne.value-se.value>L)return!1;Y(6,ve,ye,D,ne);var Me=j.l;if(ve=j.c,ye=j.lc,ie[X]=Me,Me==63){if(ne.value-se.value>L)throw"Something wrong with hufUnpackEncTable";Y(8,ve,ye,D,ne);var be=j.l+6;if(ve=j.c,ye=j.lc,X+be>J+1)throw"Something wrong with hufUnpackEncTable";for(;be--;)ie[X++]=0;X--}else if(Me>=59){var be=Me-59+2;if(X+be>J+1)throw"Something wrong with hufUnpackEncTable";for(;be--;)ie[X++]=0;X--}}G(ie)}function te(D){return D&63}function B(D){return D>>6}function q(D,H,se,L){for(;H<=se;H++){var X=B(D[H]),J=te(D[H]);if(X>>J)throw"Invalid table entry";if(J>14){var ie=L[X>>J-14];if(ie.len)throw"Invalid table entry";if(ie.lit++,ie.p){var ne=ie.p;ie.p=new Array(ie.lit);for(var ve=0;ve<ie.lit-1;++ve)ie.p[ve]=ne[ve]}else ie.p=new Array(1);ie.p[ie.lit-1]=H}else if(J)for(var ye=0,ve=1<<14-J;ve>0;ve--){var ie=L[(X<<14-J)+ye];if(ie.len||ie.p)throw"Invalid table entry";ie.len=J,ie.lit=H,ye++}}return!0}const Z={c:0,lc:0};function oe(D,H,se,L){D=D<<8|at(se,L),H+=8,Z.c=D,Z.lc=H}const re={c:0,lc:0};function me(D,H,se,L,X,J,ie,ne,ve,ye){if(D==H){L<8&&(oe(se,L,X,ie),se=Z.c,L=Z.lc),L-=8;var Me=se>>L,Me=new Uint8Array([Me])[0];if(ve.value+Me>ye)return!1;for(var be=ne[ve.value-1];Me-- >0;)ne[ve.value++]=be}else if(ve.value<ye)ne[ve.value++]=D;else return!1;re.c=se,re.lc=L}function le(D){return D&65535}function pe(D){var H=le(D);return H>32767?H-65536:H}const we={a:0,b:0};function ze(D,H){var se=pe(D),L=pe(H),X=L,J=se+(X&1)+(X>>1),ie=J,ne=J-X;we.a=ie,we.b=ne}function Xe(D,H){var se=le(D),L=le(H),X=se-(L>>1)&65535,J=L+X-32768&65535;we.a=J,we.b=X}function xe(D,H,se,L,X,J,ie){for(var ne=ie<16384,ve=se>X?X:se,ye=1,Me;ye<=ve;)ye<<=1;for(ye>>=1,Me=ye,ye>>=1;ye>=1;){for(var be=0,st=be+J*(X-Me),Ue=J*ye,Fe=J*Me,ct=L*ye,xt=L*Me,St,Ot,lt,Ye;be<=st;be+=Fe){for(var Vt=be,Et=be+L*(se-Me);Vt<=Et;Vt+=xt){var Pt=Vt+ct,cn=Vt+Ue,qn=cn+ct;ne?(ze(D[Vt+H],D[cn+H]),St=we.a,lt=we.b,ze(D[Pt+H],D[qn+H]),Ot=we.a,Ye=we.b,ze(St,Ot),D[Vt+H]=we.a,D[Pt+H]=we.b,ze(lt,Ye),D[cn+H]=we.a,D[qn+H]=we.b):(Xe(D[Vt+H],D[cn+H]),St=we.a,lt=we.b,Xe(D[Pt+H],D[qn+H]),Ot=we.a,Ye=we.b,Xe(St,Ot),D[Vt+H]=we.a,D[Pt+H]=we.b,Xe(lt,Ye),D[cn+H]=we.a,D[qn+H]=we.b)}if(se&ye){var cn=Vt+Ue;ne?ze(D[Vt+H],D[cn+H]):Xe(D[Vt+H],D[cn+H]),St=we.a,D[cn+H]=we.b,D[Vt+H]=St}}if(X&ye)for(var Vt=be,Et=be+L*(se-Me);Vt<=Et;Vt+=xt){var Pt=Vt+ct;ne?ze(D[Vt+H],D[Pt+H]):Xe(D[Vt+H],D[Pt+H]),St=we.a,D[Pt+H]=we.b,D[Vt+H]=St}Me=ye,ye>>=1}return be}function Ve(D,H,se,L,X,J,ie,ne,ve,ye){for(var Me=0,be=0,st=ne,Ue=Math.trunc(X.value+(J+7)/8);X.value<Ue;)for(oe(Me,be,se,X),Me=Z.c,be=Z.lc;be>=14;){var Fe=Me>>be-14&16383,ct=H[Fe];if(ct.len)be-=ct.len,me(ct.lit,ie,Me,be,se,L,X,ve,ye,st),Me=re.c,be=re.lc;else{if(!ct.p)throw"hufDecode issues";var xt;for(xt=0;xt<ct.lit;xt++){for(var St=te(D[ct.p[xt]]);be<St&&X.value<Ue;)oe(Me,be,se,X),Me=Z.c,be=Z.lc;if(be>=St&&B(D[ct.p[xt]])==(Me>>be-St&(1<<St)-1)){be-=St,me(ct.p[xt],ie,Me,be,se,L,X,ve,ye,st),Me=re.c,be=re.lc;break}}if(xt==ct.lit)throw"hufDecode issues"}}var Ot=8-J&7;for(Me>>=Ot,be-=Ot;be>0;){var ct=H[Me<<14-be&16383];if(ct.len)be-=ct.len,me(ct.lit,ie,Me,be,se,L,X,ve,ye,st),Me=re.c,be=re.lc;else throw"hufDecode issues"}return!0}function De(D,H,se,L,X,J){var ie={value:0},ne=se.value,ve=it(H,se),ye=it(H,se);se.value+=4;var Me=it(H,se);if(se.value+=4,ve<0||ve>=65537||ye<0||ye>=65537)throw"Something wrong with HUF_ENCSIZE";var be=new Array(65537),st=new Array(16384);R(st);var Ue=L-(se.value-ne);if($(D,H,se,Ue,ve,ye,be),Me>8*(L-(se.value-ne)))throw"Something wrong with hufUncompress";q(be,ve,ye,st),Ve(be,st,D,H,se,Me,ye,J,X,ie)}function V(D,H,se){for(var L=0;L<se;++L)H[L]=D[H[L]]}function Ae(D){for(var H=1;H<D.length;H++){var se=D[H-1]+D[H]-128;D[H]=se}}function de(D,H){for(var se=0,L=Math.floor((D.length+1)/2),X=0,J=D.length-1;!(X>J||(H[X++]=D[se++],X>J));)H[X++]=D[L++]}function Re(D){for(var H=D.byteLength,se=new Array,L=0,X=new DataView(D);H>0;){var J=X.getInt8(L++);if(J<0){var ie=-J;H-=ie+1;for(var ne=0;ne<ie;ne++)se.push(X.getUint8(L++))}else{var ie=J;H-=2;for(var ve=X.getUint8(L++),ne=0;ne<ie+1;ne++)se.push(ve)}}return se}function _e(D,H,se,L,X,J){var Pt=new DataView(J.buffer),ie=se[D.idx[0]].width,ne=se[D.idx[0]].height,ve=3,ye=Math.floor(ie/8),Me=Math.ceil(ie/8),be=Math.ceil(ne/8),st=ie-(Me-1)*8,Ue=ne-(be-1)*8,Fe={value:0},ct=new Array(ve),xt=new Array(ve),St=new Array(ve),Ot=new Array(ve),lt=new Array(ve);for(let Wt=0;Wt<ve;++Wt)lt[Wt]=H[D.idx[Wt]],ct[Wt]=Wt<1?0:ct[Wt-1]+Me*be,xt[Wt]=new Float32Array(64),St[Wt]=new Uint16Array(64),Ot[Wt]=new Uint16Array(Me*64);for(let Wt=0;Wt<be;++Wt){var Ye=8;Wt==be-1&&(Ye=Ue);var Vt=8;for(let kt=0;kt<Me;++kt){kt==Me-1&&(Vt=st);for(let Yt=0;Yt<ve;++Yt)St[Yt].fill(0),St[Yt][0]=X[ct[Yt]++],Je(Fe,L,St[Yt]),Ge(St[Yt],xt[Yt]),W(xt[Yt]);z(xt);for(let Yt=0;Yt<ve;++Yt)he(xt[Yt],Ot[Yt],kt*64)}let Fn=0;for(let kt=0;kt<ve;++kt){const Yt=se[D.idx[kt]].type;for(let bn=8*Wt;bn<8*Wt+Ye;++bn){Fn=lt[kt][bn];for(let uo=0;uo<ye;++uo){const ui=uo*64+(bn&7)*8;Pt.setUint16(Fn+0*2*Yt,Ot[kt][ui+0],!0),Pt.setUint16(Fn+1*2*Yt,Ot[kt][ui+1],!0),Pt.setUint16(Fn+2*2*Yt,Ot[kt][ui+2],!0),Pt.setUint16(Fn+3*2*Yt,Ot[kt][ui+3],!0),Pt.setUint16(Fn+4*2*Yt,Ot[kt][ui+4],!0),Pt.setUint16(Fn+5*2*Yt,Ot[kt][ui+5],!0),Pt.setUint16(Fn+6*2*Yt,Ot[kt][ui+6],!0),Pt.setUint16(Fn+7*2*Yt,Ot[kt][ui+7],!0),Fn+=8*2*Yt}}if(ye!=Me)for(let bn=8*Wt;bn<8*Wt+Ye;++bn){const uo=lt[kt][bn]+8*ye*2*Yt,ui=ye*64+(bn&7)*8;for(let fa=0;fa<Vt;++fa)Pt.setUint16(uo+fa*2*Yt,Ot[kt][ui+fa],!0)}}}for(var Et=new Uint16Array(ie),Pt=new DataView(J.buffer),cn=0;cn<ve;++cn){se[D.idx[cn]].decoded=!0;var qn=se[D.idx[cn]].type;if(se[cn].type==2)for(var Ln=0;Ln<ne;++Ln){const Wt=lt[cn][Ln];for(var Qt=0;Qt<ie;++Qt)Et[Qt]=Pt.getUint16(Wt+Qt*2*qn,!0);for(var Qt=0;Qt<ie;++Qt)Pt.setFloat32(Wt+Qt*2*qn,Ie(Et[Qt]),!0)}}}function Je(D,H,se){for(var L,X=1;X<64;)L=H[D.value],L==65280?X=64:L>>8==255?X+=L&255:(se[X]=L,X++),D.value++}function Ge(D,H){H[0]=Ie(D[0]),H[1]=Ie(D[1]),H[2]=Ie(D[5]),H[3]=Ie(D[6]),H[4]=Ie(D[14]),H[5]=Ie(D[15]),H[6]=Ie(D[27]),H[7]=Ie(D[28]),H[8]=Ie(D[2]),H[9]=Ie(D[4]),H[10]=Ie(D[7]),H[11]=Ie(D[13]),H[12]=Ie(D[16]),H[13]=Ie(D[26]),H[14]=Ie(D[29]),H[15]=Ie(D[42]),H[16]=Ie(D[3]),H[17]=Ie(D[8]),H[18]=Ie(D[12]),H[19]=Ie(D[17]),H[20]=Ie(D[25]),H[21]=Ie(D[30]),H[22]=Ie(D[41]),H[23]=Ie(D[43]),H[24]=Ie(D[9]),H[25]=Ie(D[11]),H[26]=Ie(D[18]),H[27]=Ie(D[24]),H[28]=Ie(D[31]),H[29]=Ie(D[40]),H[30]=Ie(D[44]),H[31]=Ie(D[53]),H[32]=Ie(D[10]),H[33]=Ie(D[19]),H[34]=Ie(D[23]),H[35]=Ie(D[32]),H[36]=Ie(D[39]),H[37]=Ie(D[45]),H[38]=Ie(D[52]),H[39]=Ie(D[54]),H[40]=Ie(D[20]),H[41]=Ie(D[22]),H[42]=Ie(D[33]),H[43]=Ie(D[38]),H[44]=Ie(D[46]),H[45]=Ie(D[51]),H[46]=Ie(D[55]),H[47]=Ie(D[60]),H[48]=Ie(D[21]),H[49]=Ie(D[34]),H[50]=Ie(D[37]),H[51]=Ie(D[47]),H[52]=Ie(D[50]),H[53]=Ie(D[56]),H[54]=Ie(D[59]),H[55]=Ie(D[61]),H[56]=Ie(D[35]),H[57]=Ie(D[36]),H[58]=Ie(D[48]),H[59]=Ie(D[49]),H[60]=Ie(D[57]),H[61]=Ie(D[58]),H[62]=Ie(D[62]),H[63]=Ie(D[63])}function W(D){const H=.5*Math.cos(.7853975),se=.5*Math.cos(3.14159/16),L=.5*Math.cos(3.14159/8),X=.5*Math.cos(3*3.14159/16),J=.5*Math.cos(5*3.14159/16),ie=.5*Math.cos(3*3.14159/8),ne=.5*Math.cos(7*3.14159/16);for(var ve=new Array(4),ye=new Array(4),Me=new Array(4),be=new Array(4),st=0;st<8;++st){var Ue=st*8;ve[0]=L*D[Ue+2],ve[1]=ie*D[Ue+2],ve[2]=L*D[Ue+6],ve[3]=ie*D[Ue+6],ye[0]=se*D[Ue+1]+X*D[Ue+3]+J*D[Ue+5]+ne*D[Ue+7],ye[1]=X*D[Ue+1]-ne*D[Ue+3]-se*D[Ue+5]-J*D[Ue+7],ye[2]=J*D[Ue+1]-se*D[Ue+3]+ne*D[Ue+5]+X*D[Ue+7],ye[3]=ne*D[Ue+1]-J*D[Ue+3]+X*D[Ue+5]-se*D[Ue+7],Me[0]=H*(D[Ue+0]+D[Ue+4]),Me[3]=H*(D[Ue+0]-D[Ue+4]),Me[1]=ve[0]+ve[3],Me[2]=ve[1]-ve[2],be[0]=Me[0]+Me[1],be[1]=Me[3]+Me[2],be[2]=Me[3]-Me[2],be[3]=Me[0]-Me[1],D[Ue+0]=be[0]+ye[0],D[Ue+1]=be[1]+ye[1],D[Ue+2]=be[2]+ye[2],D[Ue+3]=be[3]+ye[3],D[Ue+4]=be[3]-ye[3],D[Ue+5]=be[2]-ye[2],D[Ue+6]=be[1]-ye[1],D[Ue+7]=be[0]-ye[0]}for(var Fe=0;Fe<8;++Fe)ve[0]=L*D[16+Fe],ve[1]=ie*D[16+Fe],ve[2]=L*D[48+Fe],ve[3]=ie*D[48+Fe],ye[0]=se*D[8+Fe]+X*D[24+Fe]+J*D[40+Fe]+ne*D[56+Fe],ye[1]=X*D[8+Fe]-ne*D[24+Fe]-se*D[40+Fe]-J*D[56+Fe],ye[2]=J*D[8+Fe]-se*D[24+Fe]+ne*D[40+Fe]+X*D[56+Fe],ye[3]=ne*D[8+Fe]-J*D[24+Fe]+X*D[40+Fe]-se*D[56+Fe],Me[0]=H*(D[Fe]+D[32+Fe]),Me[3]=H*(D[Fe]-D[32+Fe]),Me[1]=ve[0]+ve[3],Me[2]=ve[1]-ve[2],be[0]=Me[0]+Me[1],be[1]=Me[3]+Me[2],be[2]=Me[3]-Me[2],be[3]=Me[0]-Me[1],D[0+Fe]=be[0]+ye[0],D[8+Fe]=be[1]+ye[1],D[16+Fe]=be[2]+ye[2],D[24+Fe]=be[3]+ye[3],D[32+Fe]=be[3]-ye[3],D[40+Fe]=be[2]-ye[2],D[48+Fe]=be[1]-ye[1],D[56+Fe]=be[0]-ye[0]}function z(D){for(var H=0;H<64;++H){var se=D[0][H],L=D[1][H],X=D[2][H];D[0][H]=se+1.5747*X,D[1][H]=se-.1873*L-.4682*X,D[2][H]=se+1.8556*L}}function he(D,H,se){for(var L=0;L<64;++L)H[se+L]=$u.toHalfFloat(Ne(D[L]))}function Ne(D){return D<=1?Math.sign(D)*Math.pow(Math.abs(D),2.2):Math.sign(D)*Math.pow(N,Math.abs(D)-1)}function Le(D){return new DataView(D.array.buffer,D.offset.value,D.size)}function Oe(D){var H=D.viewer.buffer.slice(D.offset.value,D.offset.value+D.size),se=new Uint8Array(Re(H)),L=new Uint8Array(se.length);return Ae(se),de(se,L),new DataView(L.buffer)}function nt(D){var H=D.array.slice(D.offset.value,D.offset.value+D.size),se=v0(H),L=new Uint8Array(se.length);return Ae(se),de(se,L),new DataView(L.buffer)}function qe(D){for(var H=D.viewer,se={value:D.offset.value},L=new Uint16Array(D.width*D.scanlineBlockSize*(D.channels*D.type)),X=new Uint8Array(8192),J=0,ie=new Array(D.channels),ne=0;ne<D.channels;ne++)ie[ne]={},ie[ne].start=J,ie[ne].end=ie[ne].start,ie[ne].nx=D.width,ie[ne].ny=D.lines,ie[ne].size=D.type,J+=ie[ne].nx*ie[ne].ny*ie[ne].size;var ve=ee(H,se),ye=ee(H,se);if(ye>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(ve<=ye)for(var ne=0;ne<ye-ve+1;ne++)X[ne+ve]=ae(H,se);var Me=new Uint16Array(65536),be=P(X,Me),st=it(H,se);De(D.array,H,se,st,L,J);for(var ne=0;ne<D.channels;++ne)for(var Ue=ie[ne],Fe=0;Fe<ie[ne].size;++Fe)xe(L,Ue.start+Fe,Ue.nx,Ue.size,Ue.ny,Ue.nx*Ue.size,be);V(Me,L,J);for(var ct=0,xt=new Uint8Array(L.buffer.byteLength),St=0;St<D.lines;St++)for(var Ot=0;Ot<D.channels;Ot++){var Ue=ie[Ot],lt=Ue.nx*Ue.size,Ye=new Uint8Array(L.buffer,Ue.end*2,lt*2);xt.set(Ye,ct),ct+=lt*2,Ue.end+=lt}return new DataView(xt.buffer)}function rt(D){var H=D.array.slice(D.offset.value,D.offset.value+D.size),se=v0(H);const L=D.lines*D.channels*D.width,X=D.type==1?new Uint16Array(L):new Uint32Array(L);let J=0,ie=0;const ne=new Array(4);for(let ve=0;ve<D.lines;ve++)for(let ye=0;ye<D.channels;ye++){let Me=0;switch(D.type){case 1:ne[0]=J,ne[1]=ne[0]+D.width,J=ne[1]+D.width;for(let be=0;be<D.width;++be){const st=se[ne[0]++]<<8|se[ne[1]++];Me+=st,X[ie]=Me,ie++}break;case 2:ne[0]=J,ne[1]=ne[0]+D.width,ne[2]=ne[1]+D.width,J=ne[2]+D.width;for(let be=0;be<D.width;++be){const st=se[ne[0]++]<<24|se[ne[1]++]<<16|se[ne[2]++]<<8;Me+=st,X[ie]=Me,ie++}break}}return new DataView(X.buffer)}function gt(D){var H=D.viewer,se={value:D.offset.value},L=new Uint8Array(D.width*D.lines*(D.channels*D.type*2)),X={version:Pe(H,se),unknownUncompressedSize:Pe(H,se),unknownCompressedSize:Pe(H,se),acCompressedSize:Pe(H,se),dcCompressedSize:Pe(H,se),rleCompressedSize:Pe(H,se),rleUncompressedSize:Pe(H,se),rleRawSize:Pe(H,se),totalAcUncompressedCount:Pe(H,se),totalDcUncompressedCount:Pe(H,se),acCompression:Pe(H,se)};if(X.version<2)throw"EXRLoader.parse: "+Ai.compression+" version "+X.version+" is unsupported";for(var J=new Array,ie=ee(H,se)-2;ie>0;){var ne=Mt(H.buffer,se),ve=ae(H,se),ye=ve>>2&3,Me=(ve>>4)-1,be=new Int8Array([Me])[0],st=ae(H,se);J.push({name:ne,index:be,type:st,compression:ye}),ie-=ne.length+3}for(var Ue=Ai.channels,Fe=new Array(D.channels),ct=0;ct<D.channels;++ct){var xt=Fe[ct]={},St=Ue[ct];xt.name=St.name,xt.compression=0,xt.decoded=!1,xt.type=St.pixelType,xt.pLinear=St.pLinear,xt.width=D.width,xt.height=D.lines}for(var Ot={idx:new Array(3)},lt=0;lt<D.channels;++lt)for(var xt=Fe[lt],ct=0;ct<J.length;++ct){var Ye=J[ct];xt.name==Ye.name&&(xt.compression=Ye.compression,Ye.index>=0&&(Ot.idx[Ye.index]=lt),xt.offset=lt)}if(X.acCompressedSize>0)switch(X.acCompression){case 0:var Pt=new Uint16Array(X.totalAcUncompressedCount);De(D.array,H,se,X.acCompressedSize,Pt,X.totalAcUncompressedCount);break;case 1:var Vt=D.array.slice(se.value,se.value+X.totalAcUncompressedCount),Et=v0(Vt),Pt=new Uint16Array(Et.buffer);se.value+=X.totalAcUncompressedCount;break}if(X.dcCompressedSize>0){var cn={array:D.array,offset:se,size:X.dcCompressedSize},qn=new Uint16Array(nt(cn).buffer);se.value+=X.dcCompressedSize}if(X.rleRawSize>0){var Vt=D.array.slice(se.value,se.value+X.rleCompressedSize),Et=v0(Vt),Ln=Re(Et.buffer);se.value+=X.rleCompressedSize}for(var Qt=0,Wt=new Array(Fe.length),ct=0;ct<Wt.length;++ct)Wt[ct]=new Array;for(var Fn=0;Fn<D.lines;++Fn)for(var kt=0;kt<Fe.length;++kt)Wt[kt].push(Qt),Qt+=Fe[kt].width*D.type*2;_e(Ot,Wt,Fe,Pt,qn,L);for(var ct=0;ct<Fe.length;++ct){var xt=Fe[ct];if(!xt.decoded)switch(xt.compression){case 2:for(var Yt=0,bn=0,Fn=0;Fn<D.lines;++Fn){for(var uo=Wt[ct][Yt],ui=0;ui<xt.width;++ui){for(var fa=0;fa<2*xt.type;++fa)L[uo++]=Ln[bn+fa*xt.width*xt.height];bn++}Yt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(L.buffer)}function Mt(D,H){for(var se=new Uint8Array(D),L=0;se[H.value+L]!=0;)L+=1;var X=new TextDecoder().decode(se.slice(H.value,H.value+L));return H.value=H.value+L+1,X}function ke(D,H,se){var L=new TextDecoder().decode(new Uint8Array(D).slice(H.value,H.value+se));return H.value=H.value+se,L}function $t(D,H){var se=_t(D,H),L=it(D,H);return[se,L]}function Rt(D,H){var se=it(D,H),L=it(D,H);return[se,L]}function _t(D,H){var se=D.getInt32(H.value,!0);return H.value=H.value+4,se}function it(D,H){var se=D.getUint32(H.value,!0);return H.value=H.value+4,se}function at(D,H){var se=D[H.value];return H.value=H.value+1,se}function ae(D,H){var se=D.getUint8(H.value);return H.value=H.value+1,se}const Pe=function(D,H){let se;return"getBigInt64"in DataView.prototype?se=Number(D.getBigInt64(H.value,!0)):se=D.getUint32(H.value+4,!0)+Number(D.getUint32(H.value,!0)<<32),H.value+=8,se};function He(D,H){var se=D.getFloat32(H.value,!0);return H.value+=4,se}function et(D,H){return $u.toHalfFloat(He(D,H))}function Ie(D){var H=(D&31744)>>10,se=D&1023;return(D>>15?-1:1)*(H?H===31?se?NaN:1/0:Math.pow(2,H-15)*(1+se/1024):6103515625e-14*(se/1024))}function ee(D,H){var se=D.getUint16(H.value,!0);return H.value+=2,se}function Be(D,H){return Ie(ee(D,H))}function $e(D,H,se,L){for(var X=se.value,J=[];se.value<X+L-1;){var ie=Mt(H,se),ne=_t(D,se),ve=ae(D,se);se.value+=3;var ye=_t(D,se),Me=_t(D,se);J.push({name:ie,pixelType:ne,pLinear:ve,xSampling:ye,ySampling:Me})}return se.value+=1,J}function ut(D,H){var se=He(D,H),L=He(D,H),X=He(D,H),J=He(D,H),ie=He(D,H),ne=He(D,H),ve=He(D,H),ye=He(D,H);return{redX:se,redY:L,greenX:X,greenY:J,blueX:ie,blueY:ne,whiteX:ve,whiteY:ye}}function dt(D,H){var se=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],L=ae(D,H);return se[L]}function It(D,H){var se=it(D,H),L=it(D,H),X=it(D,H),J=it(D,H);return{xMin:se,yMin:L,xMax:X,yMax:J}}function Xt(D,H){var se=["INCREASING_Y"],L=ae(D,H);return se[L]}function gn(D,H){var se=He(D,H),L=He(D,H);return[se,L]}function Un(D,H){var se=He(D,H),L=He(D,H),X=He(D,H);return[se,L,X]}function Jt(D,H,se,L,X){if(L==="string"||L==="stringvector"||L==="iccProfile")return ke(H,se,X);if(L==="chlist")return $e(D,H,se,X);if(L==="chromaticities")return ut(D,se);if(L==="compression")return dt(D,se);if(L==="box2i")return It(D,se);if(L==="lineOrder")return Xt(D,se);if(L==="float")return He(D,se);if(L==="v2f")return gn(D,se);if(L==="v3f")return Un(D,se);if(L==="int")return _t(D,se);if(L==="rational")return $t(D,se);if(L==="timecode")return Rt(D,se);if(L==="preview")return se.value+=X,"skipped";se.value+=X}function pr(D,H,se){const L={};if(D.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";L.version=D.getUint8(4);const X=D.getUint8(5);L.spec={singleTile:!!(X&2),longName:!!(X&4),deepFormat:!!(X&8),multiPart:!!(X&16)},se.value=8;for(var J=!0;J;){var ie=Mt(H,se);if(ie==0)J=!1;else{var ne=Mt(H,se),ve=it(D,se),ye=Jt(D,H,se,ne,ve);ye===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${ne}'.`):L[ie]=ye}}if(X&-5)throw console.error("EXRHeader:",L),"THREE.EXRLoader: provided file is currently unsupported.";return L}function Ei(D,H,se,L,X){const J={size:0,viewer:H,array:se,offset:L,width:D.dataWindow.xMax-D.dataWindow.xMin+1,height:D.dataWindow.yMax-D.dataWindow.yMin+1,channels:D.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:D.channels[0].pixelType,uncompress:null,getter:null,format:null,[hp?"colorSpace":"encoding"]:null};switch(D.compression){case"NO_COMPRESSION":J.lines=1,J.uncompress=Le;break;case"RLE_COMPRESSION":J.lines=1,J.uncompress=Oe;break;case"ZIPS_COMPRESSION":J.lines=1,J.uncompress=nt;break;case"ZIP_COMPRESSION":J.lines=16,J.uncompress=nt;break;case"PIZ_COMPRESSION":J.lines=32,J.uncompress=qe;break;case"PXR24_COMPRESSION":J.lines=16,J.uncompress=rt;break;case"DWAA_COMPRESSION":J.lines=32,J.uncompress=gt;break;case"DWAB_COMPRESSION":J.lines=256,J.uncompress=gt;break;default:throw"EXRLoader.parse: "+D.compression+" is unsupported"}if(J.scanlineBlockSize=J.lines,J.type==1)switch(X){case Rr:J.getter=Be,J.inputSize=2;break;case vi:J.getter=ee,J.inputSize=2;break}else if(J.type==2)switch(X){case Rr:J.getter=He,J.inputSize=4;break;case vi:J.getter=et,J.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+J.type+" for "+D.compression+".";J.blockCount=(D.dataWindow.yMax+1)/J.scanlineBlockSize;for(var ie=0;ie<J.blockCount;ie++)Pe(H,L);J.outputChannels=J.channels==3?4:J.channels;const ne=J.width*J.height*J.outputChannels;switch(X){case Rr:J.byteArray=new Float32Array(ne),J.channels<J.outputChannels&&J.byteArray.fill(1,0,ne);break;case vi:J.byteArray=new Uint16Array(ne),J.channels<J.outputChannels&&J.byteArray.fill(15360,0,ne);break;default:console.error("THREE.EXRLoader: unsupported type: ",X);break}return J.bytesPerLine=J.width*J.inputSize*J.channels,J.outputChannels==4?J.format=ri:J.format=q2,hp?J.colorSpace="srgb-linear":J.encoding=3e3,J}const ca=new DataView(e),Kl=new Uint8Array(e),lo={value:0},Ai=pr(ca,e,lo),Dt=Ei(Ai,ca,Kl,lo,this.type),Zl={value:0},Ic={R:0,G:1,B:2,A:3,Y:0};for(let D=0;D<Dt.height/Dt.scanlineBlockSize;D++){const H=it(ca,lo);Dt.size=it(ca,lo),Dt.lines=H+Dt.scanlineBlockSize>Dt.height?Dt.height-H:Dt.scanlineBlockSize;const L=Dt.size<Dt.lines*Dt.bytesPerLine?Dt.uncompress(Dt):Le(Dt);lo.value+=Dt.size;for(let X=0;X<Dt.scanlineBlockSize;X++){const J=X+D*Dt.scanlineBlockSize;if(J>=Dt.height)break;for(let ie=0;ie<Dt.channels;ie++){const ne=Ic[Ai.channels[ie].name];for(let ve=0;ve<Dt.width;ve++){Zl.value=(X*(Dt.channels*Dt.width)+ie*Dt.width+ve)*Dt.inputSize;const ye=(Dt.height-1-J)*(Dt.width*Dt.outputChannels)+ve*Dt.outputChannels+ne;Dt.byteArray[ye]=Dt.getter(L,Zl)}}}}return{header:Ai,width:Dt.width,height:Dt.height,data:Dt.byteArray,format:Dt.format,[hp?"colorSpace":"encoding"]:Dt[hp?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function o(a,s){hp?a.colorSpace=s.colorSpace:a.encoding=s.encoding,a.minFilter=xn,a.magFilter=xn,a.generateMipmaps=!1,a.flipY=!1,n&&n(a,s)}return super.load(e,o,r,i)}}const yLe=()=>parseInt(ud.replace(/\D+/g,"")),xLe=yLe(),_Le=U.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:a,onStart:s,onEnd:l,...u},c)=>{const f=Ri(E=>E.invalidate),d=Ri(E=>E.camera),m=Ri(E=>E.gl),y=Ri(E=>E.events),x=Ri(E=>E.setEvents),v=Ri(E=>E.set),g=Ri(E=>E.get),_=Ri(E=>E.performance),S=e||d,w=r||y.connected||m.domElement,M=U.useMemo(()=>new dLe(S),[S]);return ks(()=>{M.enabled&&M.update()},-1),U.useEffect(()=>(o&&M.connect(o===!0?w:o),M.connect(w),()=>void M.dispose()),[o,w,n,M,f]),U.useEffect(()=>{const E=N=>{f(),n&&_.regress(),a&&a(N)},T=N=>{s&&s(N)},O=N=>{l&&l(N)};return M.addEventListener("change",E),M.addEventListener("start",T),M.addEventListener("end",O),()=>{M.removeEventListener("start",T),M.removeEventListener("end",O),M.removeEventListener("change",E)}},[a,s,l,M,f,x]),U.useEffect(()=>{if(t){const E=g().controls;return v({controls:M}),()=>v({controls:E})}},[t,M]),U.createElement("primitive",pc({ref:c,object:M,enableDamping:i},u))}),SLe=U.forwardRef(({children:t,enabled:e=!0,speed:n=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:o=[-.1,.1],...a},s)=>{const l=U.useRef(null),u=U.useRef(Math.random()*1e4);return ks(c=>{var f,d;if(!e||n===0)return;const m=u.current+c.clock.getElapsedTime();l.current.rotation.x=Math.cos(m/4*n)/8*r,l.current.rotation.y=Math.sin(m/4*n)/8*r,l.current.rotation.z=Math.sin(m/4*n)/20*r;let y=Math.sin(m/4*n)/10;y=m8.mapLinear(y,-.1,.1,(f=o==null?void 0:o[0])!==null&&f!==void 0?f:-.1,(d=o==null?void 0:o[1])!==null&&d!==void 0?d:.1),l.current.position.y=y*i,l.current.updateMatrix()}),U.createElement("group",a,U.createElement("group",{ref:$Ie([l,s]),matrixAutoUpdate:!1},t))}),RM={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},bLe="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",FB=t=>Array.isArray(t);function iG({files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){var o;let a=null,s=!1,l;if(n){if(!(n in RM))throw new Error("Preset must be one of: "+Object.keys(RM).join(", "));t=RM[n],e=bLe}if(s=FB(t),l=FB(t)?"cube":t.startsWith("data:application/exr")?"exr":t.startsWith("data:application/hdr")?"hdr":(o=t.split(".").pop())==null||(o=o.split("?"))==null||(o=o.shift())==null?void 0:o.toLowerCase(),a=s?hW:l==="hdr"?gLe:l==="exr"?vLe:null,!a)throw new Error("useEnvironment: Unrecognized file extension: "+t);const u=UO(a,s?[t]:t,m=>{m.setPath==null||m.setPath(e),i&&i(m)}),c=s?u[0]:u;c.mapping=s?Ba:Uh;const f=3001,d=3e3;return"colorSpace"in c?c.colorSpace=r??s?"srgb":"srgb-linear":c.encoding=r??s?f:d,c}const wLe=t=>t.current&&t.current.isScene,MLe=t=>wLe(t)?t.current:t;function BO(t,e,n,r,i=0){const o=MLe(e||n),a=o.background,s=o.environment,l=o.backgroundBlurriness||0;return t!=="only"&&(o.environment=r),t&&(o.background=r),t&&o.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=i),()=>{t!=="only"&&(o.environment=s),t&&(o.background=a),t&&o.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=l)}}function zO({scene:t,background:e=!1,blur:n,map:r}){const i=Ri(o=>o.scene);return U.useLayoutEffect(()=>{if(r)return BO(e,t,i,r,n)},[i,t,r,e,n]),null}function oG({background:t=!1,scene:e,blur:n,...r}){const i=iG(r),o=Ri(a=>a.scene);return U.useLayoutEffect(()=>BO(t,e,o,i,n),[i,t,e,o,n]),null}function ELe({children:t,near:e=1,far:n=1e3,resolution:r=256,frames:i=1,map:o,background:a=!1,blur:s,scene:l,files:u,path:c,preset:f=void 0,extensions:d}){const m=Ri(S=>S.gl),y=Ri(S=>S.scene),x=U.useRef(null),[v]=U.useState(()=>new fg),g=U.useMemo(()=>{const S=new sO(r);return S.texture.type=vi,S},[r]);U.useLayoutEffect(()=>(i===1&&x.current.update(m,v),BO(a,l,y,g.texture,s)),[t,v,g.texture,l,y,a,i,m]);let _=1;return ks(()=>{(i===1/0||_<i)&&(x.current.update(m,v),_++)}),U.createElement(U.Fragment,null,EIe(U.createElement(U.Fragment,null,t,U.createElement("cubeCamera",{ref:x,args:[e,n,g]}),u||f?U.createElement(oG,{background:!0,files:u,preset:f,path:c,extensions:d}):o?U.createElement(zO,{background:!0,map:o,extensions:d}):null),v))}function ALe(t){var e,n,r,i;const o=iG(t),a=t.map||o;U.useMemo(()=>NW({GroundProjectedEnvImpl:oLe}),[]);const s=U.useMemo(()=>[a],[a]),l=(e=t.ground)==null?void 0:e.height,u=(n=t.ground)==null?void 0:n.radius,c=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return U.createElement(U.Fragment,null,U.createElement(zO,pc({},t,{map:a})),U.createElement("groundProjectedEnvImpl",{args:s,scale:c,height:l,radius:u}))}function TLe(t){return t.ground?U.createElement(ALe,t):t.map?U.createElement(zO,t):t.children?U.createElement(ELe,t):U.createElement(oG,t)}const PLe=U.forwardRef(({scale:t=10,frames:e=1/0,opacity:n=1,width:r=1,height:i=1,blur:o=1,near:a=0,far:s=10,resolution:l=512,smooth:u=!0,color:c="#000000",depthWrite:f=!1,renderOrder:d,...m},y)=>{const x=U.useRef(null),v=Ri(F=>F.scene),g=Ri(F=>F.gl),_=U.useRef(null);r=r*(Array.isArray(t)?t[0]:t||1),i=i*(Array.isArray(t)?t[1]:t||1);const[S,w,M,E,T,O,N]=U.useMemo(()=>{const F=new oo(l,l),G=new oo(l,l);G.texture.generateMipmaps=F.texture.generateMipmaps=!1;const $=new Pc(r,i).rotateX(Math.PI/2),te=new tr($),B=new Z1;B.depthTest=B.depthWrite=!1,B.onBeforeCompile=oe=>{oe.uniforms={...oe.uniforms,ucolor:{value:new ot(c)}},oe.fragmentShader=oe.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),oe.fragmentShader=oe.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const q=new Si(pLe),Z=new Si(mLe);return Z.depthTest=q.depthTest=!1,[F,$,B,te,q,Z,G]},[l,r,i,t,c]),P=F=>{E.visible=!0,E.material=T,T.uniforms.tDiffuse.value=S.texture,T.uniforms.h.value=F*1/256,g.setRenderTarget(N),g.render(E,_.current),E.material=O,O.uniforms.tDiffuse.value=N.texture,O.uniforms.v.value=F*1/256,g.setRenderTarget(S),g.render(E,_.current),E.visible=!1};let R=0,j,Y;return ks(()=>{_.current&&(e===1/0||R<e)&&(R++,j=v.background,Y=v.overrideMaterial,x.current.visible=!1,v.background=null,v.overrideMaterial=M,g.setRenderTarget(S),g.render(v,_.current),P(o),u&&P(o*.4),g.setRenderTarget(null),x.current.visible=!0,v.overrideMaterial=Y,v.background=j)}),U.useImperativeHandle(y,()=>x.current,[]),U.createElement("group",pc({"rotation-x":Math.PI/2},m,{ref:x}),U.createElement("mesh",{renderOrder:d,geometry:w,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},U.createElement("meshBasicMaterial",{transparent:!0,map:S.texture,opacity:n,depthWrite:f})),U.createElement("orthographicCamera",{ref:_,args:[-r/2,r/2,i/2,-i/2,a,s]}))});class CLe extends Si{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${xLe>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const OLe=t=>new K().setFromSpherical(new P_(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),RLe=U.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:r=0,factor:i=4,fade:o=!1,speed:a=1},s)=>{const l=U.useRef(),[u,c,f]=U.useMemo(()=>{const m=[],y=[],x=Array.from({length:n},()=>(.5+.5*Math.random())*i),v=new ot;let g=t+e;const _=e/n;for(let S=0;S<n;S++)g-=_*Math.random(),m.push(...OLe(g).toArray()),v.setHSL(S/n,r,.9),y.push(v.r,v.g,v.b);return[new Float32Array(m),new Float32Array(y),new Float32Array(x)]},[n,e,i,t,r]);ks(m=>l.current&&(l.current.uniforms.time.value=m.clock.getElapsedTime()*a));const[d]=U.useState(()=>new CLe);return U.createElement("points",{ref:s},U.createElement("bufferGeometry",null,U.createElement("bufferAttribute",{attach:"attributes-position",args:[u,3]}),U.createElement("bufferAttribute",{attach:"attributes-color",args:[c,3]}),U.createElement("bufferAttribute",{attach:"attributes-size",args:[f,1]})),U.createElement("primitive",{ref:l,object:d,attach:"material",blending:S_,"uniforms-fade-value":o,depthWrite:!1,transparent:!0,vertexColors:!0}))});function ILe(){return k.jsxs(k.Fragment,{children:[k.jsx("ambientLight",{intensity:.55}),k.jsx("directionalLight",{position:[6,10,6],intensity:1.25,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-camera-near":.5,"shadow-camera-far":50,"shadow-camera-left":-8,"shadow-camera-right":8,"shadow-camera-top":8,"shadow-camera-bottom":-8}),k.jsx("pointLight",{position:[-6,4,-4],intensity:.6}),k.jsx("spotLight",{position:[0,10,-10],intensity:.8,angle:.35,penumbra:.6,castShadow:!0})]})}function LLe({enabled:t=!0}){return t?k.jsx(_Le,{enablePan:!1,enableZoom:!1,minPolarAngle:Math.PI/2.6,maxPolarAngle:Math.PI/2.1,rotateSpeed:.6,dampingFactor:.08,enableDamping:!0}):null}function NLe({children:t,cameraPosition:e=[0,1.2,4.2],enableControls:n=!0,className:r=""}){return k.jsx("div",{className:r,children:k.jsxs(HIe,{shadows:!0,dpr:[1,2],camera:{position:e,fov:45},children:[k.jsx(ILe,{}),k.jsx(TLe,{preset:"city"}),t,k.jsx(PLe,{position:[0,-1.1,0],opacity:.45,scale:8,blur:2.6,far:6}),k.jsx(LLe,{enabled:n})]})})}function vS({children:t,speed:e=1,rotationIntensity:n=.35,floatIntensity:r=.6}){return k.jsx(SLe,{speed:e,rotationIntensity:n,floatIntensity:r,children:t})}function DLe(t=256){const e=document.createElement("canvas");e.width=t,e.height=t;const n=e.getContext("2d"),r=n.createRadialGradient(t*.35,t*.35,t*.05,t*.5,t*.5,t*.55);r.addColorStop(0,"#2a74ff"),r.addColorStop(.55,"#1556c7"),r.addColorStop(1,"#0b2a6a"),n.fillStyle=r,n.fillRect(0,0,t,t);for(let i=0;i<220;i++){const o=Math.random()*t,a=Math.random()*t,s=2+Math.random()*10;n.fillStyle=`rgba(255,255,255,${.03+Math.random()*.08})`,n.beginPath(),n.arc(o,a,s,0,Math.PI*2),n.fill()}return e}function kLe(){const t=U.useRef(null),e=U.useRef(null),n=U.useMemo(()=>DLe(384),[]),r=U.useMemo(()=>new z8(n),[n]);return ks((i,o)=>{t.current&&(t.current.rotation.y+=o*.35),e.current&&(e.current.rotation.z+=o*.2)}),k.jsxs(k.Fragment,{children:[k.jsx(RLe,{radius:30,depth:18,count:700,factor:3,fade:!0,speed:.6}),k.jsx(vS,{speed:1.2,rotationIntensity:.3,floatIntensity:.8,children:k.jsxs("group",{position:[0,-.1,0],children:[k.jsxs("mesh",{ref:t,castShadow:!0,receiveShadow:!0,children:[k.jsx("sphereGeometry",{args:[1.05,64,64]}),k.jsx("meshStandardMaterial",{map:r,metalness:.05,roughness:.75})]}),k.jsxs("mesh",{children:[k.jsx("sphereGeometry",{args:[1.12,64,64]}),k.jsx("meshStandardMaterial",{color:"#7fd3ff",transparent:!0,opacity:.12,roughness:1,metalness:0})]}),k.jsxs("mesh",{ref:e,rotation:[Math.PI/2.6,0,0],children:[k.jsx("torusGeometry",{args:[1.45,.05,24,120]}),k.jsx("meshStandardMaterial",{color:"#b7d8ff",metalness:.35,roughness:.35,transparent:!0,opacity:.6})]})]})})]})}function ULe(){const t=U.useRef(null),e=U.useRef(null);return ks((n,r)=>{t.current&&(t.current.rotation.x+=r*.25,t.current.rotation.y+=r*.35),e.current&&(e.current.rotation.y-=r*.25)}),k.jsx(vS,{speed:1,rotationIntensity:.25,floatIntensity:.7,children:k.jsxs("group",{position:[0,-.2,0],children:[k.jsxs("mesh",{ref:t,castShadow:!0,receiveShadow:!0,children:[k.jsx("boxGeometry",{args:[1.5,1.5,1.5]}),k.jsx("meshPhysicalMaterial",{color:"#22d3ee",metalness:.25,roughness:.08,transmission:.65,thickness:.9,ior:1.25,clearcoat:.9,clearcoatRoughness:.12})]}),k.jsx("group",{ref:e,children:[[2,.4,0],[-1.8,-.1,1],[.2,1.6,-1.4]].map((n,r)=>k.jsxs("mesh",{position:n,castShadow:!0,children:[k.jsx("sphereGeometry",{args:[.22,32,32]}),k.jsx("meshStandardMaterial",{color:"#7c3aed",metalness:.35,roughness:.35})]},r))})]})})}function FLe(){const t=U.useRef(null);return ks((e,n)=>{t.current&&(t.current.rotation.y+=n*.25)}),k.jsx(vS,{speed:1.1,rotationIntensity:.25,floatIntensity:.8,children:k.jsxs("group",{ref:t,position:[0,-.45,0],children:[k.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[k.jsx("boxGeometry",{args:[1.9,1.2,.22]}),k.jsx("meshStandardMaterial",{color:"#22c55e",metalness:.15,roughness:.35})]}),k.jsxs("mesh",{position:[.02,0,.08],castShadow:!0,receiveShadow:!0,children:[k.jsx("boxGeometry",{args:[1.75,1.05,.1]}),k.jsx("meshPhysicalMaterial",{color:"#f8fafc",metalness:.05,roughness:.35,clearcoat:.6,clearcoatRoughness:.25})]}),k.jsxs("mesh",{position:[.55,.2,.14],rotation:[0,0,.2],castShadow:!0,children:[k.jsx("boxGeometry",{args:[.12,.9,.02]}),k.jsx("meshStandardMaterial",{color:"#f97316",metalness:.2,roughness:.4})]})]})})}function BLe(){const t=U.useRef(null),e=U.useRef(null),n=U.useRef(null),r=U.useRef(null);return ks((i,o)=>{t.current&&(t.current.rotation.y+=o*.35),e.current&&(e.current.rotation.z+=o*.8),n.current&&(n.current.rotation.x+=o*.7),r.current&&(r.current.rotation.y+=o*.9)}),k.jsx(vS,{speed:1,rotationIntensity:.3,floatIntensity:.75,children:k.jsxs("group",{ref:t,position:[0,-.2,0],children:[k.jsxs("mesh",{castShadow:!0,children:[k.jsx("sphereGeometry",{args:[.45,48,48]}),k.jsx("meshPhysicalMaterial",{color:"#a855f7",emissive:"#7c3aed",emissiveIntensity:.25,metalness:.35,roughness:.25,clearcoat:.9})]}),k.jsxs("group",{ref:e,children:[k.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[k.jsx("torusGeometry",{args:[1.15,.03,24,160]}),k.jsx("meshStandardMaterial",{color:"#93c5fd",metalness:.3,roughness:.25})]}),k.jsxs("mesh",{position:[1.15,0,0],castShadow:!0,children:[k.jsx("sphereGeometry",{args:[.12,32,32]}),k.jsx("meshStandardMaterial",{color:"#22d3ee",metalness:.4,roughness:.2})]})]}),k.jsxs("group",{ref:n,children:[k.jsxs("mesh",{rotation:[0,Math.PI/2.2,0],children:[k.jsx("torusGeometry",{args:[1.05,.03,24,160]}),k.jsx("meshStandardMaterial",{color:"#86efac",metalness:.25,roughness:.3})]}),k.jsxs("mesh",{position:[0,1.05,0],castShadow:!0,children:[k.jsx("sphereGeometry",{args:[.11,32,32]}),k.jsx("meshStandardMaterial",{color:"#34d399",metalness:.35,roughness:.25})]})]}),k.jsxs("group",{ref:r,children:[k.jsxs("mesh",{rotation:[Math.PI/4,0,Math.PI/2],children:[k.jsx("torusGeometry",{args:[.95,.03,24,160]}),k.jsx("meshStandardMaterial",{color:"#fda4af",metalness:.25,roughness:.35})]}),k.jsxs("mesh",{position:[-.95,0,0],castShadow:!0,children:[k.jsx("sphereGeometry",{args:[.1,32,32]}),k.jsx("meshStandardMaterial",{color:"#fb7185",metalness:.3,roughness:.25})]})]})]})})}const zLe=[{id:"astronomy",name:"Astronomy",component:k.jsx(kLe,{})},{id:"math",name:"Math",component:k.jsx(ULe,{})},{id:"reading",name:"Reading",component:k.jsx(FLe,{})},{id:"science",name:"Science",component:k.jsx(BLe,{})}];function jLe(){const t=Bl();return k.jsxs(zC,{children:[k.jsxs("div",{children:[k.jsx("h1",{className:"text-3xl font-extrabold tracking-tight",children:"Subjects"}),k.jsx("p",{className:"opacity-75 mt-1",children:"Learning areas represented with interactive 3D objects."})]}),k.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6 mt-6",children:zLe.map(e=>k.jsxs(Ua.div,{whileHover:{y:-10,scale:1.02},whileTap:{scale:.97},onClick:()=>t(`/subjects/${e.id}`),className:"panel stroke rounded-3xl p-4 cursor-pointer",children:[k.jsx("div",{className:"h-[220px] w-full",children:k.jsx(NLe,{enableControls:!1,children:e.component})}),k.jsx("div",{className:"mt-3 text-center font-semibold text-lg",children:e.name})]},e.id))})]})}function VLe(){const{subjectId:t}=KX(),e=Bl();return k.jsxs(zC,{children:[k.jsxs("div",{children:[k.jsxs("h1",{className:"text-3xl font-extrabold capitalize",children:[t," Overview"]}),k.jsx("p",{className:"opacity-75 mt-1",children:"Detailed insights and learning patterns."})]}),k.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 mt-6",children:[k.jsx(ei,{title:"Performance Summary",children:k.jsx("p",{className:"opacity-80 text-sm",children:"Progress trends, engagement level, and strengths will appear here."})}),k.jsx(ei,{title:"Common Difficulties",children:k.jsx("p",{className:"opacity-80 text-sm",children:"Detected weak points and suggested focus areas."})}),k.jsx(ei,{title:"Recent Sessions",children:k.jsx("p",{className:"opacity-80 text-sm",children:"Game activity and outcomes."})}),k.jsxs(ei,{title:"AI Insights",children:[k.jsx("p",{className:"opacity-80 text-sm",children:"Personalized recommendations based on learning behavior and engagement patterns."}),k.jsxs("button",{onClick:()=>e(`/ai?subject=${t}`),className:"mt-4 px-4 py-2 rounded-xl bg-white/20 hover:bg-white/30 transition",children:["Ask AI about ",t]})]})]})]})}function HLe(){return k.jsxs("div",{className:"panel stroke rounded-2xl p-8 text-center",children:[k.jsx("div",{className:"text-2xl font-extrabold",children:"Page not found"}),k.jsx("div",{className:"opacity-75 mt-2",children:"Return to overview."}),k.jsx(q_,{to:"/overview",className:"inline-block mt-4 px-4 py-2 rounded-xl border border-white/15 bg-white/10 hover:bg-white/20 font-semibold",children:"Go to Overview"})]})}function $Le(){const t=_c();return localStorage.getItem("token")?k.jsxs("div",{className:"adapted-bg relative min-h-screen overflow-hidden",children:[k.jsx("div",{className:"shape one"}),k.jsx("div",{className:"shape two"}),k.jsx("div",{className:"shape three"}),k.jsx("div",{className:"grain pointer-events-none absolute inset-0"}),k.jsx("div",{className:"relative z-10 max-w-[1400px] mx-auto p-4 md:p-6",children:k.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[300px_1fr] gap-4 md:gap-6",children:[k.jsx("aside",{className:"lg:sticky lg:top-6 self-start",children:k.jsx(IQ,{})}),k.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[k.jsx("header",{className:"lg:sticky lg:top-6 z-20",children:k.jsx(UQ,{})}),k.jsx("main",{className:"panel stroke rounded-2xl p-4 md:p-6",children:k.jsx(FL,{mode:"wait",initial:!1,children:k.jsx(Ua.div,{initial:{opacity:0,y:18,filter:"blur(6px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},exit:{opacity:0,y:-14,filter:"blur(6px)"},transition:{duration:.45,ease:[.22,1,.36,1]},children:k.jsxs(NL,{location:t,children:[k.jsx(Mo,{path:"/",element:k.jsx(LL,{to:"/overview",replace:!0})}),k.jsx(Mo,{path:"/overview",element:k.jsx(tEe,{})}),k.jsx(Mo,{path:"/time-control",element:k.jsx(nEe,{})}),k.jsx(Mo,{path:"/subjects",element:k.jsx(jLe,{})}),k.jsx(Mo,{path:"/subjects/:subjectId",element:k.jsx(VLe,{})}),k.jsx(Mo,{path:"/reports",element:k.jsx(iEe,{})}),k.jsx(Mo,{path:"/ai",element:k.jsx(sEe,{})}),k.jsx(Mo,{path:"*",element:k.jsx(HLe,{})})]})},t.pathname)})})]})]})})]}):k.jsx(FL,{mode:"wait",children:k.jsx(Ua.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.3},children:k.jsxs(NL,{children:[k.jsx(Mo,{path:"/login",element:k.jsx(zQ,{})}),k.jsx(Mo,{path:"/register",element:k.jsx(jQ,{})}),k.jsx(Mo,{path:"*",element:k.jsx(LL,{to:"/login",replace:!0})})]})},"login")})}function WLe(){return k.jsx($Le,{})}IM.createRoot(document.getElementById("root")).render(k.jsx(fe.StrictMode,{children:k.jsx(xq,{children:k.jsx(LQ,{children:k.jsx(WLe,{})})})}));
