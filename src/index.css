@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   COLOR TOKENS
========================= */
:root {
  /* LIGHT — FUN LIKE ADAPTEDMIND */
  --bg-base: 102 204 255;   /* sky blue */
  --blob1: 0 220 130;       /* green */
  --blob2: 255 200 60;      /* yellow */
  --blob3: 170 90 255;      /* purple */

  --panel: 255 255 255;
  --panel2: 245 248 252;

  --text: 15 25 45;
}

[data-theme="dark"] {
  /* DARK — FUN, NOT BLACK */
  --bg-base: 32 32 64;      /* deep indigo */
  --blob1: 0 230 140;       /* neon green */
  --blob2: 255 140 0;       /* orange */
  --blob3: 200 120 255;     /* purple */

  --panel: 40 40 70;
  --panel2: 55 55 90;

  --text: 245 248 255;
}

/* =========================
   GLOBAL
========================= */
* {
  transition:
    background-color 260ms ease,
    color 260ms ease,
    border-color 260ms ease,
    box-shadow 260ms ease,
    transform 180ms ease;
}

html, body {
  height: 100%;
}

body {
  background: rgb(var(--bg-base));
  color: rgb(var(--text));
  overflow-x: hidden;
}

/* =========================
   ANIMATED BACKGROUND
========================= */
.adapted-bg {
  position: relative;
  min-height: 100vh;
  overflow: hidden;

  background: linear-gradient(
    120deg,
    rgb(var(--bg-base)) 0%,
    rgb(var(--blob1)) 35%,
    rgb(var(--blob2)) 65%,
    rgb(var(--blob3)) 100%
  );

  background-size: 300% 300%;
  animation: bgShift 18s ease-in-out infinite;
}

/* FLOATING BLOBS */
.shape {
  position: absolute;
  border-radius: 45% 55% 60% 40%;
  opacity: 0.75;
  filter: blur(6px);
  animation: floatShape linear infinite;
}

.shape.one {
  width: 420px;
  height: 420px;
  background: rgb(var(--blob1));
  top: -120px;
  left: -120px;
  animation-duration: 22s;
}

.shape.two {
  width: 520px;
  height: 520px;
  background: rgb(var(--blob2));
  bottom: -180px;
  right: -180px;
  animation-duration: 26s;
}

.shape.three {
  width: 360px;
  height: 360px;
  background: rgb(var(--blob3));
  top: 40%;
  left: 65%;
  animation-duration: 30s;
}

@keyframes bgShift {
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes floatShape {
  0%   { transform: translateY(0) rotate(0deg); }
  50%  { transform: translateY(-60px) rotate(180deg); }
  100% { transform: translateY(0) rotate(360deg); }
}

/* =========================
   GRAIN
========================= */
.grain {
  pointer-events: none;
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.10'/%3E%3C/svg%3E");
  opacity: 0.18;
  mix-blend-mode: overlay;
}

/* =========================
   PANELS (FIXED)
========================= */
.panel {
  background: rgba(255, 255, 255, 0.28);
  backdrop-filter: blur(22px);
  -webkit-backdrop-filter: blur(22px);

  color: rgb(var(--text));
  box-shadow:
    0 20px 50px rgba(0,0,0,0.25),
    inset 0 0 0 1px rgba(255,255,255,0.35);
}

[data-theme="dark"] .panel {
  background: rgba(20, 20, 40, 0.42);
  color: rgb(var(--text));
  box-shadow:
    0 20px 60px rgba(0,0,0,0.6),
    inset 0 0 0 1px rgba(255,255,255,0.18);
}

/* =========================
   NEON STROKE (FIXED)
========================= */
.stroke {
  position: relative;
}

.stroke::after {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  padding: 1px;

  background: linear-gradient(
    90deg,
    rgba(var(--blob1),0.55),
    rgba(var(--blob2),0.55),
    rgba(var(--blob3),0.55)
  );

  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;

  pointer-events: none;
  opacity: 0.6;
}

/* =========================
   REDUCED MOTION
========================= */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; }
  .adapted-bg { animation: none !important; }
  .shape { animation: none !important; }
}
